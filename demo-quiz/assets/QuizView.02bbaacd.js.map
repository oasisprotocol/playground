{"version":3,"file":"QuizView.02bbaacd.js","sources":["../../src/components/SuccessIcon.vue","../../src/components/CheckedIcon.vue","../../src/components/UncheckedIcon.vue","../../../node_modules/.pnpm/vue-content-loader@2.0.1_vue@3.2.45/node_modules/vue-content-loader/dist/vue-content-loader.es.js","../../src/views/QuizView.vue"],"sourcesContent":["<template>\n  <svg width=\"97\" height=\"96\" viewBox=\"0 0 97 96\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_35_4428)\">\n      <path\n        d=\"M48.5 8C26.42 8 8.5 25.92 8.5 48C8.5 70.08 26.42 88 48.5 88C70.58 88 88.5 70.08 88.5 48C88.5 25.92 70.58 8 48.5 8ZM40.5 68L20.5 48L26.14 42.36L40.5 56.68L70.86 26.32L76.5 32L40.5 68Z\"\n        fill=\"#6efffa\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_35_4428\">\n        <rect width=\"96\" height=\"96\" fill=\"white\" transform=\"translate(0.5)\" />\n      </clipPath>\n    </defs>\n  </svg>\n</template>\n\n<script setup lang=\"ts\"></script>\n\n<style scoped lang=\"postcss\"></style>\n","<template>\n  <svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_56_971)\">\n      <path\n        d=\"M12 7.1333C9.24 7.1333 7 9.3733 7 12.1333C7 14.8933 9.24 17.1333 12 17.1333C14.76 17.1333 17 14.8933 17 12.1333C17 9.3733 14.76 7.1333 12 7.1333ZM12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z\"\n        fill=\"currentColor\"\n      />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_56_971\">\n        <rect width=\"24\" height=\"24\" fill=\"white\" transform=\"translate(0 0.133301)\" />\n      </clipPath>\n    </defs>\n  </svg>\n</template>\n\n<script setup lang=\"ts\"></script>\n\n<style scoped lang=\"postcss\"></style>\n","<template>\n  <svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_56_273)\">\n      <path d=\"M12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z\" fill=\"currentColor\"/>\n    </g>\n    <defs>\n      <clipPath id=\"clip0_56_273\">\n        <rect width=\"24\" height=\"24\" fill=\"white\" transform=\"translate(0 0.133301)\"/>\n      </clipPath>\n    </defs>\n  </svg>\n</template>\n\n<script setup lang=\"ts\"></script>\n\n<style scoped lang=\"postcss\"></style>\n","import { defineComponent, computed, createVNode, mergeProps } from 'vue';\n\nvar uid = (function () {\n  return Math.random().toString(36).substring(2);\n});\n\nvar ContentLoader = defineComponent({\n  name: 'ContentLoader',\n  props: {\n    width: {\n      type: [Number, String]\n    },\n    height: {\n      type: [Number, String]\n    },\n    viewBox: {\n      type: String\n    },\n    preserveAspectRatio: {\n      type: String,\n      \"default\": 'xMidYMid meet'\n    },\n    speed: {\n      type: Number,\n      \"default\": 2\n    },\n    baseUrl: {\n      type: String,\n      \"default\": ''\n    },\n    primaryColor: {\n      type: String,\n      \"default\": '#f9f9f9'\n    },\n    secondaryColor: {\n      type: String,\n      \"default\": '#ecebeb'\n    },\n    primaryOpacity: {\n      type: Number,\n      \"default\": 1\n    },\n    secondaryOpacity: {\n      type: Number,\n      \"default\": 1\n    },\n    uniqueKey: {\n      type: String\n    },\n    animate: {\n      type: Boolean,\n      \"default\": true\n    }\n  },\n  setup: function setup(props) {\n    var idClip = computed(function () {\n      return props.uniqueKey ? \"\".concat(props.uniqueKey, \"-idClip\") : uid();\n    });\n    var idGradient = computed(function () {\n      return props.uniqueKey ? \"\".concat(props.uniqueKey, \"-idGradient\") : uid();\n    });\n    var width = computed(function () {\n      var _a;\n\n      return (_a = props.width) !== null && _a !== void 0 ? _a : 400;\n    });\n    var height = computed(function () {\n      var _a;\n\n      return (_a = props.height) !== null && _a !== void 0 ? _a : 130;\n    });\n    var computedViewBox = computed(function () {\n      var _a;\n\n      return (_a = props.viewBox) !== null && _a !== void 0 ? _a : \"0 0 \".concat(width.value, \" \").concat(height.value);\n    });\n    return {\n      idClip: idClip,\n      idGradient: idGradient,\n      computedViewBox: computedViewBox\n    };\n  },\n  render: function render() {\n    return createVNode(\"svg\", {\n      \"width\": this.width,\n      \"height\": this.height,\n      \"viewBox\": this.computedViewBox,\n      \"version\": \"1.1\",\n      \"preserveAspectRatio\": this.preserveAspectRatio\n    }, [createVNode(\"rect\", {\n      \"style\": {\n        fill: \"url(\".concat(this.baseUrl, \"#\").concat(this.idGradient, \")\")\n      },\n      \"clip-path\": \"url(\".concat(this.baseUrl, \"#\").concat(this.idClip, \")\"),\n      \"x\": \"0\",\n      \"y\": \"0\",\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }, null), createVNode(\"defs\", null, [createVNode(\"clipPath\", {\n      \"id\": this.idClip\n    }, [this.$slots[\"default\"] ? this.$slots[\"default\"]() : createVNode(\"rect\", {\n      \"x\": \"0\",\n      \"y\": \"0\",\n      \"rx\": \"5\",\n      \"ry\": \"5\",\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }, null)]), createVNode(\"linearGradient\", {\n      \"id\": this.idGradient\n    }, [createVNode(\"stop\", {\n      \"offset\": \"0%\",\n      \"stop-color\": this.primaryColor,\n      \"stop-opacity\": this.primaryOpacity\n    }, [this.animate ? createVNode(\"animate\", {\n      \"attributeName\": \"offset\",\n      \"values\": \"-2; 1\",\n      \"dur\": \"\".concat(this.speed, \"s\"),\n      \"repeatCount\": \"indefinite\"\n    }, null) : null]), createVNode(\"stop\", {\n      \"offset\": \"50%\",\n      \"stop-color\": this.secondaryColor,\n      \"stop-opacity\": this.secondaryOpacity\n    }, [this.animate ? createVNode(\"animate\", {\n      \"attributeName\": \"offset\",\n      \"values\": \"-1.5; 1.5\",\n      \"dur\": \"\".concat(this.speed, \"s\"),\n      \"repeatCount\": \"indefinite\"\n    }, null) : null]), createVNode(\"stop\", {\n      \"offset\": \"100%\",\n      \"stop-color\": this.primaryColor,\n      \"stop-opacity\": this.primaryOpacity\n    }, [this.animate ? createVNode(\"animate\", {\n      \"attributeName\": \"offset\",\n      \"values\": \"-1; 2\",\n      \"dur\": \"\".concat(this.speed, \"s\"),\n      \"repeatCount\": \"indefinite\"\n    }, null) : null])])])]);\n  }\n});\n\nvar BulletListLoader = defineComponent(function (props, _a) {\n  var attrs = _a.attrs;\n  return function () {\n    return createVNode(ContentLoader, attrs, {\n      \"default\": function _default() {\n        return [createVNode(\"circle\", {\n          \"cx\": \"10\",\n          \"cy\": \"20\",\n          \"r\": \"8\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"25\",\n          \"y\": \"15\",\n          \"rx\": \"5\",\n          \"ry\": \"5\",\n          \"width\": \"220\",\n          \"height\": \"10\"\n        }, null), createVNode(\"circle\", {\n          \"cx\": \"10\",\n          \"cy\": \"50\",\n          \"r\": \"8\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"25\",\n          \"y\": \"45\",\n          \"rx\": \"5\",\n          \"ry\": \"5\",\n          \"width\": \"220\",\n          \"height\": \"10\"\n        }, null), createVNode(\"circle\", {\n          \"cx\": \"10\",\n          \"cy\": \"80\",\n          \"r\": \"8\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"25\",\n          \"y\": \"75\",\n          \"rx\": \"5\",\n          \"ry\": \"5\",\n          \"width\": \"220\",\n          \"height\": \"10\"\n        }, null), createVNode(\"circle\", {\n          \"cx\": \"10\",\n          \"cy\": \"110\",\n          \"r\": \"8\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"25\",\n          \"y\": \"105\",\n          \"rx\": \"5\",\n          \"ry\": \"5\",\n          \"width\": \"220\",\n          \"height\": \"10\"\n        }, null)];\n      }\n    });\n  };\n});\n\nvar CodeLoader = defineComponent(function (props, _a) {\n  var attrs = _a.attrs;\n  return function () {\n    return createVNode(ContentLoader, attrs, {\n      \"default\": function _default() {\n        return [createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"0\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"70\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"80\",\n          \"y\": \"0\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"100\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"190\",\n          \"y\": \"0\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"10\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"15\",\n          \"y\": \"20\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"130\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"155\",\n          \"y\": \"20\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"130\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"15\",\n          \"y\": \"40\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"90\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"115\",\n          \"y\": \"40\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"60\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"185\",\n          \"y\": \"40\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"60\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"60\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"30\",\n          \"height\": \"10\"\n        }, null)];\n      }\n    });\n  };\n});\n\nvar FacebookLoader = defineComponent(function (props, _a) {\n  var attrs = _a.attrs;\n  return function () {\n    return createVNode(ContentLoader, attrs, {\n      \"default\": function _default() {\n        return [createVNode(\"rect\", {\n          \"x\": \"70\",\n          \"y\": \"15\",\n          \"rx\": \"4\",\n          \"ry\": \"4\",\n          \"width\": \"117\",\n          \"height\": \"6.4\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"70\",\n          \"y\": \"35\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"85\",\n          \"height\": \"6.4\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"80\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"350\",\n          \"height\": \"6.4\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"100\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"380\",\n          \"height\": \"6.4\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"120\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"201\",\n          \"height\": \"6.4\"\n        }, null), createVNode(\"circle\", {\n          \"cx\": \"30\",\n          \"cy\": \"30\",\n          \"r\": \"30\"\n        }, null)];\n      }\n    });\n  };\n});\n\nvar ListLoader = defineComponent(function (props, _a) {\n  var attrs = _a.attrs;\n  return function () {\n    return createVNode(ContentLoader, attrs, {\n      \"default\": function _default() {\n        return [createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"0\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"250\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"20\",\n          \"y\": \"20\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"220\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"20\",\n          \"y\": \"40\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"170\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"60\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"250\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"20\",\n          \"y\": \"80\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"200\",\n          \"height\": \"10\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"20\",\n          \"y\": \"100\",\n          \"rx\": \"3\",\n          \"ry\": \"3\",\n          \"width\": \"80\",\n          \"height\": \"10\"\n        }, null)];\n      }\n    });\n  };\n});\n\nvar InstagramLoader = defineComponent(function (props, _a) {\n  var attrs = _a.attrs;\n  return function () {\n    return createVNode(ContentLoader, mergeProps(attrs, {\n      \"viewBox\": \"0 0 400 480\"\n    }), {\n      \"default\": function _default() {\n        return [createVNode(\"circle\", {\n          \"cx\": \"30\",\n          \"cy\": \"30\",\n          \"r\": \"30\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"75\",\n          \"y\": \"13\",\n          \"rx\": \"4\",\n          \"ry\": \"4\",\n          \"width\": \"100\",\n          \"height\": \"13\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"75\",\n          \"y\": \"37\",\n          \"rx\": \"4\",\n          \"ry\": \"4\",\n          \"width\": \"50\",\n          \"height\": \"8\"\n        }, null), createVNode(\"rect\", {\n          \"x\": \"0\",\n          \"y\": \"70\",\n          \"rx\": \"5\",\n          \"ry\": \"5\",\n          \"width\": \"400\",\n          \"height\": \"400\"\n        }, null)];\n      }\n    });\n  };\n});\n\nexport { BulletListLoader, CodeLoader, ContentLoader, FacebookLoader, InstagramLoader, ListLoader };\n","<script setup lang=\"ts\">\nimport {type BytesLike, ethers} from 'ethers';\nimport { computed, onMounted, ref } from 'vue';\n\nimport { useQuiz } from '../contracts';\nimport { Network, useEthereumStore } from '../stores/ethereum';\nimport AppButton from '@/components/AppButton.vue';\nimport SuccessInfo from '@/components/SuccessInfo.vue';\nimport CheckIcon from '@/components/CheckIcon.vue';\nimport CheckedIcon from '@/components/CheckedIcon.vue';\nimport UncheckedIcon from '@/components/UncheckedIcon.vue';\nimport QuizDetailsLoader from '@/components/QuizDetailsLoader.vue';\nimport {retry} from \"@/utils/promise\";\n\nconst props = defineProps<{ coupon: string }>();\n\nconst quiz = useQuiz();\nconst eth = useEthereumStore();\n\nconst errors = ref<string[]>([]);\nconst isLoading = ref(false);\nconst isCheckingAnswers = ref<Boolean>(false);\nconst isClaimingReward = ref<Boolean>(false);\nconst questions = ref<Question[]>([]);\nconst selectedChoices = ref<bigint[]>([]);\nconst allQuestionsAnswered = ref<Boolean>(false);\nconst correctVector = ref<boolean[]>([]);\nconst address = ref('');\n\nconst couponValid = ref<Boolean>(false);\nconst answersChecked = ref<Boolean>(false);\nconst answersCorrect = ref<Boolean>(false);\nconst isReward = ref<Boolean>(false);\nconst rewardClaimed = ref<Boolean>(false);\n\ninterface Questions {\n  questions: Question[];\n}\n\ninterface Question {\n  question: string;\n  choices: string[];\n}\n\nfunction handleError(error: Error, errorMessage: string) {\n  errors.value = Array();\n  errors.value.push(`${errorMessage}`);\n  console.error(error);\n}\n\nasync function onChoiceClick(qId: number, choiceId: number): Promise<void> {\n  selectedChoices.value[qId] = BigInt(choiceId);\n\n  let allAns = true\n  for (let i=0; i<selectedChoices.value.length; i++) {\n    if (selectedChoices.value[i]===undefined) {\n      allAns = false;\n      break;\n    }\n  }\n  allQuestionsAnswered.value = allAns;\n}\n\nasync function doCheckAnswers(): Promise<void> {\n  const [cv, gaslessTx] = await quiz.value!.checkAnswers(\n    props.coupon,\n    selectedChoices.value,\n    ethers.ZeroAddress\n  );\n  let allCorrect = true;\n  for (let i = 0; i < cv.length; i++) {\n    if (!cv[i]) {\n      allCorrect = false;\n      break;\n    }\n  }\n  answersChecked.value = true;\n  answersCorrect.value = allCorrect;\n  correctVector.value = cv;\n}\n\nasync function fetchQuestions(): Promise<void> {\n  try {\n    isLoading.value = true;\n    questions.value = await quiz.value!.getQuestions(props.coupon);\n    isReward.value = await quiz.value!.isReward();\n    selectedChoices.value = Array(questions.value.length); // prepare an array of undefined values until the answer is selected.\n    couponValid.value = true;\n  } catch(e) {\n    handleError(e as Error, 'Coupon not valid');\n  } finally {\n    isLoading.value = false;\n  }\n}\n\nasync function claimReward(e: Event): Promise<void> {\n  if (e.target instanceof HTMLFormElement) {\n    e.target.checkValidity();\n    if (!e.target.reportValidity()) return;\n  }\n\n  e.preventDefault();\n\n  const TIMEOUT_LIMIT = 100;\n  let timeout = 0;\n  while (!rewardClaimed.value && timeout < TIMEOUT_LIMIT) {\n    try {\n      isClaimingReward.value = true;\n      console.log(address.value);\n      const [cv, gaslessTx] = await quiz.value!.checkAnswers(\n        props.coupon,\n        selectedChoices.value,\n        ethers.getAddress(address.value),\n      );\n      console.log(cv);\n      console.log(gaslessTx);\n      let receipt = await (await eth.provider.broadcastTransaction(gaslessTx)).wait(); // gasless version\n      //let receipt = await (await quiz.value!.claimReward(gaslessTx)).wait(); // standard version\n      console.log('receipt.status: ' + receipt!.status);\n      if (receipt!.status == 1) {\n        rewardClaimed.value = true\n      }\n    } catch (e: any) {\n      if (++timeout == TIMEOUT_LIMIT) {\n        handleError(e, 'Error while claiming the reward');\n      }\n    }\n  }\n  isClaimingReward.value = false;\n}\n\nasync function checkAnswers(e: Event): Promise<void> {\n  e.preventDefault();\n  try {\n    isCheckingAnswers.value = true;\n    await doCheckAnswers();\n  } catch (e: any) {\n    handleError(e.reason, e.message);\n  } finally {\n    isCheckingAnswers.value = false;\n  }\n}\n\nonMounted(async () => {\n  await fetchQuestions();\n});\n</script>\n\n<template>\n  <div v-if=\"errors.length > 0\" class=\"text-red-500 px-3 mt-5 rounded-xl-sm\">\n    <span class=\"font-bold\">Error:</span>\n    <div v-for=\"error in errors\" :key=\"error\">{{ error }}</div>\n  </div>\n  <section v-if=\"couponValid && !answersCorrect\">\n    <div v-if=\"questions\">\n      <form @submit=\"checkAnswers\">\n        <fieldset\n            class=\"mb-5\"\n            v-for=\"[qId, question] in Object.entries(questions)\"\n            :key=\"qId\"\n        >\n          <p style=\"cursor:default\" class=\"text-white text-base mb-5\">{{parseInt(qId)+1}}. {{question.question}}\n            <span v-if=\"answersChecked\">\n              <span v-if=\"correctVector[parseInt(qId)]\">✅</span>\n              <span v-if=\"!correctVector[parseInt(qId)]\">❌</span>\n            </span>\n          </p>\n          <AppButton\n              v-for=\"(choice, choiceId) in question.choices\"\n              :key=\"choiceId\"\n              :class=\"{\n              selected: selectedChoices[parseInt(qId)] === BigInt(choiceId),\n              'pointer-events-none': isLoading,\n            }\"\n              class=\"choice-btn mb-2 w-full\"\n              variant=\"choice\"\n              @click=\"onChoiceClick(parseInt(qId), choiceId)\"\n          >\n            <span class=\"flex gap-2\">\n              <div class=\"align-middle\">\n                <CheckedIcon v-if=\"selectedChoices[parseInt(qId)] === BigInt(choiceId)\" />\n                <UncheckedIcon v-else />\n              </div>\n              <span class=\"leading-6 normal-case text-left\">{{ choice }}</span>\n            </span>\n          </AppButton>\n        </fieldset>\n\n        <div v-if=\"errors.length > 0\" class=\"text-red-500 px-3 mt-5 rounded-xl-sm\">\n          <span class=\"font-bold\">Error:</span>\n          <div v-for=\"error in errors\" :key=\"error\">{{ error }}</div>\n        </div>\n        <div class=\"flex justify-between items-start mt-6 mb-20\">\n          <AppButton\n            type=\"submit\"\n            variant=\"primary\"\n            :disabled=\"isLoading || !allQuestionsAnswered\"\n            @click=\"checkAnswers\"\n          >\n            <span v-if=\"isCheckingAnswers\">Checking answers…</span>\n            <span v-else>Check my answers</span>\n          </AppButton>\n        </div>\n      </form>\n    </div>\n\n    <QuizDetailsLoader v-else />\n  </section>\n  <section class=\"pt-5\"  v-if=\"answersCorrect && !rewardClaimed\">\n    <SuccessInfo>\n      <h2 class=\"text-2xl text-white text-base mb-5 mt-10\">You Solved the Quiz!</h2>\n    </SuccessInfo>\n\n    <section v-if=\"isReward\">\n      <p class=\"text-white text-base mb-5 mt-10\">\n        To claim the reward, enter your account address below.\n        You will receive ROSE on the <a href=\"https://docs.oasis.io/dapp/sapphire/#chain-information\" target=\"_blank\">Oasis Sapphire Mainnet</a> chain.\n      </p>\n      <form @submit=\"claimReward\">\n        <div class=\"form-group\">\n          <input\n              type=\"text\"\n              id=\"addressText\"\n              class=\"peer\"\n              placeholder=\" \"\n              v-model=\"address\"\n              pattern=\"^(0x)?[0-9a-fA-F]{40}$\"\n              required\n          />\n          <label\n              for=\"addressText\"\n              class=\"peer-focus:text-primaryDark peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-5\"\n          >\n            Your address (0x...):\n            <span class=\"text-red-500\">*</span>\n          </label>\n        </div>\n\n        <AppButton class=\"mb-20 no-capitalize\" type=\"submit\" variant=\"primary\" :disabled=\"isClaimingReward\">\n          <span class=\"normal-case\" v-if=\"isClaimingReward\">Generating transaction and sending reward…</span>\n          <span class=\"normal-case\" v-else>Claim your reward</span>\n        </AppButton>\n      </form>\n    </section>\n  </section>\n  <section v-if=\"rewardClaimed\">\n    <SuccessInfo class=\"mb-20\">\n      <h3 class=\"text-white text-3xl mb-10\">Reward claimed!</h3>\n      <p class=\"text-white\">\n        Check out our <a href=\"https://docs.oasis.io/dapp/sapphire/quickstart\" target=\"_blank\">Oasis Sapphire quickstart</a> and start building!\n      </p>\n      <p class=\"text-white\">\n        If you need help, contact us on the Oasis <a href=\"https://oasis.io/discord\" target=\"_blank\">#dev-central Discord channel</a>.\n      </p>\n    </SuccessInfo>\n  </section>\n</template>\n\n<style lang=\"postcss\" scoped>\n.error {\n  @apply text-red-500;\n}\n</style>\n"],"names":["_hoisted_1","_createElementVNode","_hoisted_4","_hoisted_2","_sfc_render","_ctx","_cache","uid","ContentLoader","defineComponent","props","idClip","computed","idGradient","width","_a","height","computedViewBox","createVNode","attrs","mergeProps","quiz","useQuiz","eth","useEthereumStore","errors","ref","isLoading","isCheckingAnswers","isClaimingReward","questions","selectedChoices","allQuestionsAnswered","correctVector","address","couponValid","answersChecked","answersCorrect","isReward","rewardClaimed","handleError","error","errorMessage","onChoiceClick","qId","choiceId","allAns","i","doCheckAnswers","cv","gaslessTx","ethers.ZeroAddress","allCorrect","fetchQuestions","e","claimReward","TIMEOUT_LIMIT","timeout","ethers.getAddress","receipt","checkAnswers","onMounted"],"mappings":"iQACOA,GAAU,CAAC,WAAY,YAAoB,QAAW,YAAC,mDAKtDC,EAAA,IAAA,CAAA,YAAA,qBAAA,EAAA,CAF0LA,EAAA,OAAA,CAC1L,EAAA,kNAMSA,EAFC,OAAgB,KAAA,GAC6C,WAAA,CAAA,GAAA,eAAA,EAAA,CAAvDA,EAAA,OAAA,CAAC,WAAY,OAAY,KAAC,KAAA,4CAH1CC,GAAA,CACJC,OAPF,SAAAC,GAAAC,EAAAC,EAAA,0QCAKN,GAAU,CAAC,WAAY,YAAoB,QAAW,YAAC,mDAKtDC,EAAA,IAAA,CAAA,YAAA,oBAAA,EAAA,CAFwbA,EAAA,OAAA,CACxb,EAAA,qdAMSA,EAFC,OAAe,KAAA,GACqD,WAAA,CAAA,GAAA,cAAA,EAAA,CAA9DA,EAAA,OAAA,CAAC,WAAY,OAAY,KAAC,KAAA,mDAH1CC,GAAA,CACJC,OAPF,SAAAC,GAAAC,EAAAC,EAAA,gECAKN,GAAU,CAAC,WAAY,YAAoB,QAAW,YAAC,mDAE2QC,EAAA,IAAA,CAAA,YAAA,oBAAA,EAAA,CAAtBA,EAAA,OAAA,CAAC,EAAA,oUAKnSA,EAFC,OAAe,KAAA,GACoD,WAAA,CAAA,GAAA,cAAA,EAAA,CAA7DA,EAAA,OAAA,CAAC,WAAY,OAAY,KAAC,KAAA,mDAH1CC,GAAA,CACJC,OAJF,SAAAC,GAAAC,EAAAC,EAAA,0DCCF,IAAIC,EAAO,UAAY,CACrB,OAAO,KAAK,SAAS,SAAS,EAAE,EAAE,UAAU,CAAC,CAC/C,EAEIC,EAAgBC,EAAgB,CAClC,KAAM,gBACN,MAAO,CACL,MAAO,CACL,KAAM,CAAC,OAAQ,MAAM,CACtB,EACD,OAAQ,CACN,KAAM,CAAC,OAAQ,MAAM,CACtB,EACD,QAAS,CACP,KAAM,MACP,EACD,oBAAqB,CACnB,KAAM,OACN,QAAW,eACZ,EACD,MAAO,CACL,KAAM,OACN,QAAW,CACZ,EACD,QAAS,CACP,KAAM,OACN,QAAW,EACZ,EACD,aAAc,CACZ,KAAM,OACN,QAAW,SACZ,EACD,eAAgB,CACd,KAAM,OACN,QAAW,SACZ,EACD,eAAgB,CACd,KAAM,OACN,QAAW,CACZ,EACD,iBAAkB,CAChB,KAAM,OACN,QAAW,CACZ,EACD,UAAW,CACT,KAAM,MACP,EACD,QAAS,CACP,KAAM,QACN,QAAW,EACZ,CACF,EACD,MAAO,SAAeC,EAAO,CAC3B,IAAIC,EAASC,EAAS,UAAY,CAChC,OAAOF,EAAM,UAAY,GAAG,OAAOA,EAAM,UAAW,SAAS,EAAIH,GACvE,CAAK,EACGM,EAAaD,EAAS,UAAY,CACpC,OAAOF,EAAM,UAAY,GAAG,OAAOA,EAAM,UAAW,aAAa,EAAIH,GAC3E,CAAK,EACGO,EAAQF,EAAS,UAAY,CAC/B,IAAIG,EAEJ,OAAQA,EAAKL,EAAM,SAAW,MAAQK,IAAO,OAASA,EAAK,GACjE,CAAK,EACGC,EAASJ,EAAS,UAAY,CAChC,IAAIG,EAEJ,OAAQA,EAAKL,EAAM,UAAY,MAAQK,IAAO,OAASA,EAAK,GAClE,CAAK,EACGE,EAAkBL,EAAS,UAAY,CACzC,IAAIG,EAEJ,OAAQA,EAAKL,EAAM,WAAa,MAAQK,IAAO,OAASA,EAAK,OAAO,OAAOD,EAAM,MAAO,GAAG,EAAE,OAAOE,EAAO,KAAK,CACtH,CAAK,EACD,MAAO,CACL,OAAQL,EACR,WAAYE,EACZ,gBAAiBI,CACvB,CACG,EACD,OAAQ,UAAkB,CACxB,OAAOC,EAAY,MAAO,CACxB,MAAS,KAAK,MACd,OAAU,KAAK,OACf,QAAW,KAAK,gBAChB,QAAW,MACX,oBAAuB,KAAK,mBAClC,EAAO,CAACA,EAAY,OAAQ,CACtB,MAAS,CACP,KAAM,OAAO,OAAO,KAAK,QAAS,GAAG,EAAE,OAAO,KAAK,WAAY,GAAG,CACnE,EACD,YAAa,OAAO,OAAO,KAAK,QAAS,GAAG,EAAE,OAAO,KAAK,OAAQ,GAAG,EACrE,EAAK,IACL,EAAK,IACL,MAAS,OACT,OAAU,MAChB,EAAO,IAAI,EAAGA,EAAY,OAAQ,KAAM,CAACA,EAAY,WAAY,CAC3D,GAAM,KAAK,MACZ,EAAE,CAAC,KAAK,OAAO,QAAa,KAAK,OAAO,QAAU,EAAKA,EAAY,OAAQ,CAC1E,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,MAAS,OACT,OAAU,MACX,EAAE,IAAI,CAAC,CAAC,EAAGA,EAAY,iBAAkB,CACxC,GAAM,KAAK,UACjB,EAAO,CAACA,EAAY,OAAQ,CACtB,OAAU,KACV,aAAc,KAAK,aACnB,eAAgB,KAAK,cACtB,EAAE,CAAC,KAAK,QAAUA,EAAY,UAAW,CACxC,cAAiB,SACjB,OAAU,QACV,IAAO,GAAG,OAAO,KAAK,MAAO,GAAG,EAChC,YAAe,YAChB,EAAE,IAAI,EAAI,IAAI,CAAC,EAAGA,EAAY,OAAQ,CACrC,OAAU,MACV,aAAc,KAAK,eACnB,eAAgB,KAAK,gBACtB,EAAE,CAAC,KAAK,QAAUA,EAAY,UAAW,CACxC,cAAiB,SACjB,OAAU,YACV,IAAO,GAAG,OAAO,KAAK,MAAO,GAAG,EAChC,YAAe,YAChB,EAAE,IAAI,EAAI,IAAI,CAAC,EAAGA,EAAY,OAAQ,CACrC,OAAU,OACV,aAAc,KAAK,aACnB,eAAgB,KAAK,cACtB,EAAE,CAAC,KAAK,QAAUA,EAAY,UAAW,CACxC,cAAiB,SACjB,OAAU,QACV,IAAO,GAAG,OAAO,KAAK,MAAO,GAAG,EAChC,YAAe,YACrB,EAAO,IAAI,EAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACvB,CACH,CAAC,EAEsBT,EAAgB,SAAUC,EAAOK,EAAI,CAC1D,IAAII,EAAQJ,EAAG,MACf,OAAO,UAAY,CACjB,OAAOG,EAAYV,EAAeW,EAAO,CACvC,QAAW,UAAoB,CAC7B,MAAO,CAACD,EAAY,SAAU,CAC5B,GAAM,KACN,GAAM,KACN,EAAK,GACf,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,SAAU,CAC9B,GAAM,KACN,GAAM,KACN,EAAK,GACf,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,SAAU,CAC9B,GAAM,KACN,GAAM,KACN,EAAK,GACf,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,SAAU,CAC9B,GAAM,KACN,GAAM,MACN,EAAK,GACf,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,MACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,CAAC,CACT,CACP,CAAK,CACL,CACA,CAAC,EAEgBT,EAAgB,SAAUC,EAAOK,EAAI,CACpD,IAAII,EAAQJ,EAAG,MACf,OAAO,UAAY,CACjB,OAAOG,EAAYV,EAAeW,EAAO,CACvC,QAAW,UAAoB,CAC7B,MAAO,CAACD,EAAY,OAAQ,CAC1B,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,MACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,MACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,MACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,MACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,IACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,IACpB,EAAW,IAAI,CAAC,CACT,CACP,CAAK,CACL,CACA,CAAC,EAEoBT,EAAgB,SAAUC,EAAOK,EAAI,CACxD,IAAII,EAAQJ,EAAG,MACf,OAAO,UAAY,CACjB,OAAOG,EAAYV,EAAeW,EAAO,CACvC,QAAW,UAAoB,CAC7B,MAAO,CAACD,EAAY,OAAQ,CAC1B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,KACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,KACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,IACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,KACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,IACL,EAAK,MACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,KACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,IACL,EAAK,MACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,KACpB,EAAW,IAAI,EAAGA,EAAY,SAAU,CAC9B,GAAM,KACN,GAAM,KACN,EAAK,IACf,EAAW,IAAI,CAAC,CACT,CACP,CAAK,CACL,CACA,CAAC,EAEgBT,EAAgB,SAAUC,EAAOK,EAAI,CACpD,IAAII,EAAQJ,EAAG,MACf,OAAO,UAAY,CACjB,OAAOG,EAAYV,EAAeW,EAAO,CACvC,QAAW,UAAoB,CAC7B,MAAO,CAACD,EAAY,OAAQ,CAC1B,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,IACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,MACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,IACpB,EAAW,IAAI,CAAC,CACT,CACP,CAAK,CACL,CACA,CAAC,EAEqBT,EAAgB,SAAUC,EAAOK,EAAI,CACzD,IAAII,EAAQJ,EAAG,MACf,OAAO,UAAY,CACjB,OAAOG,EAAYV,EAAeY,EAAWD,EAAO,CAClD,QAAW,aACjB,CAAK,EAAG,CACF,QAAW,UAAoB,CAC7B,MAAO,CAACD,EAAY,SAAU,CAC5B,GAAM,KACN,GAAM,KACN,EAAK,IACf,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,IACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,KACT,OAAU,GACpB,EAAW,IAAI,EAAGA,EAAY,OAAQ,CAC5B,EAAK,IACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,MAAS,MACT,OAAU,KACpB,EAAW,IAAI,CAAC,CACT,CACP,CAAK,CACL,CACA,CAAC,+xECxYKG,EAAOC,IACPC,EAAMC,KAENC,EAASC,EAAc,CAAA,CAAE,EACzBC,EAAYD,EAAI,EAAK,EACrBE,EAAoBF,EAAa,EAAK,EACtCG,EAAmBH,EAAa,EAAK,EACrCI,EAAYJ,EAAgB,CAAA,CAAE,EAC9BK,EAAkBL,EAAc,CAAA,CAAE,EAClCM,EAAuBN,EAAa,EAAK,EACzCO,EAAgBP,EAAe,CAAA,CAAE,EACjCQ,EAAUR,EAAI,EAAE,EAEhBS,EAAcT,EAAa,EAAK,EAChCU,EAAiBV,EAAa,EAAK,EACnCW,EAAiBX,EAAa,EAAK,EACnCY,EAAWZ,EAAa,EAAK,EAC7Ba,EAAgBb,EAAa,EAAK,EAW/B,SAAAc,EAAYC,EAAcC,EAAsB,CACvDjB,EAAO,MAAQ,QACRA,EAAA,MAAM,KAAK,GAAGiB,GAAc,EACnC,QAAQ,MAAMD,CAAK,CACrB,CAEe,eAAAE,EAAcC,EAAaC,EAAiC,CACzDd,EAAA,MAAMa,GAAO,OAAOC,CAAQ,EAE5C,IAAIC,EAAS,GACb,QAASC,EAAE,EAAGA,EAAEhB,EAAgB,MAAM,OAAQgB,IACxC,GAAAhB,EAAgB,MAAMgB,KAAK,OAAW,CAC/BD,EAAA,GACT,KACF,CAEFd,EAAqB,MAAQc,CAC/B,CAEA,eAAeE,GAAgC,CAC7C,KAAM,CAACC,EAAIC,CAAS,EAAI,MAAM7B,EAAK,MAAO,aACxCX,EAAM,OACNqB,EAAgB,MAChBoB,EAAO,EAET,IAAIC,EAAa,GACjB,QAASL,EAAI,EAAGA,EAAIE,EAAG,OAAQF,IACzB,GAAA,CAACE,EAAGF,GAAI,CACGK,EAAA,GACb,KACF,CAEFhB,EAAe,MAAQ,GACvBC,EAAe,MAAQe,EACvBnB,EAAc,MAAQgB,CACxB,CAEA,eAAeI,GAAgC,CACzC,GAAA,CACF1B,EAAU,MAAQ,GAClBG,EAAU,MAAQ,MAAMT,EAAK,MAAO,aAAaX,EAAM,MAAM,EAC7D4B,EAAS,MAAQ,MAAMjB,EAAK,MAAO,SAAS,EAC5CU,EAAgB,MAAQ,MAAMD,EAAU,MAAM,MAAM,EACpDK,EAAY,MAAQ,SACdmB,GACNd,EAAYc,EAAY,kBAAkB,CAAA,QAC1C,CACA3B,EAAU,MAAQ,EACpB,CACF,CAEA,eAAe4B,EAAYD,EAAyB,CAC9C,GAAAA,EAAE,kBAAkB,kBACtBA,EAAE,OAAO,gBACL,CAACA,EAAE,OAAO,eAAe,GAAG,OAGlCA,EAAE,eAAe,EAEjB,MAAME,EAAgB,IACtB,IAAIC,EAAU,EACd,KAAO,CAAClB,EAAc,OAASkB,EAAUD,GACnC,GAAA,CACF3B,EAAiB,MAAQ,GACjB,QAAA,IAAIK,EAAQ,KAAK,EACzB,KAAM,CAACe,EAAIC,CAAS,EAAI,MAAM7B,EAAK,MAAO,aACxCX,EAAM,OACNqB,EAAgB,MAChB2B,GAAkBxB,EAAQ,KAAK,CAAA,EAEjC,QAAQ,IAAIe,CAAE,EACd,QAAQ,IAAIC,CAAS,EACjB,IAAAS,EAAU,MAAO,MAAMpC,EAAI,SAAS,qBAAqB2B,CAAS,GAAG,OAEjE,QAAA,IAAI,mBAAqBS,EAAS,MAAM,EAC5CA,EAAS,QAAU,IACrBpB,EAAc,MAAQ,UAEjBe,GACH,EAAEG,GAAWD,GACfhB,EAAYc,EAAG,iCAAiC,CAEpD,CAEFzB,EAAiB,MAAQ,EAC3B,CAEA,eAAe+B,EAAaN,EAAyB,CACnDA,EAAE,eAAe,EACb,GAAA,CACF1B,EAAkB,MAAQ,GAC1B,MAAMoB,EAAe,QACdM,GACKA,EAAAA,EAAE,OAAQA,EAAE,OAAO,CAAA,QAC/B,CACA1B,EAAkB,MAAQ,EAC5B,CACF,CAEA,OAAAiC,GAAU,SAAY,CACpB,MAAMR,EAAe,CAAA,CACtB"}