import{_ as M,o as s,c as n,a as t,d as _,b as e,r as H,e as $,m as J,f as A,w as C,u as W,g as X,h as ee,i as d,j as te,F as S,k as T,l as p,A as Q,n as se,v as re,p as ne,t as B,q as x,s as ae,x as ie,y as le,Z as oe}from"./index.8293549d.js";const ce={},ue={width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},de=t("g",{"clip-path":"url(#clip0_35_4428)"},[t("path",{d:"M48.5 8C26.42 8 8.5 25.92 8.5 48C8.5 70.08 26.42 88 48.5 88C70.58 88 88.5 70.08 88.5 48C88.5 25.92 70.58 8 48.5 8ZM40.5 68L20.5 48L26.14 42.36L40.5 56.68L70.86 26.32L76.5 32L40.5 68Z",fill:"#6efffa"})],-1),he=t("defs",null,[t("clipPath",{id:"clip0_35_4428"},[t("rect",{width:"96",height:"96",fill:"white",transform:"translate(0.5)"})])],-1),pe=[de,he];function _e(l,r){return s(),n("svg",ue,pe)}const fe=M(ce,[["render",_e]]),ye={class:"success-info"},ve=_({__name:"SuccessInfo",setup(l){return(r,i)=>(s(),n("div",ye,[e(fe,{class:"mb-4"}),H(r.$slots,"default",{},void 0,!0)]))}});const q=M(ve,[["__scopeId","data-v-23975bbd"]]),xe={},we={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ge=t("g",{"clip-path":"url(#clip0_56_971)"},[t("path",{d:"M12 7.1333C9.24 7.1333 7 9.3733 7 12.1333C7 14.8933 9.24 17.1333 12 17.1333C14.76 17.1333 17 14.8933 17 12.1333C17 9.3733 14.76 7.1333 12 7.1333ZM12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z",fill:"currentColor"})],-1),me=t("defs",null,[t("clipPath",{id:"clip0_56_971"},[t("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.133301)"})])],-1),Ce=[ge,me];function be(l,r){return s(),n("svg",we,Ce)}const ke=M(xe,[["render",be]]),$e={},Se={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Be=t("g",{"clip-path":"url(#clip0_56_273)"},[t("path",{d:"M12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z",fill:"currentColor"})],-1),Ae=t("defs",null,[t("clipPath",{id:"clip0_56_273"},[t("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.133301)"})])],-1),Me=[Be,Ae];function Ie(l,r){return s(),n("svg",Se,Me)}const Ve=M($e,[["render",Ie]]);var K=function(){return Math.random().toString(36).substring(2)},b=_({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(r){var i=$(function(){return r.uniqueKey?"".concat(r.uniqueKey,"-idClip"):K()}),f=$(function(){return r.uniqueKey?"".concat(r.uniqueKey,"-idGradient"):K()}),y=$(function(){var c;return(c=r.width)!==null&&c!==void 0?c:400}),m=$(function(){var c;return(c=r.height)!==null&&c!==void 0?c:130}),k=$(function(){var c;return(c=r.viewBox)!==null&&c!==void 0?c:"0 0 ".concat(y.value," ").concat(m.value)});return{idClip:i,idGradient:f,computedViewBox:k}},render:function(){return e("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[e("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),e("defs",null,[e("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():e("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),e("linearGradient",{id:this.idGradient},[e("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});_(function(l,r){var i=r.attrs;return function(){return e(b,i,{default:function(){return[e("circle",{cx:"10",cy:"20",r:"8"},null),e("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"},null),e("circle",{cx:"10",cy:"50",r:"8"},null),e("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"},null),e("circle",{cx:"10",cy:"80",r:"8"},null),e("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"},null),e("circle",{cx:"10",cy:"110",r:"8"},null),e("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"},null)]}})}});_(function(l,r){var i=r.attrs;return function(){return e(b,i,{default:function(){return[e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"},null),e("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"},null),e("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"},null),e("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),e("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),e("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"},null),e("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),e("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"},null)]}})}});_(function(l,r){var i=r.attrs;return function(){return e(b,i,{default:function(){return[e("rect",{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"},null),e("rect",{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"},null),e("rect",{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"},null),e("rect",{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"},null),e("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"},null),e("circle",{cx:"30",cy:"30",r:"30"},null)]}})}});_(function(l,r){var i=r.attrs;return function(){return e(b,i,{default:function(){return[e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null),e("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"},null),e("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"},null),e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null),e("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"},null),e("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"},null)]}})}});_(function(l,r){var i=r.attrs;return function(){return e(b,J(i,{viewBox:"0 0 400 480"}),{default:function(){return[e("circle",{cx:"30",cy:"30",r:"30"},null),e("rect",{x:"75",y:"13",rx:"4",ry:"4",width:"100",height:"13"},null),e("rect",{x:"75",y:"37",rx:"4",ry:"4",width:"50",height:"8"},null),e("rect",{x:"0",y:"70",rx:"5",ry:"5",width:"400",height:"400"},null)]}})}});const Le=t("rect",{x:"5",y:"10",rx:"3",ry:"3",width:"361",height:"28"},null,-1),Ne=t("rect",{x:"5",y:"26",rx:"3",ry:"3",width:"52",height:"6"},null,-1),Te=t("rect",{x:"5",y:"61",rx:"3",ry:"3",width:"410",height:"16"},null,-1),Oe=t("rect",{x:"680",y:"10",rx:"0",ry:"0",width:"80",height:"19"},null,-1),ze=_({__name:"QuizDetailsLoader",setup(l){return(r,i)=>(s(),A(W(b),{viewBox:"0 0 768 124",speed:2,primaryColor:"white",secondaryColor:"#e3e3e3"},{default:C(()=>[Le,Ne,Te,Oe]),_:1}))}}),w=l=>(ie("data-v-d157d3e1"),l=l(),le(),l),Ee={key:0,class:"text-red-500 px-3 mt-5 rounded-xl-sm"},Qe=w(()=>t("span",{class:"font-bold"},"Error:",-1)),Re={key:1},Ze={key:0},De={style:{cursor:"default"},class:"text-white text-base mb-5"},Ge={key:0},Ue={key:0},qe={key:1},Ke={class:"flex gap-2"},Pe={class:"align-middle"},Fe={class:"leading-6 normal-case text-left"},Ye={key:0,class:"text-red-500 px-3 mt-5 rounded-xl-sm"},je=w(()=>t("span",{class:"font-bold"},"Error:",-1)),He={class:"flex justify-between items-start mt-6 mb-20"},Je={key:0},We={key:1},Xe={key:2,class:"pt-5"},et=w(()=>t("h2",{class:"text-2xl text-white text-base mb-5 mt-10"},"You Solved the Quiz!",-1)),tt={key:0},st=w(()=>t("p",{class:"text-white text-base mb-5 mt-10"},[x(" To claim the reward, enter your account address below. You will receive ROSE on the "),t("a",{href:"https://docs.oasis.io/dapp/sapphire/#chain-information",target:"_blank"},"Oasis Sapphire Mainnet"),x(" chain. ")],-1)),rt={class:"form-group"},nt=w(()=>t("label",{for:"addressText",class:"peer-focus:text-primaryDark peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-5"},[x(" Your address (0x...): "),t("span",{class:"text-red-500"},"*")],-1)),at={key:0,class:"normal-case"},it={key:1,class:"normal-case"},lt={key:3},ot=w(()=>t("h3",{class:"text-white text-3xl mb-10"},"Reward claimed!",-1)),ct=w(()=>t("p",{class:"text-white"},[x(" Check out our "),t("a",{href:"https://docs.oasis.io/dapp/sapphire/quickstart",target:"_blank"},"Oasis Sapphire quickstart"),x(" and start building! ")],-1)),ut=w(()=>t("p",{class:"text-white"},[x(" If you need help, contact us on the Oasis "),t("a",{href:"https://oasis.io/discord",target:"_blank"},"#dev-central Discord channel"),x(". ")],-1)),dt=_({__name:"QuizView",props:{coupon:null},setup(l){const r=l,i=X(),f=ee(),y=d([]),m=d(!1),k=d(!1),c=d(!1),I=d([]),v=d([]),R=d(!1),O=d([]),V=d(""),Z=d(!1),D=d(!1),z=d(!1),G=d(!1),L=d(!1);function E(o,h){y.value=Array(),y.value.push(`${h}`),console.error(o)}async function P(o,h){v.value[o]=BigInt(h);let a=!0;for(let u=0;u<v.value.length;u++)if(v.value[u]===void 0){a=!1;break}R.value=a}async function F(){const[o,h]=await i.value.checkAnswers(r.coupon,v.value,oe);let a=!0;for(let u=0;u<o.length;u++)if(!o[u]){a=!1;break}D.value=!0,z.value=a,O.value=o}async function Y(){try{m.value=!0,I.value=await i.value.getQuestions(r.coupon),G.value=await i.value.isReward(),v.value=Array(I.value.length),Z.value=!0}catch(o){E(o,"Coupon not valid")}finally{m.value=!1}}async function j(o){if(o.target instanceof HTMLFormElement&&(o.target.checkValidity(),!o.target.reportValidity()))return;o.preventDefault();const h=100;let a=0;for(;!L.value&&a<h;)try{c.value=!0,console.log(V.value);const[u,N]=await i.value.checkAnswers(r.coupon,v.value,ne(V.value));console.log(u),console.log(N);let g=await(await f.provider.broadcastTransaction(N)).wait();console.log("receipt.status: "+g.status),g.status==1&&(L.value=!0)}catch(u){++a==h&&E(u,"Error while claiming the reward")}c.value=!1}async function U(o){o.preventDefault();try{k.value=!0,await F()}catch(h){E(h.reason,h.message)}finally{k.value=!1}}return te(async()=>{await Y()}),(o,h)=>(s(),n(S,null,[y.value.length>0?(s(),n("div",Ee,[Qe,(s(!0),n(S,null,T(y.value,a=>(s(),n("div",{key:a},B(a),1))),128))])):p("",!0),Z.value&&!z.value?(s(),n("section",Re,[I.value?(s(),n("div",Ze,[t("form",{onSubmit:U},[(s(!0),n(S,null,T(Object.entries(I.value),([a,u])=>(s(),n("fieldset",{class:"mb-5",key:a},[t("p",De,[x(B(parseInt(a)+1)+". "+B(u.question)+" ",1),D.value?(s(),n("span",Ge,[O.value[parseInt(a)]?(s(),n("span",Ue,"\u2705")):p("",!0),O.value[parseInt(a)]?p("",!0):(s(),n("span",qe,"\u274C"))])):p("",!0)]),(s(!0),n(S,null,T(u.choices,(N,g)=>(s(),A(Q,{key:g,class:ae([{selected:v.value[parseInt(a)]===BigInt(g),"pointer-events-none":m.value},"choice-btn mb-2 w-full"]),variant:"choice",onClick:ht=>P(parseInt(a),g)},{default:C(()=>[t("span",Ke,[t("div",Pe,[v.value[parseInt(a)]===BigInt(g)?(s(),A(ke,{key:0})):(s(),A(Ve,{key:1}))]),t("span",Fe,B(N),1)])]),_:2},1032,["class","onClick"]))),128))]))),128)),y.value.length>0?(s(),n("div",Ye,[je,(s(!0),n(S,null,T(y.value,a=>(s(),n("div",{key:a},B(a),1))),128))])):p("",!0),t("div",He,[e(Q,{type:"submit",variant:"primary",disabled:m.value||!R.value,onClick:U},{default:C(()=>[k.value?(s(),n("span",Je,"Checking answers\u2026")):(s(),n("span",We,"Check my answers"))]),_:1},8,["disabled"])])],32)])):(s(),A(ze,{key:1}))])):p("",!0),z.value&&!L.value?(s(),n("section",Xe,[e(q,null,{default:C(()=>[et]),_:1}),G.value?(s(),n("section",tt,[st,t("form",{onSubmit:j},[t("div",rt,[se(t("input",{type:"text",id:"addressText",class:"peer",placeholder:" ","onUpdate:modelValue":h[0]||(h[0]=a=>V.value=a),pattern:"^(0x)?[0-9a-fA-F]{40}$",required:""},null,512),[[re,V.value]]),nt]),e(Q,{class:"mb-20 no-capitalize",type:"submit",variant:"primary",disabled:c.value},{default:C(()=>[c.value?(s(),n("span",at,"Generating transaction and sending reward\u2026")):(s(),n("span",it,"Claim your reward"))]),_:1},8,["disabled"])],32)])):p("",!0)])):p("",!0),L.value?(s(),n("section",lt,[e(q,{class:"mb-20"},{default:C(()=>[ot,ct,ut]),_:1})])):p("",!0)],64))}});const _t=M(dt,[["__scopeId","data-v-d157d3e1"]]);export{_t as default};
//# sourceMappingURL=QuizView.02bbaacd.js.map
