var Hy=Object.defineProperty;var Gy=(r,t,e)=>t in r?Hy(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var j=(r,t,e)=>(Gy(r,typeof t!="symbol"?t+"":t,e),e),Du=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var B=(r,t,e)=>(Du(r,t,"read from private field"),e?e.call(r):t.get(r)),ot=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},H=(r,t,e,n)=>(Du(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e);var Lu=(r,t,e,n)=>({set _(i){H(r,t,i,e)},get _(){return B(r,t,n)}}),Mt=(r,t,e)=>(Du(r,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var lu,Fe,Zp,js,gd,tg,vl,eg,Jo={},rg=[],zy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,bh=Array.isArray;function Is(r,t){for(var e in t)r[e]=t[e];return r}function ng(r){var t=r.parentNode;t&&t.removeChild(r)}function Vy(r,t,e){var n,i,s,o={};for(s in t)s=="key"?n=t[s]:s=="ref"?i=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?lu.call(arguments,2):e),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)o[s]===void 0&&(o[s]=r.defaultProps[s]);return s0(r,o,n,i,null)}function s0(r,t,e,n,i){var s={type:r,props:t,key:e,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Zp};return i==null&&Fe.vnode!=null&&Fe.vnode(s),s}function Ni(r){return r.children}function o0(r,t){this.props=r,this.context=t}function Gf(r,t){if(t==null)return r.__?Gf(r.__,r.__.__k.indexOf(r)+1):null;for(var e;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null)return e.__d||e.__e;return typeof r.type=="function"?Gf(r):null}function ig(r){var t,e;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null){r.__e=r.__c.base=e.__e;break}return ig(r)}}function El(r){(!r.__d&&(r.__d=!0)&&js.push(r)&&!B0.__r++||gd!==Fe.debounceRendering)&&((gd=Fe.debounceRendering)||tg)(B0)}function B0(){var r,t,e,n,i,s,o,a,f;for(js.sort(vl);r=js.shift();)r.__d&&(t=js.length,n=void 0,i=void 0,s=void 0,a=(o=(e=r).__v).__e,(f=e.__P)&&(n=[],i=[],(s=Is({},o)).__v=o.__v+1,wh(f,o,s,e.__n,f.ownerSVGElement!==void 0,o.__h!=null?[a]:null,n,a??Gf(o),o.__h,i),fg(n,o,i),o.__e!=a&&ig(o)),js.length>t&&js.sort(vl));B0.__r=0}function sg(r,t,e,n,i,s,o,a,f,c,h){var d,m,w,F,I,K,D,Z,$,xt=0,X=n&&n.__k||rg,M=X.length,at=M,it=t.length;for(e.__k=[],d=0;d<it;d++)(F=e.__k[d]=(F=t[d])==null||typeof F=="boolean"||typeof F=="function"?null:typeof F=="string"||typeof F=="number"||typeof F=="bigint"?s0(null,F,null,null,F):bh(F)?s0(Ni,{children:F},null,null,null):F.__b>0?s0(F.type,F.props,F.key,F.ref?F.ref:null,F.__v):F)!=null?(F.__=e,F.__b=e.__b+1,(Z=Qy(F,X,D=d+xt,at))===-1?w=Jo:(w=X[Z]||Jo,X[Z]=void 0,at--),wh(r,F,w,i,s,o,a,f,c,h),I=F.__e,(m=F.ref)&&w.ref!=m&&(w.ref&&Ah(w.ref,null,F),h.push(m,F.__c||I,F)),I!=null&&(K==null&&(K=I),($=w===Jo||w.__v===null)?Z==-1&&xt--:Z!==D&&(Z===D+1?xt++:Z>D?at>it-D?xt+=Z-D:xt--:xt=Z<D&&Z==D-1?Z-D:0),D=d+xt,typeof F.type!="function"||Z===D&&w.__k!==F.__k?typeof F.type=="function"||Z===D&&!$?F.__d!==void 0?(f=F.__d,F.__d=void 0):f=I.nextSibling:f=ag(r,I,f):f=og(F,f,r),typeof e.type=="function"&&(e.__d=f))):(w=X[d])&&w.key==null&&w.__e&&(w.__e==f&&(w.__=n,f=Gf(w)),Fl(w,w,!1),X[d]=null);for(e.__e=K,d=M;d--;)X[d]!=null&&(typeof e.type=="function"&&X[d].__e!=null&&X[d].__e==e.__d&&(e.__d=X[d].__e.nextSibling),Fl(X[d],X[d]))}function og(r,t,e){for(var n,i=r.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=r,t=typeof n.type=="function"?og(n,t,e):ag(e,n.__e,t));return t}function ag(r,t,e){return e==null||e.parentNode!==r?r.insertBefore(t,null):t==e&&t.parentNode!=null||r.insertBefore(t,e),t.nextSibling}function Qy(r,t,e,n){var i=r.key,s=r.type,o=e-1,a=e+1,f=t[e];if(f===null||f&&i==f.key&&s===f.type)return e;if(n>(f!=null?1:0))for(;o>=0||a<t.length;){if(o>=0){if((f=t[o])&&i==f.key&&s===f.type)return o;o--}if(a<t.length){if((f=t[a])&&i==f.key&&s===f.type)return a;a++}}return-1}function Ky(r,t,e,n,i){var s;for(s in e)s==="children"||s==="key"||s in t||C0(r,s,null,e[s],n);for(s in t)i&&typeof t[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||e[s]===t[s]||C0(r,s,t[s],e[s],n)}function xd(r,t,e){t[0]==="-"?r.setProperty(t,e??""):r[t]=e==null?"":typeof e!="number"||zy.test(t)?e:e+"px"}function C0(r,t,e,n,i){var s;t:if(t==="style")if(typeof e=="string")r.style.cssText=e;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(t in n)e&&t in e||xd(r.style,t,"");if(e)for(t in e)n&&e[t]===n[t]||xd(r.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in r?t.toLowerCase().slice(2):t.slice(2),r.l||(r.l={}),r.l[t+s]=e,e?n?e.u=n.u:(e.u=Date.now(),r.addEventListener(t,s?md:yd,s)):r.removeEventListener(t,s?md:yd,s);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in r)try{r[t]=e??"";break t}catch{}typeof e=="function"||(e==null||e===!1&&t[4]!=="-"?r.removeAttribute(t):r.setAttribute(t,e))}}function yd(r){var t=this.l[r.type+!1];if(r.t){if(r.t<=t.u)return}else r.t=Date.now();return t(Fe.event?Fe.event(r):r)}function md(r){return this.l[r.type+!0](Fe.event?Fe.event(r):r)}function wh(r,t,e,n,i,s,o,a,f,c){var h,d,m,w,F,I,K,D,Z,$,xt,X,M,at,it,ft=t.type;if(t.constructor!==void 0)return null;e.__h!=null&&(f=e.__h,a=t.__e=e.__e,t.__h=null,s=[a]),(h=Fe.__b)&&h(t);t:if(typeof ft=="function")try{if(D=t.props,Z=(h=ft.contextType)&&n[h.__c],$=h?Z?Z.props.value:h.__:n,e.__c?K=(d=t.__c=e.__c).__=d.__E:("prototype"in ft&&ft.prototype.render?t.__c=d=new ft(D,$):(t.__c=d=new o0(D,$),d.constructor=ft,d.render=jy),Z&&Z.sub(d),d.props=D,d.state||(d.state={}),d.context=$,d.__n=n,m=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),ft.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Is({},d.__s)),Is(d.__s,ft.getDerivedStateFromProps(D,d.__s))),w=d.props,F=d.state,d.__v=t,m)ft.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(ft.getDerivedStateFromProps==null&&D!==w&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(D,$),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(D,d.__s,$)===!1||t.__v===e.__v)){for(t.__v!==e.__v&&(d.props=D,d.state=d.__s,d.__d=!1),t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function(Ct){Ct&&(Ct.__=t)}),xt=0;xt<d._sb.length;xt++)d.__h.push(d._sb[xt]);d._sb=[],d.__h.length&&o.push(d);break t}d.componentWillUpdate!=null&&d.componentWillUpdate(D,d.__s,$),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(w,F,I)})}if(d.context=$,d.props=D,d.__P=r,d.__e=!1,X=Fe.__r,M=0,"prototype"in ft&&ft.prototype.render){for(d.state=d.__s,d.__d=!1,X&&X(t),h=d.render(d.props,d.state,d.context),at=0;at<d._sb.length;at++)d.__h.push(d._sb[at]);d._sb=[]}else do d.__d=!1,X&&X(t),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++M<25);d.state=d.__s,d.getChildContext!=null&&(n=Is(Is({},n),d.getChildContext())),m||d.getSnapshotBeforeUpdate==null||(I=d.getSnapshotBeforeUpdate(w,F)),sg(r,bh(it=h!=null&&h.type===Ni&&h.key==null?h.props.children:h)?it:[it],t,e,n,i,s,o,a,f,c),d.base=t.__e,t.__h=null,d.__h.length&&o.push(d),K&&(d.__E=d.__=null)}catch(Ct){t.__v=null,(f||s!=null)&&(t.__e=a,t.__h=!!f,s[s.indexOf(a)]=null),Fe.__e(Ct,t,e)}else s==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=Jy(e.__e,t,e,n,i,s,o,f,c);(h=Fe.diffed)&&h(t)}function fg(r,t,e){for(var n=0;n<e.length;n++)Ah(e[n],e[++n],e[++n]);Fe.__c&&Fe.__c(t,r),r.some(function(i){try{r=i.__h,i.__h=[],r.some(function(s){s.call(i)})}catch(s){Fe.__e(s,i.__v)}})}function Jy(r,t,e,n,i,s,o,a,f){var c,h,d,m=e.props,w=t.props,F=t.type,I=0;if(F==="svg"&&(i=!0),s!=null){for(;I<s.length;I++)if((c=s[I])&&"setAttribute"in c==!!F&&(F?c.localName===F:c.nodeType===3)){r=c,s[I]=null;break}}if(r==null){if(F===null)return document.createTextNode(w);r=i?document.createElementNS("http://www.w3.org/2000/svg",F):document.createElement(F,w.is&&w),s=null,a=!1}if(F===null)m===w||a&&r.data===w||(r.data=w);else{if(s=s&&lu.call(r.childNodes),h=(m=e.props||Jo).dangerouslySetInnerHTML,d=w.dangerouslySetInnerHTML,!a){if(s!=null)for(m={},I=0;I<r.attributes.length;I++)m[r.attributes[I].name]=r.attributes[I].value;(d||h)&&(d&&(h&&d.__html==h.__html||d.__html===r.innerHTML)||(r.innerHTML=d&&d.__html||""))}if(Ky(r,w,m,i,a),d)t.__k=[];else if(sg(r,bh(I=t.props.children)?I:[I],t,e,n,i&&F!=="foreignObject",s,o,s?s[0]:e.__k&&Gf(e,0),a,f),s!=null)for(I=s.length;I--;)s[I]!=null&&ng(s[I]);a||("value"in w&&(I=w.value)!==void 0&&(I!==r.value||F==="progress"&&!I||F==="option"&&I!==m.value)&&C0(r,"value",I,m.value,!1),"checked"in w&&(I=w.checked)!==void 0&&I!==r.checked&&C0(r,"checked",I,m.checked,!1))}return r}function Ah(r,t,e){try{typeof r=="function"?r(t):r.current=t}catch(n){Fe.__e(n,e)}}function Fl(r,t,e){var n,i;if(Fe.unmount&&Fe.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||Ah(n,null,t)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Fe.__e(s,t)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(i=0;i<n.length;i++)n[i]&&Fl(n[i],t,e||typeof r.type!="function");e||r.__e==null||ng(r.__e),r.__=r.__e=r.__d=void 0}function jy(r,t,e){return this.constructor(r,e)}function Yy(r,t,e){var n,i,s,o;Fe.__&&Fe.__(r,t),i=(n=typeof e=="function")?null:e&&e.__k||t.__k,s=[],o=[],wh(t,r=(!n&&e||t).__k=Vy(Ni,null,[r]),i||Jo,Jo,t.ownerSVGElement!==void 0,!n&&e?[e]:i?null:t.firstChild?lu.call(t.childNodes):null,s,!n&&e?e:i?i.__e:t.firstChild,n,o),fg(s,r,o)}function cg(r,t){var e={__c:t="__cC"+eg++,__:r,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,El(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return e.Provider.__=e.Consumer.contextType=e}lu=rg.slice,Fe={__e:function(r,t,e,n){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(r)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(r,n||{}),o=i.__d),o)return i.__E=i}catch(a){r=a}throw r}},Zp=0,o0.prototype.setState=function(r,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Is({},this.state),typeof r=="function"&&(r=r(Is({},e),this.props)),r&&Is(e,r),r!=null&&this.__v&&(t&&this._sb.push(t),El(this))},o0.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),El(this))},o0.prototype.render=Ni,js=[],tg=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vl=function(r,t){return r.__v.__b-t.__v.__b},B0.__r=0,eg=0;const qy=3e5,{VITE_BASE_AUTH_URL:Wy}={VITE_SAPPHIRE_JSONRPC:"https://testnet.sapphire.oasis.dev",VITE_SAPPHIRE_CHAIN_ID:"0x5aff",BASE_URL:"/authzn-demo",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let ug=Wy??"https://playground.oasis.io",hi=null,bd=null;const wd=(r,t)=>{if(r.origin!==ug)return!1;const{data:e}=r,n=new URLSearchParams(e);switch(t){case"login":case"register":{const i=n.get("username"),s=n.get("address"),o=new CustomEvent(t,{detail:{username:i,address:s}});window.dispatchEvent(o);return}case"sign":{const i=n.get("tx"),s=new CustomEvent(t,{detail:{signedTransaction:i}});window.dispatchEvent(s);return}}},vh=(r,t={})=>{const e={...t,origin:window.location.origin},n=new URLSearchParams(e).toString(),i=`${ug}/authzn/#/${r}?${n}`,s=`AuthNZ - ${r}`;window.removeEventListener("message",wd);const o="toolbar=no, menubar=no, width=1280, height=800, top=100, left=100";return hi===null||hi.closed?hi=window.open(i,s,o):bd!==i?(hi=window.open(i,s,o),hi==null||hi.focus()):hi.focus(),window.addEventListener("message",a=>wd(a,r),!1),bd=i,new Promise((a,f)=>{const c=setTimeout(()=>{window.removeEventListener(r,h),hi&&hi.close(),f("Register event timed out!")},qy),h=d=>{window.removeEventListener(r,h),clearInterval(c),a(d.detail)};window.addEventListener(r,h)})},$y=async()=>vh("register"),Xy=async()=>vh("login"),Zy=async r=>vh("sign",{unSignedTx:r});var La,dr,Hu,Ad,_l=0,lg=[],a0=[],vd=Fe.__b,Ed=Fe.__r,Fd=Fe.diffed,_d=Fe.__c,Nd=Fe.unmount;function hu(r,t){Fe.__h&&Fe.__h(dr,r,_l||t),_l=0;var e=dr.__H||(dr.__H={__:[],__h:[]});return r>=e.__.length&&e.__.push({__V:a0}),e.__[r]}function vi(r){return _l=1,tm(pg,r)}function tm(r,t,e){var n=hu(La++,2);if(n.t=r,!n.__c&&(n.__=[e?e(t):pg(void 0,t),function(a){var f=n.__N?n.__N[0]:n.__[0],c=n.t(f,a);f!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=dr,!dr.u)){var i=function(a,f,c){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(m){return m.__c});if(h.every(function(m){return!m.__N}))return!s||s.call(this,a,f,c);var d=!1;return h.forEach(function(m){if(m.__N){var w=m.__[0];m.__=m.__N,m.__N=void 0,w!==m.__[0]&&(d=!0)}}),!(!d&&n.__c.props===a)&&(!s||s.call(this,a,f,c))};dr.u=!0;var s=dr.shouldComponentUpdate,o=dr.componentWillUpdate;dr.componentWillUpdate=function(a,f,c){if(this.__e){var h=s;s=void 0,i(a,f,c),s=h}o&&o.call(this,a,f,c)},dr.shouldComponentUpdate=i}return n.__N||n.__}function Eh(r,t){var e=hu(La++,3);!Fe.__s&&dg(e.__H,t)&&(e.__=r,e.i=t,dr.__H.__h.push(e))}function em(r,t){var e=hu(La++,7);return dg(e.__H,t)?(e.__V=r(),e.i=t,e.__h=r,e.__V):e.__}function hg(r){var t=dr.context[r.__c],e=hu(La++,9);return e.c=r,t?(e.__==null&&(e.__=!0,t.sub(dr)),t.props.value):r.__}function rm(){for(var r;r=lg.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(f0),r.__H.__h.forEach(Nl),r.__H.__h=[]}catch(t){r.__H.__h=[],Fe.__e(t,r.__v)}}Fe.__b=function(r){dr=null,vd&&vd(r)},Fe.__r=function(r){Ed&&Ed(r),La=0;var t=(dr=r.__c).__H;t&&(Hu===dr?(t.__h=[],dr.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=a0,e.__N=e.i=void 0})):(t.__h.forEach(f0),t.__h.forEach(Nl),t.__h=[],La=0)),Hu=dr},Fe.diffed=function(r){Fd&&Fd(r);var t=r.__c;t&&t.__H&&(t.__H.__h.length&&(lg.push(t)!==1&&Ad===Fe.requestAnimationFrame||((Ad=Fe.requestAnimationFrame)||nm)(rm)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==a0&&(e.__=e.__V),e.i=void 0,e.__V=a0})),Hu=dr=null},Fe.__c=function(r,t){t.some(function(e){try{e.__h.forEach(f0),e.__h=e.__h.filter(function(n){return!n.__||Nl(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Fe.__e(n,e.__v)}}),_d&&_d(r,t)},Fe.unmount=function(r){Nd&&Nd(r);var t,e=r.__c;e&&e.__H&&(e.__H.__.forEach(function(n){try{f0(n)}catch(i){t=i}}),e.__H=void 0,t&&Fe.__e(t,e.__v))};var Bd=typeof requestAnimationFrame=="function";function nm(r){var t,e=function(){clearTimeout(n),Bd&&cancelAnimationFrame(t),setTimeout(r)},n=setTimeout(e,100);Bd&&(t=requestAnimationFrame(e))}function f0(r){var t=dr,e=r.__c;typeof e=="function"&&(r.__c=void 0,e()),dr=t}function Nl(r){var t=dr;r.__c=r.__(),dr=t}function dg(r,t){return!r||r.length!==t.length||t.some(function(e,n){return e!==r[n]})}function pg(r,t){return typeof t=="function"?t(r):t}var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function im(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}var _h={exports:{}};const sm={},gg=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"})),xg=im(gg);_h.exports;(function(r){(function(t,e){function n(_,u){if(!_)throw new Error(u||"Assertion failed")}function i(_,u){_.super_=u;var x=function(){};x.prototype=u.prototype,_.prototype=new x,_.prototype.constructor=_}function s(_,u,x){if(s.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((u==="le"||u==="be")&&(x=u,u=10),this._init(_||0,u||10,x||"be"))}typeof t=="object"?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xg.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,x){return u.cmp(x)>0?u:x},s.min=function(u,x){return u.cmp(x)<0?u:x},s.prototype._init=function(u,x,v){if(typeof u=="number")return this._initNumber(u,x,v);if(typeof u=="object")return this._initArray(u,x,v);x==="hex"&&(x=16),n(x===(x|0)&&x>=2&&x<=36),u=u.toString().replace(/\s+/g,"");var C=0;u[0]==="-"&&(C++,this.negative=1),C<u.length&&(x===16?this._parseHex(u,C,v):(this._parseBase(u,x,C),v==="le"&&this._initArray(this.toArray(),x,v)))},s.prototype._initNumber=function(u,x,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),x,v)},s.prototype._initArray=function(u,x,v){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var S,R,G=0;if(v==="be")for(C=u.length-1,S=0;C>=0;C-=3)R=u[C]|u[C-1]<<8|u[C-2]<<16,this.words[S]|=R<<G&67108863,this.words[S+1]=R>>>26-G&67108863,G+=24,G>=26&&(G-=26,S++);else if(v==="le")for(C=0,S=0;C<u.length;C+=3)R=u[C]|u[C+1]<<8|u[C+2]<<16,this.words[S]|=R<<G&67108863,this.words[S+1]=R>>>26-G&67108863,G+=24,G>=26&&(G-=26,S++);return this._strip()};function a(_,u){var x=_.charCodeAt(u);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;n(!1,"Invalid character in "+_)}function f(_,u,x){var v=a(_,x);return x-1>=u&&(v|=a(_,x-1)<<4),v}s.prototype._parseHex=function(u,x,v){this.length=Math.ceil((u.length-x)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var S=0,R=0,G;if(v==="be")for(C=u.length-1;C>=x;C-=2)G=f(u,x,C)<<S,this.words[R]|=G&67108863,S>=18?(S-=18,R+=1,this.words[R]|=G>>>26):S+=8;else{var P=u.length-x;for(C=P%2===0?x+1:x;C<u.length;C+=2)G=f(u,x,C)<<S,this.words[R]|=G&67108863,S>=18?(S-=18,R+=1,this.words[R]|=G>>>26):S+=8}this._strip()};function c(_,u,x,v){for(var C=0,S=0,R=Math.min(_.length,x),G=u;G<R;G++){var P=_.charCodeAt(G)-48;C*=v,P>=49?S=P-49+10:P>=17?S=P-17+10:S=P,n(P>=0&&S<v,"Invalid character"),C+=S}return C}s.prototype._parseBase=function(u,x,v){this.words=[0],this.length=1;for(var C=0,S=1;S<=67108863;S*=x)C++;C--,S=S/x|0;for(var R=u.length-v,G=R%C,P=Math.min(R,R-G)+v,p=0,N=v;N<P;N+=C)p=c(u,N,N+C,x),this.imuln(S),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(G!==0){var wt=1;for(p=c(u,N,u.length,x),N=0;N<G;N++)wt*=x;this.imuln(wt),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var x=0;x<this.length;x++)u.words[x]=this.words[x];u.length=this.length,u.negative=this.negative,u.red=this.red};function h(_,u){_.words=u.words,_.length=u.length,_.negative=u.negative,_.red=u.red}if(s.prototype._move=function(u){h(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,x){u=u||10,x=x|0||1;var v;if(u===16||u==="hex"){v="";for(var C=0,S=0,R=0;R<this.length;R++){var G=this.words[R],P=((G<<C|S)&16777215).toString(16);S=G>>>24-C&16777215,C+=2,C>=26&&(C-=26,R--),S!==0||R!==this.length-1?v=m[6-P.length]+P+v:v=P+v}for(S!==0&&(v=S.toString(16)+v);v.length%x!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var p=w[u],N=F[u];v="";var wt=this.clone();for(wt.negative=0;!wt.isZero();){var y=wt.modrn(N).toString(u);wt=wt.idivn(N),wt.isZero()?v=y+v:v=m[p-y.length]+y+v}for(this.isZero()&&(v="0"+v);v.length%x!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,x){return this.toArrayLike(o,u,x)}),s.prototype.toArray=function(u,x){return this.toArrayLike(Array,u,x)};var I=function(u,x){return u.allocUnsafe?u.allocUnsafe(x):new u(x)};s.prototype.toArrayLike=function(u,x,v){this._strip();var C=this.byteLength(),S=v||Math.max(1,C);n(C<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var R=I(u,S),G=x==="le"?"LE":"BE";return this["_toArrayLike"+G](R,C),R},s.prototype._toArrayLikeLE=function(u,x){for(var v=0,C=0,S=0,R=0;S<this.length;S++){var G=this.words[S]<<R|C;u[v++]=G&255,v<u.length&&(u[v++]=G>>8&255),v<u.length&&(u[v++]=G>>16&255),R===6?(v<u.length&&(u[v++]=G>>24&255),C=0,R=0):(C=G>>>24,R+=2)}if(v<u.length)for(u[v++]=C;v<u.length;)u[v++]=0},s.prototype._toArrayLikeBE=function(u,x){for(var v=u.length-1,C=0,S=0,R=0;S<this.length;S++){var G=this.words[S]<<R|C;u[v--]=G&255,v>=0&&(u[v--]=G>>8&255),v>=0&&(u[v--]=G>>16&255),R===6?(v>=0&&(u[v--]=G>>24&255),C=0,R=0):(C=G>>>24,R+=2)}if(v>=0)for(u[v--]=C;v>=0;)u[v--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var x=u,v=0;return x>=4096&&(v+=13,x>>>=13),x>=64&&(v+=7,x>>>=7),x>=8&&(v+=4,x>>>=4),x>=2&&(v+=2,x>>>=2),v+x},s.prototype._zeroBits=function(u){if(u===0)return 26;var x=u,v=0;return x&8191||(v+=13,x>>>=13),x&127||(v+=7,x>>>=7),x&15||(v+=4,x>>>=4),x&3||(v+=2,x>>>=2),x&1||v++,v},s.prototype.bitLength=function(){var u=this.words[this.length-1],x=this._countBits(u);return(this.length-1)*26+x};function K(_){for(var u=new Array(_.bitLength()),x=0;x<u.length;x++){var v=x/26|0,C=x%26;u[x]=_.words[v]>>>C&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,x=0;x<this.length;x++){var v=this._zeroBits(this.words[x]);if(u+=v,v!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var x=0;x<u.length;x++)this.words[x]=this.words[x]|u.words[x];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var x;this.length>u.length?x=u:x=this;for(var v=0;v<x.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=x.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var x,v;this.length>u.length?(x=this,v=u):(x=u,v=this);for(var C=0;C<v.length;C++)this.words[C]=x.words[C]^v.words[C];if(this!==x)for(;C<x.length;C++)this.words[C]=x.words[C];return this.length=x.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var x=Math.ceil(u/26)|0,v=u%26;this._expand(x),v>0&&x--;for(var C=0;C<x;C++)this.words[C]=~this.words[C]&67108863;return v>0&&(this.words[C]=~this.words[C]&67108863>>26-v),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,x){n(typeof u=="number"&&u>=0);var v=u/26|0,C=u%26;return this._expand(v+1),x?this.words[v]=this.words[v]|1<<C:this.words[v]=this.words[v]&~(1<<C),this._strip()},s.prototype.iadd=function(u){var x;if(this.negative!==0&&u.negative===0)return this.negative=0,x=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,x=this.isub(u),u.negative=1,x._normSign();var v,C;this.length>u.length?(v=this,C=u):(v=u,C=this);for(var S=0,R=0;R<C.length;R++)x=(v.words[R]|0)+(C.words[R]|0)+S,this.words[R]=x&67108863,S=x>>>26;for(;S!==0&&R<v.length;R++)x=(v.words[R]|0)+S,this.words[R]=x&67108863,S=x>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this},s.prototype.add=function(u){var x;return u.negative!==0&&this.negative===0?(u.negative=0,x=this.sub(u),u.negative^=1,x):u.negative===0&&this.negative!==0?(this.negative=0,x=u.sub(this),this.negative=1,x):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var x=this.iadd(u);return u.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,S;v>0?(C=this,S=u):(C=u,S=this);for(var R=0,G=0;G<S.length;G++)x=(C.words[G]|0)-(S.words[G]|0)+R,R=x>>26,this.words[G]=x&67108863;for(;R!==0&&G<C.length;G++)x=(C.words[G]|0)+R,R=x>>26,this.words[G]=x&67108863;if(R===0&&G<C.length&&C!==this)for(;G<C.length;G++)this.words[G]=C.words[G];return this.length=Math.max(this.length,G),C!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function D(_,u,x){x.negative=u.negative^_.negative;var v=_.length+u.length|0;x.length=v,v=v-1|0;var C=_.words[0]|0,S=u.words[0]|0,R=C*S,G=R&67108863,P=R/67108864|0;x.words[0]=G;for(var p=1;p<v;p++){for(var N=P>>>26,wt=P&67108863,y=Math.min(p,u.length-1),z=Math.max(0,p-_.length+1);z<=y;z++){var tt=p-z|0;C=_.words[tt]|0,S=u.words[z]|0,R=C*S+wt,N+=R/67108864|0,wt=R&67108863}x.words[p]=wt|0,P=N|0}return P!==0?x.words[p]=P|0:x.length--,x._strip()}var Z=function(u,x,v){var C=u.words,S=x.words,R=v.words,G=0,P,p,N,wt=C[0]|0,y=wt&8191,z=wt>>>13,tt=C[1]|0,O=tt&8191,V=tt>>>13,W=C[2]|0,rt=W&8191,mt=W>>>13,Ye=C[3]|0,Bt=Ye&8191,Yt=Ye>>>13,kr=C[4]|0,Re=kr&8191,Pe=kr>>>13,ur=C[5]|0,ce=ur&8191,pe=ur>>>13,Ot=C[6]|0,bt=Ot&8191,Dt=Ot>>>13,_e=C[7]|0,ge=_e&8191,ie=_e>>>13,nr=C[8]|0,ue=nr&8191,fe=nr>>>13,Ve=C[9]|0,oe=Ve&8191,se=Ve>>>13,He=S[0]|0,qt=He&8191,Xt=He>>>13,Xe=S[1]|0,te=Xe&8191,ee=Xe>>>13,ir=S[2]|0,le=ir&8191,he=ir>>>13,or=S[3]|0,Se=or&8191,Me=or>>>13,Hr=S[4]|0,qe=Hr&8191,Ze=Hr>>>13,Sn=S[5]|0,er=Sn&8191,Ne=Sn>>>13,xn=S[6]|0,g=xn&8191,b=xn>>>13,A=S[7]|0,l=A&8191,E=A>>>13,L=S[8]|0,U=L&8191,q=L>>>13,lt=S[9]|0,yt=lt&8191,ht=lt>>>13;v.negative=u.negative^x.negative,v.length=19,P=Math.imul(y,qt),p=Math.imul(y,Xt),p=p+Math.imul(z,qt)|0,N=Math.imul(z,Xt);var ye=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(ye>>>26)|0,ye&=67108863,P=Math.imul(O,qt),p=Math.imul(O,Xt),p=p+Math.imul(V,qt)|0,N=Math.imul(V,Xt),P=P+Math.imul(y,te)|0,p=p+Math.imul(y,ee)|0,p=p+Math.imul(z,te)|0,N=N+Math.imul(z,ee)|0;var vt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(vt>>>26)|0,vt&=67108863,P=Math.imul(rt,qt),p=Math.imul(rt,Xt),p=p+Math.imul(mt,qt)|0,N=Math.imul(mt,Xt),P=P+Math.imul(O,te)|0,p=p+Math.imul(O,ee)|0,p=p+Math.imul(V,te)|0,N=N+Math.imul(V,ee)|0,P=P+Math.imul(y,le)|0,p=p+Math.imul(y,he)|0,p=p+Math.imul(z,le)|0,N=N+Math.imul(z,he)|0;var Lt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,P=Math.imul(Bt,qt),p=Math.imul(Bt,Xt),p=p+Math.imul(Yt,qt)|0,N=Math.imul(Yt,Xt),P=P+Math.imul(rt,te)|0,p=p+Math.imul(rt,ee)|0,p=p+Math.imul(mt,te)|0,N=N+Math.imul(mt,ee)|0,P=P+Math.imul(O,le)|0,p=p+Math.imul(O,he)|0,p=p+Math.imul(V,le)|0,N=N+Math.imul(V,he)|0,P=P+Math.imul(y,Se)|0,p=p+Math.imul(y,Me)|0,p=p+Math.imul(z,Se)|0,N=N+Math.imul(z,Me)|0;var zt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(zt>>>26)|0,zt&=67108863,P=Math.imul(Re,qt),p=Math.imul(Re,Xt),p=p+Math.imul(Pe,qt)|0,N=Math.imul(Pe,Xt),P=P+Math.imul(Bt,te)|0,p=p+Math.imul(Bt,ee)|0,p=p+Math.imul(Yt,te)|0,N=N+Math.imul(Yt,ee)|0,P=P+Math.imul(rt,le)|0,p=p+Math.imul(rt,he)|0,p=p+Math.imul(mt,le)|0,N=N+Math.imul(mt,he)|0,P=P+Math.imul(O,Se)|0,p=p+Math.imul(O,Me)|0,p=p+Math.imul(V,Se)|0,N=N+Math.imul(V,Me)|0,P=P+Math.imul(y,qe)|0,p=p+Math.imul(y,Ze)|0,p=p+Math.imul(z,qe)|0,N=N+Math.imul(z,Ze)|0;var Jt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,P=Math.imul(ce,qt),p=Math.imul(ce,Xt),p=p+Math.imul(pe,qt)|0,N=Math.imul(pe,Xt),P=P+Math.imul(Re,te)|0,p=p+Math.imul(Re,ee)|0,p=p+Math.imul(Pe,te)|0,N=N+Math.imul(Pe,ee)|0,P=P+Math.imul(Bt,le)|0,p=p+Math.imul(Bt,he)|0,p=p+Math.imul(Yt,le)|0,N=N+Math.imul(Yt,he)|0,P=P+Math.imul(rt,Se)|0,p=p+Math.imul(rt,Me)|0,p=p+Math.imul(mt,Se)|0,N=N+Math.imul(mt,Me)|0,P=P+Math.imul(O,qe)|0,p=p+Math.imul(O,Ze)|0,p=p+Math.imul(V,qe)|0,N=N+Math.imul(V,Ze)|0,P=P+Math.imul(y,er)|0,p=p+Math.imul(y,Ne)|0,p=p+Math.imul(z,er)|0,N=N+Math.imul(z,Ne)|0;var re=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(re>>>26)|0,re&=67108863,P=Math.imul(bt,qt),p=Math.imul(bt,Xt),p=p+Math.imul(Dt,qt)|0,N=Math.imul(Dt,Xt),P=P+Math.imul(ce,te)|0,p=p+Math.imul(ce,ee)|0,p=p+Math.imul(pe,te)|0,N=N+Math.imul(pe,ee)|0,P=P+Math.imul(Re,le)|0,p=p+Math.imul(Re,he)|0,p=p+Math.imul(Pe,le)|0,N=N+Math.imul(Pe,he)|0,P=P+Math.imul(Bt,Se)|0,p=p+Math.imul(Bt,Me)|0,p=p+Math.imul(Yt,Se)|0,N=N+Math.imul(Yt,Me)|0,P=P+Math.imul(rt,qe)|0,p=p+Math.imul(rt,Ze)|0,p=p+Math.imul(mt,qe)|0,N=N+Math.imul(mt,Ze)|0,P=P+Math.imul(O,er)|0,p=p+Math.imul(O,Ne)|0,p=p+Math.imul(V,er)|0,N=N+Math.imul(V,Ne)|0,P=P+Math.imul(y,g)|0,p=p+Math.imul(y,b)|0,p=p+Math.imul(z,g)|0,N=N+Math.imul(z,b)|0;var jt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(jt>>>26)|0,jt&=67108863,P=Math.imul(ge,qt),p=Math.imul(ge,Xt),p=p+Math.imul(ie,qt)|0,N=Math.imul(ie,Xt),P=P+Math.imul(bt,te)|0,p=p+Math.imul(bt,ee)|0,p=p+Math.imul(Dt,te)|0,N=N+Math.imul(Dt,ee)|0,P=P+Math.imul(ce,le)|0,p=p+Math.imul(ce,he)|0,p=p+Math.imul(pe,le)|0,N=N+Math.imul(pe,he)|0,P=P+Math.imul(Re,Se)|0,p=p+Math.imul(Re,Me)|0,p=p+Math.imul(Pe,Se)|0,N=N+Math.imul(Pe,Me)|0,P=P+Math.imul(Bt,qe)|0,p=p+Math.imul(Bt,Ze)|0,p=p+Math.imul(Yt,qe)|0,N=N+Math.imul(Yt,Ze)|0,P=P+Math.imul(rt,er)|0,p=p+Math.imul(rt,Ne)|0,p=p+Math.imul(mt,er)|0,N=N+Math.imul(mt,Ne)|0,P=P+Math.imul(O,g)|0,p=p+Math.imul(O,b)|0,p=p+Math.imul(V,g)|0,N=N+Math.imul(V,b)|0,P=P+Math.imul(y,l)|0,p=p+Math.imul(y,E)|0,p=p+Math.imul(z,l)|0,N=N+Math.imul(z,E)|0;var Wt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,P=Math.imul(ue,qt),p=Math.imul(ue,Xt),p=p+Math.imul(fe,qt)|0,N=Math.imul(fe,Xt),P=P+Math.imul(ge,te)|0,p=p+Math.imul(ge,ee)|0,p=p+Math.imul(ie,te)|0,N=N+Math.imul(ie,ee)|0,P=P+Math.imul(bt,le)|0,p=p+Math.imul(bt,he)|0,p=p+Math.imul(Dt,le)|0,N=N+Math.imul(Dt,he)|0,P=P+Math.imul(ce,Se)|0,p=p+Math.imul(ce,Me)|0,p=p+Math.imul(pe,Se)|0,N=N+Math.imul(pe,Me)|0,P=P+Math.imul(Re,qe)|0,p=p+Math.imul(Re,Ze)|0,p=p+Math.imul(Pe,qe)|0,N=N+Math.imul(Pe,Ze)|0,P=P+Math.imul(Bt,er)|0,p=p+Math.imul(Bt,Ne)|0,p=p+Math.imul(Yt,er)|0,N=N+Math.imul(Yt,Ne)|0,P=P+Math.imul(rt,g)|0,p=p+Math.imul(rt,b)|0,p=p+Math.imul(mt,g)|0,N=N+Math.imul(mt,b)|0,P=P+Math.imul(O,l)|0,p=p+Math.imul(O,E)|0,p=p+Math.imul(V,l)|0,N=N+Math.imul(V,E)|0,P=P+Math.imul(y,U)|0,p=p+Math.imul(y,q)|0,p=p+Math.imul(z,U)|0,N=N+Math.imul(z,q)|0;var $t=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+($t>>>26)|0,$t&=67108863,P=Math.imul(oe,qt),p=Math.imul(oe,Xt),p=p+Math.imul(se,qt)|0,N=Math.imul(se,Xt),P=P+Math.imul(ue,te)|0,p=p+Math.imul(ue,ee)|0,p=p+Math.imul(fe,te)|0,N=N+Math.imul(fe,ee)|0,P=P+Math.imul(ge,le)|0,p=p+Math.imul(ge,he)|0,p=p+Math.imul(ie,le)|0,N=N+Math.imul(ie,he)|0,P=P+Math.imul(bt,Se)|0,p=p+Math.imul(bt,Me)|0,p=p+Math.imul(Dt,Se)|0,N=N+Math.imul(Dt,Me)|0,P=P+Math.imul(ce,qe)|0,p=p+Math.imul(ce,Ze)|0,p=p+Math.imul(pe,qe)|0,N=N+Math.imul(pe,Ze)|0,P=P+Math.imul(Re,er)|0,p=p+Math.imul(Re,Ne)|0,p=p+Math.imul(Pe,er)|0,N=N+Math.imul(Pe,Ne)|0,P=P+Math.imul(Bt,g)|0,p=p+Math.imul(Bt,b)|0,p=p+Math.imul(Yt,g)|0,N=N+Math.imul(Yt,b)|0,P=P+Math.imul(rt,l)|0,p=p+Math.imul(rt,E)|0,p=p+Math.imul(mt,l)|0,N=N+Math.imul(mt,E)|0,P=P+Math.imul(O,U)|0,p=p+Math.imul(O,q)|0,p=p+Math.imul(V,U)|0,N=N+Math.imul(V,q)|0,P=P+Math.imul(y,yt)|0,p=p+Math.imul(y,ht)|0,p=p+Math.imul(z,yt)|0,N=N+Math.imul(z,ht)|0;var Pt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,P=Math.imul(oe,te),p=Math.imul(oe,ee),p=p+Math.imul(se,te)|0,N=Math.imul(se,ee),P=P+Math.imul(ue,le)|0,p=p+Math.imul(ue,he)|0,p=p+Math.imul(fe,le)|0,N=N+Math.imul(fe,he)|0,P=P+Math.imul(ge,Se)|0,p=p+Math.imul(ge,Me)|0,p=p+Math.imul(ie,Se)|0,N=N+Math.imul(ie,Me)|0,P=P+Math.imul(bt,qe)|0,p=p+Math.imul(bt,Ze)|0,p=p+Math.imul(Dt,qe)|0,N=N+Math.imul(Dt,Ze)|0,P=P+Math.imul(ce,er)|0,p=p+Math.imul(ce,Ne)|0,p=p+Math.imul(pe,er)|0,N=N+Math.imul(pe,Ne)|0,P=P+Math.imul(Re,g)|0,p=p+Math.imul(Re,b)|0,p=p+Math.imul(Pe,g)|0,N=N+Math.imul(Pe,b)|0,P=P+Math.imul(Bt,l)|0,p=p+Math.imul(Bt,E)|0,p=p+Math.imul(Yt,l)|0,N=N+Math.imul(Yt,E)|0,P=P+Math.imul(rt,U)|0,p=p+Math.imul(rt,q)|0,p=p+Math.imul(mt,U)|0,N=N+Math.imul(mt,q)|0,P=P+Math.imul(O,yt)|0,p=p+Math.imul(O,ht)|0,p=p+Math.imul(V,yt)|0,N=N+Math.imul(V,ht)|0;var Rt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,P=Math.imul(oe,le),p=Math.imul(oe,he),p=p+Math.imul(se,le)|0,N=Math.imul(se,he),P=P+Math.imul(ue,Se)|0,p=p+Math.imul(ue,Me)|0,p=p+Math.imul(fe,Se)|0,N=N+Math.imul(fe,Me)|0,P=P+Math.imul(ge,qe)|0,p=p+Math.imul(ge,Ze)|0,p=p+Math.imul(ie,qe)|0,N=N+Math.imul(ie,Ze)|0,P=P+Math.imul(bt,er)|0,p=p+Math.imul(bt,Ne)|0,p=p+Math.imul(Dt,er)|0,N=N+Math.imul(Dt,Ne)|0,P=P+Math.imul(ce,g)|0,p=p+Math.imul(ce,b)|0,p=p+Math.imul(pe,g)|0,N=N+Math.imul(pe,b)|0,P=P+Math.imul(Re,l)|0,p=p+Math.imul(Re,E)|0,p=p+Math.imul(Pe,l)|0,N=N+Math.imul(Pe,E)|0,P=P+Math.imul(Bt,U)|0,p=p+Math.imul(Bt,q)|0,p=p+Math.imul(Yt,U)|0,N=N+Math.imul(Yt,q)|0,P=P+Math.imul(rt,yt)|0,p=p+Math.imul(rt,ht)|0,p=p+Math.imul(mt,yt)|0,N=N+Math.imul(mt,ht)|0;var Ft=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,P=Math.imul(oe,Se),p=Math.imul(oe,Me),p=p+Math.imul(se,Se)|0,N=Math.imul(se,Me),P=P+Math.imul(ue,qe)|0,p=p+Math.imul(ue,Ze)|0,p=p+Math.imul(fe,qe)|0,N=N+Math.imul(fe,Ze)|0,P=P+Math.imul(ge,er)|0,p=p+Math.imul(ge,Ne)|0,p=p+Math.imul(ie,er)|0,N=N+Math.imul(ie,Ne)|0,P=P+Math.imul(bt,g)|0,p=p+Math.imul(bt,b)|0,p=p+Math.imul(Dt,g)|0,N=N+Math.imul(Dt,b)|0,P=P+Math.imul(ce,l)|0,p=p+Math.imul(ce,E)|0,p=p+Math.imul(pe,l)|0,N=N+Math.imul(pe,E)|0,P=P+Math.imul(Re,U)|0,p=p+Math.imul(Re,q)|0,p=p+Math.imul(Pe,U)|0,N=N+Math.imul(Pe,q)|0,P=P+Math.imul(Bt,yt)|0,p=p+Math.imul(Bt,ht)|0,p=p+Math.imul(Yt,yt)|0,N=N+Math.imul(Yt,ht)|0;var St=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(St>>>26)|0,St&=67108863,P=Math.imul(oe,qe),p=Math.imul(oe,Ze),p=p+Math.imul(se,qe)|0,N=Math.imul(se,Ze),P=P+Math.imul(ue,er)|0,p=p+Math.imul(ue,Ne)|0,p=p+Math.imul(fe,er)|0,N=N+Math.imul(fe,Ne)|0,P=P+Math.imul(ge,g)|0,p=p+Math.imul(ge,b)|0,p=p+Math.imul(ie,g)|0,N=N+Math.imul(ie,b)|0,P=P+Math.imul(bt,l)|0,p=p+Math.imul(bt,E)|0,p=p+Math.imul(Dt,l)|0,N=N+Math.imul(Dt,E)|0,P=P+Math.imul(ce,U)|0,p=p+Math.imul(ce,q)|0,p=p+Math.imul(pe,U)|0,N=N+Math.imul(pe,q)|0,P=P+Math.imul(Re,yt)|0,p=p+Math.imul(Re,ht)|0,p=p+Math.imul(Pe,yt)|0,N=N+Math.imul(Pe,ht)|0;var kt=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(kt>>>26)|0,kt&=67108863,P=Math.imul(oe,er),p=Math.imul(oe,Ne),p=p+Math.imul(se,er)|0,N=Math.imul(se,Ne),P=P+Math.imul(ue,g)|0,p=p+Math.imul(ue,b)|0,p=p+Math.imul(fe,g)|0,N=N+Math.imul(fe,b)|0,P=P+Math.imul(ge,l)|0,p=p+Math.imul(ge,E)|0,p=p+Math.imul(ie,l)|0,N=N+Math.imul(ie,E)|0,P=P+Math.imul(bt,U)|0,p=p+Math.imul(bt,q)|0,p=p+Math.imul(Dt,U)|0,N=N+Math.imul(Dt,q)|0,P=P+Math.imul(ce,yt)|0,p=p+Math.imul(ce,ht)|0,p=p+Math.imul(pe,yt)|0,N=N+Math.imul(pe,ht)|0;var At=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(At>>>26)|0,At&=67108863,P=Math.imul(oe,g),p=Math.imul(oe,b),p=p+Math.imul(se,g)|0,N=Math.imul(se,b),P=P+Math.imul(ue,l)|0,p=p+Math.imul(ue,E)|0,p=p+Math.imul(fe,l)|0,N=N+Math.imul(fe,E)|0,P=P+Math.imul(ge,U)|0,p=p+Math.imul(ge,q)|0,p=p+Math.imul(ie,U)|0,N=N+Math.imul(ie,q)|0,P=P+Math.imul(bt,yt)|0,p=p+Math.imul(bt,ht)|0,p=p+Math.imul(Dt,yt)|0,N=N+Math.imul(Dt,ht)|0;var J=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(J>>>26)|0,J&=67108863,P=Math.imul(oe,l),p=Math.imul(oe,E),p=p+Math.imul(se,l)|0,N=Math.imul(se,E),P=P+Math.imul(ue,U)|0,p=p+Math.imul(ue,q)|0,p=p+Math.imul(fe,U)|0,N=N+Math.imul(fe,q)|0,P=P+Math.imul(ge,yt)|0,p=p+Math.imul(ge,ht)|0,p=p+Math.imul(ie,yt)|0,N=N+Math.imul(ie,ht)|0;var Y=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(Y>>>26)|0,Y&=67108863,P=Math.imul(oe,U),p=Math.imul(oe,q),p=p+Math.imul(se,U)|0,N=Math.imul(se,q),P=P+Math.imul(ue,yt)|0,p=p+Math.imul(ue,ht)|0,p=p+Math.imul(fe,yt)|0,N=N+Math.imul(fe,ht)|0;var ut=(G+P|0)+((p&8191)<<13)|0;G=(N+(p>>>13)|0)+(ut>>>26)|0,ut&=67108863,P=Math.imul(oe,yt),p=Math.imul(oe,ht),p=p+Math.imul(se,yt)|0,N=Math.imul(se,ht);var nt=(G+P|0)+((p&8191)<<13)|0;return G=(N+(p>>>13)|0)+(nt>>>26)|0,nt&=67108863,R[0]=ye,R[1]=vt,R[2]=Lt,R[3]=zt,R[4]=Jt,R[5]=re,R[6]=jt,R[7]=Wt,R[8]=$t,R[9]=Pt,R[10]=Rt,R[11]=Ft,R[12]=St,R[13]=kt,R[14]=At,R[15]=J,R[16]=Y,R[17]=ut,R[18]=nt,G!==0&&(R[19]=G,v.length++),v};Math.imul||(Z=D);function $(_,u,x){x.negative=u.negative^_.negative,x.length=_.length+u.length;for(var v=0,C=0,S=0;S<x.length-1;S++){var R=C;C=0;for(var G=v&67108863,P=Math.min(S,u.length-1),p=Math.max(0,S-_.length+1);p<=P;p++){var N=S-p,wt=_.words[N]|0,y=u.words[p]|0,z=wt*y,tt=z&67108863;R=R+(z/67108864|0)|0,tt=tt+G|0,G=tt&67108863,R=R+(tt>>>26)|0,C+=R>>>26,R&=67108863}x.words[S]=G,v=R,R=C}return v!==0?x.words[S]=v:x.length--,x._strip()}function xt(_,u,x){return $(_,u,x)}s.prototype.mulTo=function(u,x){var v,C=this.length+u.length;return this.length===10&&u.length===10?v=Z(this,u,x):C<63?v=D(this,u,x):C<1024?v=$(this,u,x):v=xt(this,u,x),v},s.prototype.mul=function(u){var x=new s(null);return x.words=new Array(this.length+u.length),this.mulTo(u,x)},s.prototype.mulf=function(u){var x=new s(null);return x.words=new Array(this.length+u.length),xt(this,u,x)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var x=u<0;x&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var v=0,C=0;C<this.length;C++){var S=(this.words[C]|0)*u,R=(S&67108863)+(v&67108863);v>>=26,v+=S/67108864|0,v+=R>>>26,this.words[C]=R&67108863}return v!==0&&(this.words[C]=v,this.length++),x?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var x=K(u);if(x.length===0)return new s(1);for(var v=this,C=0;C<x.length&&x[C]===0;C++,v=v.sqr());if(++C<x.length)for(var S=v.sqr();C<x.length;C++,S=S.sqr())x[C]!==0&&(v=v.mul(S));return v},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var x=u%26,v=(u-x)/26,C=67108863>>>26-x<<26-x,S;if(x!==0){var R=0;for(S=0;S<this.length;S++){var G=this.words[S]&C,P=(this.words[S]|0)-G<<x;this.words[S]=P|R,R=G>>>26-x}R&&(this.words[S]=R,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,x,v){n(typeof u=="number"&&u>=0);var C;x?C=(x-x%26)/26:C=0;var S=u%26,R=Math.min((u-S)/26,this.length),G=67108863^67108863>>>S<<S,P=v;if(C-=R,C=Math.max(0,C),P){for(var p=0;p<R;p++)P.words[p]=this.words[p];P.length=R}if(R!==0)if(this.length>R)for(this.length-=R,p=0;p<this.length;p++)this.words[p]=this.words[p+R];else this.words[0]=0,this.length=1;var N=0;for(p=this.length-1;p>=0&&(N!==0||p>=C);p--){var wt=this.words[p]|0;this.words[p]=N<<26-S|wt>>>S,N=wt&G}return P&&N!==0&&(P.words[P.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,x,v){return n(this.negative===0),this.iushrn(u,x,v)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var x=u%26,v=(u-x)/26,C=1<<x;if(this.length<=v)return!1;var S=this.words[v];return!!(S&C)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var x=u%26,v=(u-x)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(x!==0&&v++,this.length=Math.min(v,this.length),x!==0){var C=67108863^67108863>>>x<<x;this.words[this.length-1]&=C}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,x,v){var C=u.length+v,S;this._expand(C);var R,G=0;for(S=0;S<u.length;S++){R=(this.words[S+v]|0)+G;var P=(u.words[S]|0)*x;R-=P&67108863,G=(R>>26)-(P/67108864|0),this.words[S+v]=R&67108863}for(;S<this.length-v;S++)R=(this.words[S+v]|0)+G,G=R>>26,this.words[S+v]=R&67108863;if(G===0)return this._strip();for(n(G===-1),G=0,S=0;S<this.length;S++)R=-(this.words[S]|0)+G,G=R>>26,this.words[S]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,x){var v=this.length-u.length,C=this.clone(),S=u,R=S.words[S.length-1]|0,G=this._countBits(R);v=26-G,v!==0&&(S=S.ushln(v),C.iushln(v),R=S.words[S.length-1]|0);var P=C.length-S.length,p;if(x!=="mod"){p=new s(null),p.length=P+1,p.words=new Array(p.length);for(var N=0;N<p.length;N++)p.words[N]=0}var wt=C.clone()._ishlnsubmul(S,1,P);wt.negative===0&&(C=wt,p&&(p.words[P]=1));for(var y=P-1;y>=0;y--){var z=(C.words[S.length+y]|0)*67108864+(C.words[S.length+y-1]|0);for(z=Math.min(z/R|0,67108863),C._ishlnsubmul(S,z,y);C.negative!==0;)z--,C.negative=0,C._ishlnsubmul(S,1,y),C.isZero()||(C.negative^=1);p&&(p.words[y]=z)}return p&&p._strip(),C._strip(),x!=="div"&&v!==0&&C.iushrn(v),{div:p||null,mod:C}},s.prototype.divmod=function(u,x,v){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var C,S,R;return this.negative!==0&&u.negative===0?(R=this.neg().divmod(u,x),x!=="mod"&&(C=R.div.neg()),x!=="div"&&(S=R.mod.neg(),v&&S.negative!==0&&S.iadd(u)),{div:C,mod:S}):this.negative===0&&u.negative!==0?(R=this.divmod(u.neg(),x),x!=="mod"&&(C=R.div.neg()),{div:C,mod:R.mod}):this.negative&u.negative?(R=this.neg().divmod(u.neg(),x),x!=="div"&&(S=R.mod.neg(),v&&S.negative!==0&&S.isub(u)),{div:R.div,mod:S}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?x==="div"?{div:this.divn(u.words[0]),mod:null}:x==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,x)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var x=this.divmod(u);if(x.mod.isZero())return x.div;var v=x.div.negative!==0?x.mod.isub(u):x.mod,C=u.ushrn(1),S=u.andln(1),R=v.cmp(C);return R<0||S===1&&R===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},s.prototype.modrn=function(u){var x=u<0;x&&(u=-u),n(u<=67108863);for(var v=(1<<26)%u,C=0,S=this.length-1;S>=0;S--)C=(v*C+(this.words[S]|0))%u;return x?-C:C},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var x=u<0;x&&(u=-u),n(u<=67108863);for(var v=0,C=this.length-1;C>=0;C--){var S=(this.words[C]|0)+v*67108864;this.words[C]=S/u|0,v=S%u}return this._strip(),x?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var x=this,v=u.clone();x.negative!==0?x=x.umod(u):x=x.clone();for(var C=new s(1),S=new s(0),R=new s(0),G=new s(1),P=0;x.isEven()&&v.isEven();)x.iushrn(1),v.iushrn(1),++P;for(var p=v.clone(),N=x.clone();!x.isZero();){for(var wt=0,y=1;!(x.words[0]&y)&&wt<26;++wt,y<<=1);if(wt>0)for(x.iushrn(wt);wt-- >0;)(C.isOdd()||S.isOdd())&&(C.iadd(p),S.isub(N)),C.iushrn(1),S.iushrn(1);for(var z=0,tt=1;!(v.words[0]&tt)&&z<26;++z,tt<<=1);if(z>0)for(v.iushrn(z);z-- >0;)(R.isOdd()||G.isOdd())&&(R.iadd(p),G.isub(N)),R.iushrn(1),G.iushrn(1);x.cmp(v)>=0?(x.isub(v),C.isub(R),S.isub(G)):(v.isub(x),R.isub(C),G.isub(S))}return{a:R,b:G,gcd:v.iushln(P)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var x=this,v=u.clone();x.negative!==0?x=x.umod(u):x=x.clone();for(var C=new s(1),S=new s(0),R=v.clone();x.cmpn(1)>0&&v.cmpn(1)>0;){for(var G=0,P=1;!(x.words[0]&P)&&G<26;++G,P<<=1);if(G>0)for(x.iushrn(G);G-- >0;)C.isOdd()&&C.iadd(R),C.iushrn(1);for(var p=0,N=1;!(v.words[0]&N)&&p<26;++p,N<<=1);if(p>0)for(v.iushrn(p);p-- >0;)S.isOdd()&&S.iadd(R),S.iushrn(1);x.cmp(v)>=0?(x.isub(v),C.isub(S)):(v.isub(x),S.isub(C))}var wt;return x.cmpn(1)===0?wt=C:wt=S,wt.cmpn(0)<0&&wt.iadd(u),wt},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var x=this.clone(),v=u.clone();x.negative=0,v.negative=0;for(var C=0;x.isEven()&&v.isEven();C++)x.iushrn(1),v.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=x.cmp(v);if(S<0){var R=x;x=v,v=R}else if(S===0||v.cmpn(1)===0)break;x.isub(v)}while(!0);return v.iushln(C)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var x=u%26,v=(u-x)/26,C=1<<x;if(this.length<=v)return this._expand(v+1),this.words[v]|=C,this;for(var S=C,R=v;S!==0&&R<this.length;R++){var G=this.words[R]|0;G+=S,S=G>>>26,G&=67108863,this.words[R]=G}return S!==0&&(this.words[R]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var x=u<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var v;if(this.length>1)v=1;else{x&&(u=-u),n(u<=67108863,"Number is too big");var C=this.words[0]|0;v=C===u?0:C<u?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var x=this.ucmp(u);return this.negative!==0?-x|0:x},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var x=0,v=this.length-1;v>=0;v--){var C=this.words[v]|0,S=u.words[v]|0;if(C!==S){C<S?x=-1:C>S&&(x=1);break}}return x},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new gt(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var X={k256:null,p224:null,p192:null,p25519:null};function M(_,u){this.name=_,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},M.prototype.ireduce=function(u){var x=u,v;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),v=x.bitLength();while(v>this.n);var C=v<this.n?-1:x.ucmp(this.p);return C===0?(x.words[0]=0,x.length=1):C>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},M.prototype.split=function(u,x){u.iushrn(this.n,0,x)},M.prototype.imulK=function(u){return u.imul(this.k)};function at(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(at,M),at.prototype.split=function(u,x){for(var v=4194303,C=Math.min(u.length,9),S=0;S<C;S++)x.words[S]=u.words[S];if(x.length=C,u.length<=9){u.words[0]=0,u.length=1;return}var R=u.words[9];for(x.words[x.length++]=R&v,S=10;S<u.length;S++){var G=u.words[S]|0;u.words[S-10]=(G&v)<<4|R>>>22,R=G}R>>>=22,u.words[S-10]=R,R===0&&u.length>10?u.length-=10:u.length-=9},at.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var x=0,v=0;v<u.length;v++){var C=u.words[v]|0;x+=C*977,u.words[v]=x&67108863,x=C*64+(x/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function it(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(it,M);function ft(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ft,M);function Ct(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Ct,M),Ct.prototype.imulK=function(u){for(var x=0,v=0;v<u.length;v++){var C=(u.words[v]|0)*19+x,S=C&67108863;C>>>=26,u.words[v]=S,x=C}return x!==0&&(u.words[u.length++]=x),u},s._prime=function(u){if(X[u])return X[u];var x;if(u==="k256")x=new at;else if(u==="p224")x=new it;else if(u==="p192")x=new ft;else if(u==="p25519")x=new Ct;else throw new Error("Unknown prime "+u);return X[u]=x,x};function gt(_){if(typeof _=="string"){var u=s._prime(_);this.m=u.p,this.prime=u}else n(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}gt.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},gt.prototype._verify2=function(u,x){n((u.negative|x.negative)===0,"red works only with positives"),n(u.red&&u.red===x.red,"red works only with red numbers")},gt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(h(u,u.umod(this.m)._forceRed(this)),u)},gt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},gt.prototype.add=function(u,x){this._verify2(u,x);var v=u.add(x);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},gt.prototype.iadd=function(u,x){this._verify2(u,x);var v=u.iadd(x);return v.cmp(this.m)>=0&&v.isub(this.m),v},gt.prototype.sub=function(u,x){this._verify2(u,x);var v=u.sub(x);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},gt.prototype.isub=function(u,x){this._verify2(u,x);var v=u.isub(x);return v.cmpn(0)<0&&v.iadd(this.m),v},gt.prototype.shl=function(u,x){return this._verify1(u),this.imod(u.ushln(x))},gt.prototype.imul=function(u,x){return this._verify2(u,x),this.imod(u.imul(x))},gt.prototype.mul=function(u,x){return this._verify2(u,x),this.imod(u.mul(x))},gt.prototype.isqr=function(u){return this.imul(u,u.clone())},gt.prototype.sqr=function(u){return this.mul(u,u)},gt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var x=this.m.andln(3);if(n(x%2===1),x===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(u,v)}for(var C=this.m.subn(1),S=0;!C.isZero()&&C.andln(1)===0;)S++,C.iushrn(1);n(!C.isZero());var R=new s(1).toRed(this),G=R.redNeg(),P=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new s(2*p*p).toRed(this);this.pow(p,P).cmp(G)!==0;)p.redIAdd(G);for(var N=this.pow(p,C),wt=this.pow(u,C.addn(1).iushrn(1)),y=this.pow(u,C),z=S;y.cmp(R)!==0;){for(var tt=y,O=0;tt.cmp(R)!==0;O++)tt=tt.redSqr();n(O<z);var V=this.pow(N,new s(1).iushln(z-O-1));wt=wt.redMul(V),N=V.redSqr(),y=y.redMul(N),z=O}return wt},gt.prototype.invm=function(u){var x=u._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},gt.prototype.pow=function(u,x){if(x.isZero())return new s(1).toRed(this);if(x.cmpn(1)===0)return u.clone();var v=4,C=new Array(1<<v);C[0]=new s(1).toRed(this),C[1]=u;for(var S=2;S<C.length;S++)C[S]=this.mul(C[S-1],u);var R=C[0],G=0,P=0,p=x.bitLength()%26;for(p===0&&(p=26),S=x.length-1;S>=0;S--){for(var N=x.words[S],wt=p-1;wt>=0;wt--){var y=N>>wt&1;if(R!==C[0]&&(R=this.sqr(R)),y===0&&G===0){P=0;continue}G<<=1,G|=y,P++,!(P!==v&&(S!==0||wt!==0))&&(R=this.mul(R,C[G]),P=0,G=0)}p=26}return R},gt.prototype.convertTo=function(u){var x=u.umod(this.m);return x===u?x.clone():x},gt.prototype.convertFrom=function(u){var x=u.clone();return x.red=null,x},s.mont=function(u){return new Gt(u)};function Gt(_){gt.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Gt,gt),Gt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Gt.prototype.convertFrom=function(u){var x=this.imod(u.mul(this.rinv));return x.red=null,x},Gt.prototype.imul=function(u,x){if(u.isZero()||x.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(x),C=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(C).iushrn(this.shift),R=S;return S.cmp(this.m)>=0?R=S.isub(this.m):S.cmpn(0)<0&&(R=S.iadd(this.m)),R._forceRed(this)},Gt.prototype.mul=function(u,x){if(u.isZero()||x.isZero())return new s(0)._forceRed(this);var v=u.mul(x),C=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(C).iushrn(this.shift),R=S;return S.cmp(this.m)>=0?R=S.isub(this.m):S.cmpn(0)<0&&(R=S.iadd(this.m)),R._forceRed(this)},Gt.prototype.invm=function(u){var x=this.imod(u._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(r,Fh)})(_h);var om=_h.exports;const ve=tf(om),am="logger/5.7.0";let Cd=!1,Pd=!1;const c0={debug:1,default:2,info:2,warning:3,error:4,off:5};let Sd=c0.default,Gu=null;function fm(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{r.push(t)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const kd=fm();var Bl;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Bl||(Bl={}));var ti;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(ti||(ti={}));const Id="0123456789abcdef";class et{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const n=t.toLowerCase();c0[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Sd>c0[n])&&console.log.apply(console,e)}debug(...t){this._log(et.levels.DEBUG,t)}info(...t){this._log(et.levels.INFO,t)}warn(...t){this._log(et.levels.WARNING,t)}makeError(t,e,n){if(Pd)return this.makeError("censored error",e,{});e||(e=et.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const c=n[f];try{if(c instanceof Uint8Array){let h="";for(let d=0;d<c.length;d++)h+=Id[c[d]>>4],h+=Id[c[d]&15];i.push(f+"=Uint8Array(0x"+h+")")}else i.push(f+"="+JSON.stringify(c))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${e}`),i.push(`version=${this.version}`);const s=t;let o="";switch(e){case ti.NUMERIC_FAULT:{o="NUMERIC_FAULT";const f=t;switch(f){case"overflow":case"underflow":case"division-by-zero":o+="-"+f;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ti.CALL_EXCEPTION:case ti.INSUFFICIENT_FUNDS:case ti.MISSING_NEW:case ti.NONCE_EXPIRED:case ti.REPLACEMENT_UNDERPRICED:case ti.TRANSACTION_REPLACED:case ti.UNPREDICTABLE_GAS_LIMIT:o=e;break}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");const a=new Error(t);return a.reason=s,a.code=e,Object.keys(n).forEach(function(f){a[f]=n[f]}),a}throwError(t,e,n){throw this.makeError(t,e,n)}throwArgumentError(t,e,n){return this.throwError(t,et.errors.INVALID_ARGUMENT,{argument:e,value:n})}assert(t,e,n,i){t||this.throwError(e,n,i)}assertArgument(t,e,n,i){t||this.throwArgumentError(e,n,i)}checkNormalize(t){kd&&this.throwError("platform missing String.prototype.normalize",et.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:kd})}checkSafeUint53(t,e){typeof t=="number"&&(e==null&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,et.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,et.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,n){n?n=": "+n:n="",t<e&&this.throwError("missing argument"+n,et.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+n,et.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||t==null)&&this.throwError("missing new",et.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",et.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",et.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Gu||(Gu=new et(am)),Gu}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",et.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Cd){if(!t)return;this.globalLogger().throwError("error censorship permanent",et.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Pd=!!t,Cd=!!e}static setLogLevel(t){const e=c0[t.toLowerCase()];if(e==null){et.globalLogger().warn("invalid log level - "+t);return}Sd=e}static from(t){return new et(t)}}et.errors=ti;et.levels=Bl;const cm="bytes/5.7.0",br=new et(cm);function yg(r){return!!r.toHexString}function jo(r){return r.slice||(r.slice=function(){const t=Array.prototype.slice.call(arguments);return jo(new Uint8Array(Array.prototype.slice.apply(r,t)))}),r}function Ha(r){return fr(r)&&!(r.length%2)||ef(r)}function Td(r){return typeof r=="number"&&r==r&&r%1===0}function ef(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Td(r.length)||r.length<0)return!1;for(let t=0;t<r.length;t++){const e=r[t];if(!Td(e)||e<0||e>=256)return!1}return!0}function Zt(r,t){if(t||(t={}),typeof r=="number"){br.checkSafeUint53(r,"invalid arrayify value");const e=[];for(;r;)e.unshift(r&255),r=parseInt(String(r/256));return e.length===0&&e.push(0),jo(new Uint8Array(e))}if(t.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),yg(r)&&(r=r.toHexString()),fr(r)){let e=r.substring(2);e.length%2&&(t.hexPad==="left"?e="0"+e:t.hexPad==="right"?e+="0":br.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<e.length;i+=2)n.push(parseInt(e.substring(i,i+2),16));return jo(new Uint8Array(n))}return ef(r)?jo(new Uint8Array(r)):br.throwArgumentError("invalid arrayify value","value",r)}function qs(r){const t=r.map(i=>Zt(i)),e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);return t.reduce((i,s)=>(n.set(s,i),i+s.length),0),jo(n)}function Ga(r){let t=Zt(r);if(t.length===0)return t;let e=0;for(;e<t.length&&t[e]===0;)e++;return e&&(t=t.slice(e)),t}function um(r,t){r=Zt(r),r.length>t&&br.throwArgumentError("value out of range","value",arguments[0]);const e=new Uint8Array(t);return e.set(r,t-r.length),jo(e)}function fr(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||t&&r.length!==2+2*t)}const zu="0123456789abcdef";function de(r,t){if(t||(t={}),typeof r=="number"){br.checkSafeUint53(r,"invalid hexlify value");let e="";for(;r;)e=zu[r&15]+e,r=Math.floor(r/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(t.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),yg(r))return r.toHexString();if(fr(r))return r.length%2&&(t.hexPad==="left"?r="0x0"+r.substring(2):t.hexPad==="right"?r+="0":br.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(ef(r)){let e="0x";for(let n=0;n<r.length;n++){let i=r[n];e+=zu[(i&240)>>4]+zu[i&15]}return e}return br.throwArgumentError("invalid hexlify value","value",r)}function bo(r){if(typeof r!="string")r=de(r);else if(!fr(r)||r.length%2)return null;return(r.length-2)/2}function tn(r,t,e){return typeof r!="string"?r=de(r):(!fr(r)||r.length%2)&&br.throwArgumentError("invalid hexData","value",r),t=2+2*t,e!=null?"0x"+r.substring(t,2+2*e):"0x"+r.substring(t)}function _n(r){let t="0x";return r.forEach(e=>{t+=de(e).substring(2)}),t}function Nh(r){const t=lm(de(r,{hexPad:"left"}));return t==="0x"?"0x0":t}function lm(r){typeof r!="string"&&(r=de(r)),fr(r)||br.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let t=0;for(;t<r.length&&r[t]==="0";)t++;return"0x"+r.substring(t)}function vr(r,t){for(typeof r!="string"?r=de(r):fr(r)||br.throwArgumentError("invalid hex string","value",r),r.length>2*t+2&&br.throwArgumentError("value out of range","value",arguments[1]);r.length<2*t+2;)r="0x0"+r.substring(2);return r}function du(r){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ha(r)){let e=Zt(r);e.length===64?(t.v=27+(e[32]>>7),e[32]&=127,t.r=de(e.slice(0,32)),t.s=de(e.slice(32,64))):e.length===65?(t.r=de(e.slice(0,32)),t.s=de(e.slice(32,64)),t.v=e[64]):br.throwArgumentError("invalid signature string","signature",r),t.v<27&&(t.v===0||t.v===1?t.v+=27:br.throwArgumentError("signature invalid v byte","signature",r)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(e[32]|=128),t._vs=de(e.slice(32,64))}else{if(t.r=r.r,t.s=r.s,t.v=r.v,t.recoveryParam=r.recoveryParam,t._vs=r._vs,t._vs!=null){const i=um(Zt(t._vs),32);t._vs=de(i);const s=i[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=s:t.recoveryParam!==s&&br.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=de(i);t.s==null?t.s=o:t.s!==o&&br.throwArgumentError("signature v mismatch _vs","signature",r)}if(t.recoveryParam==null)t.v==null?br.throwArgumentError("signature missing v and recoveryParam","signature",r):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const i=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==i&&br.throwArgumentError("signature recoveryParam mismatch v","signature",r)}t.r==null||!fr(t.r)?br.throwArgumentError("signature missing or invalid r","signature",r):t.r=vr(t.r,32),t.s==null||!fr(t.s)?br.throwArgumentError("signature missing or invalid s","signature",r):t.s=vr(t.s,32);const e=Zt(t.s);e[0]>=128&&br.throwArgumentError("signature s out of range","signature",r),t.recoveryParam&&(e[0]|=128);const n=de(e);t._vs&&(fr(t._vs)||br.throwArgumentError("signature invalid _vs","signature",r),t._vs=vr(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&br.throwArgumentError("signature _vs mismatch v and s","signature",r)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const mg="bignumber/5.7.0";var P0=ve.BN;const Ui=new et(mg),Vu={},Rd=9007199254740991;function hm(r){return r!=null&&(Et.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||fr(r)||typeof r=="bigint"||ef(r))}let Md=!1;class Et{constructor(t,e){t!==Vu&&Ui.throwError("cannot call constructor directly; use BigNumber.from",et.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return an(Oe(this).fromTwos(t))}toTwos(t){return an(Oe(this).toTwos(t))}abs(){return this._hex[0]==="-"?Et.from(this._hex.substring(1)):this}add(t){return an(Oe(this).add(Oe(t)))}sub(t){return an(Oe(this).sub(Oe(t)))}div(t){return Et.from(t).isZero()&&kn("division-by-zero","div"),an(Oe(this).div(Oe(t)))}mul(t){return an(Oe(this).mul(Oe(t)))}mod(t){const e=Oe(t);return e.isNeg()&&kn("division-by-zero","mod"),an(Oe(this).umod(e))}pow(t){const e=Oe(t);return e.isNeg()&&kn("negative-power","pow"),an(Oe(this).pow(e))}and(t){const e=Oe(t);return(this.isNegative()||e.isNeg())&&kn("unbound-bitwise-result","and"),an(Oe(this).and(e))}or(t){const e=Oe(t);return(this.isNegative()||e.isNeg())&&kn("unbound-bitwise-result","or"),an(Oe(this).or(e))}xor(t){const e=Oe(t);return(this.isNegative()||e.isNeg())&&kn("unbound-bitwise-result","xor"),an(Oe(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&kn("negative-width","mask"),an(Oe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&kn("negative-width","shl"),an(Oe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&kn("negative-width","shr"),an(Oe(this).shrn(t))}eq(t){return Oe(this).eq(Oe(t))}lt(t){return Oe(this).lt(Oe(t))}lte(t){return Oe(this).lte(Oe(t))}gt(t){return Oe(this).gt(Oe(t))}gte(t){return Oe(this).gte(Oe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Oe(this).isZero()}toNumber(){try{return Oe(this).toNumber()}catch{kn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ui.throwError("this platform does not support BigInt",et.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Md||(Md=!0,Ui.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ui.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",et.errors.UNEXPECTED_ARGUMENT,{}):Ui.throwError("BigNumber.toString does not accept parameters",et.errors.UNEXPECTED_ARGUMENT,{})),Oe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Et)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Et(Vu,zf(t)):t.match(/^-?[0-9]+$/)?new Et(Vu,zf(new P0(t))):Ui.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&kn("underflow","BigNumber.from",t),(t>=Rd||t<=-Rd)&&kn("overflow","BigNumber.from",t),Et.from(String(t));const e=t;if(typeof e=="bigint")return Et.from(e.toString());if(ef(e))return Et.from(de(e));if(e)if(e.toHexString){const n=e.toHexString();if(typeof n=="string")return Et.from(n)}else{let n=e._hex;if(n==null&&e.type==="BigNumber"&&(n=e.hex),typeof n=="string"&&(fr(n)||n[0]==="-"&&fr(n.substring(1))))return Et.from(n)}return Ui.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function zf(r){if(typeof r!="string")return zf(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Ui.throwArgumentError("invalid hex","value",r),r=zf(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function an(r){return Et.from(zf(r))}function Oe(r){const t=Et.from(r).toHexString();return t[0]==="-"?new P0("-"+t.substring(3),16):new P0(t.substring(2),16)}function kn(r,t,e){const n={fault:r,operation:t};return e!=null&&(n.value=e),Ui.throwError(r,et.errors.NUMERIC_FAULT,n)}function dm(r){return new P0(r,36).toString(16)}const nn=new et(mg),Sf={},bg=Et.from(0),wg=Et.from(-1);function Ag(r,t,e,n){const i={fault:t,operation:e};return n!==void 0&&(i.value=n),nn.throwError(r,et.errors.NUMERIC_FAULT,i)}let kf="0";for(;kf.length<256;)kf+=kf;function Bh(r){if(typeof r!="number")try{r=Et.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+kf.substring(0,r):nn.throwArgumentError("invalid decimal size","decimals",r)}function u0(r,t){t==null&&(t=0);const e=Bh(t);r=Et.from(r);const n=r.lt(bg);n&&(r=r.mul(wg));let i=r.mod(e).toString();for(;i.length<e.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(e).toString();return e.length===1?r=s:r=s+"."+i,n&&(r="-"+r),r}function pi(r,t){t==null&&(t=0);const e=Bh(t);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&nn.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&nn.throwArgumentError("missing value","value",r);const i=r.split(".");i.length>2&&nn.throwArgumentError("too many decimal points","value",r);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>e.length-1&&Ag("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<e.length-1;)o+="0";const a=Et.from(s),f=Et.from(o);let c=a.mul(e).add(f);return n&&(c=c.mul(wg)),c}class Yo{constructor(t,e,n,i){t!==Sf&&nn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",et.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=n,this.decimals=i,this.name=(e?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Bh(i),Object.freeze(this)}static from(t){if(t instanceof Yo)return t;typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,i=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||nn.throwArgumentError("invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(t){const s=(o,a,f)=>t[o]==null?f:(typeof t[o]!==a&&nn.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,t[o]),t[o]);e=s("signed","boolean",e),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&nn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&nn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Yo(Sf,e,n,i)}}class Ir{constructor(t,e,n,i){t!==Sf&&nn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",et.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=e,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&nn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=pi(this._value,this.format.decimals),n=pi(t._value,t.format.decimals);return Ir.fromValue(e.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=pi(this._value,this.format.decimals),n=pi(t._value,t.format.decimals);return Ir.fromValue(e.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=pi(this._value,this.format.decimals),n=pi(t._value,t.format.decimals);return Ir.fromValue(e.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=pi(this._value,this.format.decimals),n=pi(t._value,t.format.decimals);return Ir.fromValue(e.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let e=Ir.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(e=e.subUnsafe(Od.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let e=Ir.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(e=e.addUnsafe(Od.toFormat(e.format))),e}round(t){t==null&&(t=0);const e=this.toString().split(".");if(e.length===1&&e.push("0"),(t<0||t>80||t%1)&&nn.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const n=Ir.from("1"+kf.substring(0,t),this.format),i=pm.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&nn.throwArgumentError("invalid byte width","width",t);const e=Et.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return vr(e,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ir.fromString(this._value,t)}static fromValue(t,e,n){return n==null&&e!=null&&!hm(e)&&(n=e,e=null),e==null&&(e=0),n==null&&(n="fixed"),Ir.fromString(u0(t,e),Yo.from(n))}static fromString(t,e){e==null&&(e="fixed");const n=Yo.from(e),i=pi(t,n.decimals);!n.signed&&i.lt(bg)&&Ag("unsigned value cannot be negative","overflow","value",t);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=vr(s,n.width/8));const o=u0(i,n.decimals);return new Ir(Sf,s,o,n)}static fromBytes(t,e){e==null&&(e="fixed");const n=Yo.from(e);if(Zt(t).length>n.width/8)throw new Error("overflow");let i=Et.from(t);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=u0(i,n.decimals);return new Ir(Sf,s,o,n)}static from(t,e){if(typeof t=="string")return Ir.fromString(t,e);if(ef(t))return Ir.fromBytes(t,e);try{return Ir.fromValue(t,0,e)}catch(n){if(n.code!==et.errors.INVALID_ARGUMENT)throw n}return nn.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const Od=Ir.from(1),pm=Ir.from("0.5"),gm="properties/5.7.0";var xm=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};const S0=new et(gm);function Ie(r,t,e){Object.defineProperty(r,t,{enumerable:!0,value:e,writable:!1})}function Af(r,t){for(let e=0;e<32;e++){if(r[t])return r[t];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function Rr(r){return xm(this,void 0,void 0,function*(){const t=Object.keys(r).map(n=>{const i=r[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(t)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function ym(r,t){(!r||typeof r!="object")&&S0.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(e=>{t[e]||S0.throwArgumentError("invalid object key - "+e,"transaction:"+e,r)})}function hn(r){const t={};for(const e in r)t[e]=r[e];return t}const mm={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function vg(r){if(r==null||mm[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const t=Object.keys(r);for(let e=0;e<t.length;e++){let n=null;try{n=r[t[e]]}catch{continue}if(!vg(n))return!1}return!0}return S0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function bm(r){if(vg(r))return r;if(Array.isArray(r))return Object.freeze(r.map(t=>wo(t)));if(typeof r=="object"){const t={};for(const e in r){const n=r[e];n!==void 0&&Ie(t,e,wo(n))}return t}return S0.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function wo(r){return bm(r)}class wm{constructor(t){for(const e in t)this[e]=wo(t[e])}}var Eg={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var t="input is invalid type",e="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Fh:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],m=[1,256,65536,16777216],w=[6,1536,393216,100663296],F=[0,8,16,24],I=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],K=[224,256,384,512],D=[128,256],Z=["hex","buffer","arrayBuffer","array","digest"],$={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(y){return Object.prototype.toString.call(y)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(y){return typeof y=="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});for(var xt=function(y,z,tt){return function(O){return new p(y,z,y).update(O)[tt]()}},X=function(y,z,tt){return function(O,V){return new p(y,z,V).update(O)[tt]()}},M=function(y,z,tt){return function(O,V,W,rt){return u["cshake"+y].update(O,V,W,rt)[tt]()}},at=function(y,z,tt){return function(O,V,W,rt){return u["kmac"+y].update(O,V,W,rt)[tt]()}},it=function(y,z,tt,O){for(var V=0;V<Z.length;++V){var W=Z[V];y[W]=z(tt,O,W)}return y},ft=function(y,z){var tt=xt(y,z,"hex");return tt.create=function(){return new p(y,z,y)},tt.update=function(O){return tt.create().update(O)},it(tt,xt,y,z)},Ct=function(y,z){var tt=X(y,z,"hex");return tt.create=function(O){return new p(y,z,O)},tt.update=function(O,V){return tt.create(V).update(O)},it(tt,X,y,z)},gt=function(y,z){var tt=$[y],O=M(y,z,"hex");return O.create=function(V,W,rt){return!W&&!rt?u["shake"+y].create(V):new p(y,z,V).bytepad([W,rt],tt)},O.update=function(V,W,rt,mt){return O.create(W,rt,mt).update(V)},it(O,M,y,z)},Gt=function(y,z){var tt=$[y],O=at(y,z,"hex");return O.create=function(V,W,rt){return new N(y,z,W).bytepad(["KMAC",rt],tt).bytepad([V],tt)},O.update=function(V,W,rt,mt){return O.create(V,rt,mt).update(W)},it(O,at,y,z)},_=[{name:"keccak",padding:m,bits:K,createMethod:ft},{name:"sha3",padding:w,bits:K,createMethod:ft},{name:"shake",padding:h,bits:D,createMethod:Ct},{name:"cshake",padding:d,bits:D,createMethod:gt},{name:"kmac",padding:d,bits:D,createMethod:Gt}],u={},x=[],v=0;v<_.length;++v)for(var C=_[v],S=C.bits,R=0;R<S.length;++R){var G=C.name+"_"+S[R];if(x.push(G),u[G]=C.createMethod(S[R],C.padding),C.name!=="sha3"){var P=C.name+S[R];x.push(P),u[P]=u[G]}}function p(y,z,tt){this.blocks=[],this.s=[],this.padding=z,this.outputBits=tt,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(y<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=tt>>5,this.extraBytes=(tt&31)>>3;for(var O=0;O<50;++O)this.s[O]=0}p.prototype.update=function(y){if(this.finalized)throw new Error(e);var z,tt=typeof y;if(tt!=="string"){if(tt==="object"){if(y===null)throw new Error(t);if(f&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!f||!ArrayBuffer.isView(y)))throw new Error(t)}else throw new Error(t);z=!0}for(var O=this.blocks,V=this.byteCount,W=y.length,rt=this.blockCount,mt=0,Ye=this.s,Bt,Yt;mt<W;){if(this.reset)for(this.reset=!1,O[0]=this.block,Bt=1;Bt<rt+1;++Bt)O[Bt]=0;if(z)for(Bt=this.start;mt<W&&Bt<V;++mt)O[Bt>>2]|=y[mt]<<F[Bt++&3];else for(Bt=this.start;mt<W&&Bt<V;++mt)Yt=y.charCodeAt(mt),Yt<128?O[Bt>>2]|=Yt<<F[Bt++&3]:Yt<2048?(O[Bt>>2]|=(192|Yt>>6)<<F[Bt++&3],O[Bt>>2]|=(128|Yt&63)<<F[Bt++&3]):Yt<55296||Yt>=57344?(O[Bt>>2]|=(224|Yt>>12)<<F[Bt++&3],O[Bt>>2]|=(128|Yt>>6&63)<<F[Bt++&3],O[Bt>>2]|=(128|Yt&63)<<F[Bt++&3]):(Yt=65536+((Yt&1023)<<10|y.charCodeAt(++mt)&1023),O[Bt>>2]|=(240|Yt>>18)<<F[Bt++&3],O[Bt>>2]|=(128|Yt>>12&63)<<F[Bt++&3],O[Bt>>2]|=(128|Yt>>6&63)<<F[Bt++&3],O[Bt>>2]|=(128|Yt&63)<<F[Bt++&3]);if(this.lastByteIndex=Bt,Bt>=V){for(this.start=Bt-V,this.block=O[rt],Bt=0;Bt<rt;++Bt)Ye[Bt]^=O[Bt];wt(Ye),this.reset=!0}else this.start=Bt}return this},p.prototype.encode=function(y,z){var tt=y&255,O=1,V=[tt];for(y=y>>8,tt=y&255;tt>0;)V.unshift(tt),y=y>>8,tt=y&255,++O;return z?V.push(O):V.unshift(O),this.update(V),V.length},p.prototype.encodeString=function(y){var z,tt=typeof y;if(tt!=="string"){if(tt==="object"){if(y===null)throw new Error(t);if(f&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!f||!ArrayBuffer.isView(y)))throw new Error(t)}else throw new Error(t);z=!0}var O=0,V=y.length;if(z)O=V;else for(var W=0;W<y.length;++W){var rt=y.charCodeAt(W);rt<128?O+=1:rt<2048?O+=2:rt<55296||rt>=57344?O+=3:(rt=65536+((rt&1023)<<10|y.charCodeAt(++W)&1023),O+=4)}return O+=this.encode(O*8),this.update(y),O},p.prototype.bytepad=function(y,z){for(var tt=this.encode(z),O=0;O<y.length;++O)tt+=this.encodeString(y[O]);var V=z-tt%z,W=[];return W.length=V,this.update(W),this},p.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,z=this.lastByteIndex,tt=this.blockCount,O=this.s;if(y[z>>2]|=this.padding[z&3],this.lastByteIndex===this.byteCount)for(y[0]=y[tt],z=1;z<tt+1;++z)y[z]=0;for(y[tt-1]|=2147483648,z=0;z<tt;++z)O[z]^=y[z];wt(O)}},p.prototype.toString=p.prototype.hex=function(){this.finalize();for(var y=this.blockCount,z=this.s,tt=this.outputBlocks,O=this.extraBytes,V=0,W=0,rt="",mt;W<tt;){for(V=0;V<y&&W<tt;++V,++W)mt=z[V],rt+=c[mt>>4&15]+c[mt&15]+c[mt>>12&15]+c[mt>>8&15]+c[mt>>20&15]+c[mt>>16&15]+c[mt>>28&15]+c[mt>>24&15];W%y===0&&(wt(z),V=0)}return O&&(mt=z[V],rt+=c[mt>>4&15]+c[mt&15],O>1&&(rt+=c[mt>>12&15]+c[mt>>8&15]),O>2&&(rt+=c[mt>>20&15]+c[mt>>16&15])),rt},p.prototype.arrayBuffer=function(){this.finalize();var y=this.blockCount,z=this.s,tt=this.outputBlocks,O=this.extraBytes,V=0,W=0,rt=this.outputBits>>3,mt;O?mt=new ArrayBuffer(tt+1<<2):mt=new ArrayBuffer(rt);for(var Ye=new Uint32Array(mt);W<tt;){for(V=0;V<y&&W<tt;++V,++W)Ye[W]=z[V];W%y===0&&wt(z)}return O&&(Ye[V]=z[V],mt=mt.slice(0,rt)),mt},p.prototype.buffer=p.prototype.arrayBuffer,p.prototype.digest=p.prototype.array=function(){this.finalize();for(var y=this.blockCount,z=this.s,tt=this.outputBlocks,O=this.extraBytes,V=0,W=0,rt=[],mt,Ye;W<tt;){for(V=0;V<y&&W<tt;++V,++W)mt=W<<2,Ye=z[V],rt[mt]=Ye&255,rt[mt+1]=Ye>>8&255,rt[mt+2]=Ye>>16&255,rt[mt+3]=Ye>>24&255;W%y===0&&wt(z)}return O&&(mt=W<<2,Ye=z[V],rt[mt]=Ye&255,O>1&&(rt[mt+1]=Ye>>8&255),O>2&&(rt[mt+2]=Ye>>16&255)),rt};function N(y,z,tt){p.call(this,y,z,tt)}N.prototype=new p,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),p.prototype.finalize.call(this)};var wt=function(y){var z,tt,O,V,W,rt,mt,Ye,Bt,Yt,kr,Re,Pe,ur,ce,pe,Ot,bt,Dt,_e,ge,ie,nr,ue,fe,Ve,oe,se,He,qt,Xt,Xe,te,ee,ir,le,he,or,Se,Me,Hr,qe,Ze,Sn,er,Ne,xn,g,b,A,l,E,L,U,q,lt,yt,ht,ye,vt,Lt,zt,Jt;for(O=0;O<48;O+=2)V=y[0]^y[10]^y[20]^y[30]^y[40],W=y[1]^y[11]^y[21]^y[31]^y[41],rt=y[2]^y[12]^y[22]^y[32]^y[42],mt=y[3]^y[13]^y[23]^y[33]^y[43],Ye=y[4]^y[14]^y[24]^y[34]^y[44],Bt=y[5]^y[15]^y[25]^y[35]^y[45],Yt=y[6]^y[16]^y[26]^y[36]^y[46],kr=y[7]^y[17]^y[27]^y[37]^y[47],Re=y[8]^y[18]^y[28]^y[38]^y[48],Pe=y[9]^y[19]^y[29]^y[39]^y[49],z=Re^(rt<<1|mt>>>31),tt=Pe^(mt<<1|rt>>>31),y[0]^=z,y[1]^=tt,y[10]^=z,y[11]^=tt,y[20]^=z,y[21]^=tt,y[30]^=z,y[31]^=tt,y[40]^=z,y[41]^=tt,z=V^(Ye<<1|Bt>>>31),tt=W^(Bt<<1|Ye>>>31),y[2]^=z,y[3]^=tt,y[12]^=z,y[13]^=tt,y[22]^=z,y[23]^=tt,y[32]^=z,y[33]^=tt,y[42]^=z,y[43]^=tt,z=rt^(Yt<<1|kr>>>31),tt=mt^(kr<<1|Yt>>>31),y[4]^=z,y[5]^=tt,y[14]^=z,y[15]^=tt,y[24]^=z,y[25]^=tt,y[34]^=z,y[35]^=tt,y[44]^=z,y[45]^=tt,z=Ye^(Re<<1|Pe>>>31),tt=Bt^(Pe<<1|Re>>>31),y[6]^=z,y[7]^=tt,y[16]^=z,y[17]^=tt,y[26]^=z,y[27]^=tt,y[36]^=z,y[37]^=tt,y[46]^=z,y[47]^=tt,z=Yt^(V<<1|W>>>31),tt=kr^(W<<1|V>>>31),y[8]^=z,y[9]^=tt,y[18]^=z,y[19]^=tt,y[28]^=z,y[29]^=tt,y[38]^=z,y[39]^=tt,y[48]^=z,y[49]^=tt,ur=y[0],ce=y[1],Ne=y[11]<<4|y[10]>>>28,xn=y[10]<<4|y[11]>>>28,se=y[20]<<3|y[21]>>>29,He=y[21]<<3|y[20]>>>29,vt=y[31]<<9|y[30]>>>23,Lt=y[30]<<9|y[31]>>>23,qe=y[40]<<18|y[41]>>>14,Ze=y[41]<<18|y[40]>>>14,ee=y[2]<<1|y[3]>>>31,ir=y[3]<<1|y[2]>>>31,pe=y[13]<<12|y[12]>>>20,Ot=y[12]<<12|y[13]>>>20,g=y[22]<<10|y[23]>>>22,b=y[23]<<10|y[22]>>>22,qt=y[33]<<13|y[32]>>>19,Xt=y[32]<<13|y[33]>>>19,zt=y[42]<<2|y[43]>>>30,Jt=y[43]<<2|y[42]>>>30,U=y[5]<<30|y[4]>>>2,q=y[4]<<30|y[5]>>>2,le=y[14]<<6|y[15]>>>26,he=y[15]<<6|y[14]>>>26,bt=y[25]<<11|y[24]>>>21,Dt=y[24]<<11|y[25]>>>21,A=y[34]<<15|y[35]>>>17,l=y[35]<<15|y[34]>>>17,Xe=y[45]<<29|y[44]>>>3,te=y[44]<<29|y[45]>>>3,ue=y[6]<<28|y[7]>>>4,fe=y[7]<<28|y[6]>>>4,lt=y[17]<<23|y[16]>>>9,yt=y[16]<<23|y[17]>>>9,or=y[26]<<25|y[27]>>>7,Se=y[27]<<25|y[26]>>>7,_e=y[36]<<21|y[37]>>>11,ge=y[37]<<21|y[36]>>>11,E=y[47]<<24|y[46]>>>8,L=y[46]<<24|y[47]>>>8,Sn=y[8]<<27|y[9]>>>5,er=y[9]<<27|y[8]>>>5,Ve=y[18]<<20|y[19]>>>12,oe=y[19]<<20|y[18]>>>12,ht=y[29]<<7|y[28]>>>25,ye=y[28]<<7|y[29]>>>25,Me=y[38]<<8|y[39]>>>24,Hr=y[39]<<8|y[38]>>>24,ie=y[48]<<14|y[49]>>>18,nr=y[49]<<14|y[48]>>>18,y[0]=ur^~pe&bt,y[1]=ce^~Ot&Dt,y[10]=ue^~Ve&se,y[11]=fe^~oe&He,y[20]=ee^~le&or,y[21]=ir^~he&Se,y[30]=Sn^~Ne&g,y[31]=er^~xn&b,y[40]=U^~lt&ht,y[41]=q^~yt&ye,y[2]=pe^~bt&_e,y[3]=Ot^~Dt&ge,y[12]=Ve^~se&qt,y[13]=oe^~He&Xt,y[22]=le^~or&Me,y[23]=he^~Se&Hr,y[32]=Ne^~g&A,y[33]=xn^~b&l,y[42]=lt^~ht&vt,y[43]=yt^~ye&Lt,y[4]=bt^~_e&ie,y[5]=Dt^~ge&nr,y[14]=se^~qt&Xe,y[15]=He^~Xt&te,y[24]=or^~Me&qe,y[25]=Se^~Hr&Ze,y[34]=g^~A&E,y[35]=b^~l&L,y[44]=ht^~vt&zt,y[45]=ye^~Lt&Jt,y[6]=_e^~ie&ur,y[7]=ge^~nr&ce,y[16]=qt^~Xe&ue,y[17]=Xt^~te&fe,y[26]=Me^~qe&ee,y[27]=Hr^~Ze&ir,y[36]=A^~E&Sn,y[37]=l^~L&er,y[46]=vt^~zt&U,y[47]=Lt^~Jt&q,y[8]=ie^~ur&pe,y[9]=nr^~ce&Ot,y[18]=Xe^~ue&Ve,y[19]=te^~fe&oe,y[28]=qe^~ee&le,y[29]=Ze^~ir&he,y[38]=E^~Sn&Ne,y[39]=L^~er&xn,y[48]=zt^~U&lt,y[49]=Jt^~q&yt,y[0]^=I[O],y[1]^=I[O+1]};if(a)r.exports=u;else for(v=0;v<x.length;++v)i[x[v]]=u[x[v]]})()})(Eg);var Am=Eg.exports;const vm=tf(Am);function Or(r){return"0x"+vm.keccak_256(Zt(r))}const Em="rlp/5.7.0",xi=new et(Em);function Ud(r){const t=[];for(;r;)t.unshift(r&255),r>>=8;return t}function Dd(r,t,e){let n=0;for(let i=0;i<e;i++)n=n*256+r[t+i];return n}function Fg(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(Fg(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Ud(n.length);return i.unshift(247+i.length),i.concat(n)}Ha(r)||xi.throwArgumentError("RLP object must be BytesLike","object",r);const t=Array.prototype.slice.call(Zt(r));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=Ud(t.length);return e.unshift(183+e.length),e.concat(t)}function pu(r){return de(Fg(r))}function Ld(r,t,e,n){const i=[];for(;e<t+1+n;){const s=_g(r,e);i.push(s.result),e+=s.consumed,e>t+1+n&&xi.throwError("child data too short",et.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function _g(r,t){if(r.length===0&&xi.throwError("data too short",et.errors.BUFFER_OVERRUN,{}),r[t]>=248){const e=r[t]-247;t+1+e>r.length&&xi.throwError("data short segment too short",et.errors.BUFFER_OVERRUN,{});const n=Dd(r,t+1,e);return t+1+e+n>r.length&&xi.throwError("data long segment too short",et.errors.BUFFER_OVERRUN,{}),Ld(r,t,t+1+e,e+n)}else if(r[t]>=192){const e=r[t]-192;return t+1+e>r.length&&xi.throwError("data array too short",et.errors.BUFFER_OVERRUN,{}),Ld(r,t,t+1,e)}else if(r[t]>=184){const e=r[t]-183;t+1+e>r.length&&xi.throwError("data array too short",et.errors.BUFFER_OVERRUN,{});const n=Dd(r,t+1,e);t+1+e+n>r.length&&xi.throwError("data array too short",et.errors.BUFFER_OVERRUN,{});const i=de(r.slice(t+1+e,t+1+e+n));return{consumed:1+e+n,result:i}}else if(r[t]>=128){const e=r[t]-128;t+1+e>r.length&&xi.throwError("data too short",et.errors.BUFFER_OVERRUN,{});const n=de(r.slice(t+1,t+1+e));return{consumed:1+e,result:n}}return{consumed:1,result:de(r[t])}}function gu(r){const t=Zt(r),e=_g(t,0);return e.consumed!==t.length&&xi.throwArgumentError("invalid rlp data","data",r),e.result}const Fm="address/5.7.0",Lo=new et(Fm);function Hd(r){fr(r,20)||Lo.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const t=r.substring(2).split(""),e=new Uint8Array(40);for(let i=0;i<40;i++)e[i]=t[i].charCodeAt(0);const n=Zt(Or(e));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const _m=9007199254740991;function Nm(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Ch={};for(let r=0;r<10;r++)Ch[String(r)]=String(r);for(let r=0;r<26;r++)Ch[String.fromCharCode(65+r)]=String(10+r);const Gd=Math.floor(Nm(_m));function Bm(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let t=r.split("").map(n=>Ch[n]).join("");for(;t.length>=Gd;){let n=t.substring(0,Gd);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}function Bn(r){let t=null;if(typeof r!="string"&&Lo.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),t=Hd(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==r&&Lo.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Bm(r)&&Lo.throwArgumentError("bad icap checksum","address",r),t=dm(r.substring(4));t.length<40;)t="0"+t;t=Hd("0x"+t)}else Lo.throwArgumentError("invalid address","address",r);return t}function Cm(r){try{return Bn(r),!0}catch{}return!1}function Pm(r){let t=null;try{t=Bn(r.from)}catch{Lo.throwArgumentError("missing from address","transaction",r)}const e=Ga(Zt(Et.from(r.nonce).toHexString()));return Bn(tn(Or(pu([t,e])),12))}const Ng="0x0000000000000000000000000000000000000000",Sm=Et.from(0),km="0x0000000000000000000000000000000000000000000000000000000000000000",Im="strings/5.7.0",Bg=new et(Im);var Vf;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Vf||(Vf={}));var vn;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(vn||(vn={}));function Tm(r,t,e,n,i){return Bg.throwArgumentError(`invalid codepoint at offset ${t}; ${r}`,"bytes",e)}function Cg(r,t,e,n,i){if(r===vn.BAD_PREFIX||r===vn.UNEXPECTED_CONTINUE){let s=0;for(let o=t+1;o<e.length&&e[o]>>6===2;o++)s++;return s}return r===vn.OVERRUN?e.length-t-1:0}function Rm(r,t,e,n,i){return r===vn.OVERLONG?(n.push(i),0):(n.push(65533),Cg(r,t,e))}const Mm=Object.freeze({error:Tm,ignore:Cg,replace:Rm});function Pg(r,t){t==null&&(t=Mm.error),r=Zt(r);const e=[];let n=0;for(;n<r.length;){const i=r[n++];if(!(i>>7)){e.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=t(vn.UNEXPECTED_CONTINUE,n-1,r,e):n+=t(vn.BAD_PREFIX,n-1,r,e);continue}if(n-1+s>=r.length){n+=t(vn.OVERRUN,n-1,r,e);continue}let a=i&(1<<8-s-1)-1;for(let f=0;f<s;f++){let c=r[n];if((c&192)!=128){n+=t(vn.MISSING_CONTINUE,n,r,e),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=t(vn.OUT_OF_RANGE,n-1-s,r,e,a);continue}if(a>=55296&&a<=57343){n+=t(vn.UTF16_SURROGATE,n-1-s,r,e,a);continue}if(a<=o){n+=t(vn.OVERLONG,n-1-s,r,e,a);continue}e.push(a)}}return e}function rs(r,t=Vf.current){t!=Vf.current&&(Bg.checkNormalize(),r=r.normalize(t));let e=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192),e.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);e.push(o>>18|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(o&63|128)}else e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128)}return Zt(e)}function Om(r){return r.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function xu(r,t){return Om(Pg(r,t))}function Um(r,t=Vf.current){return Pg(rs(r,t))}function Sg(r){return Or(rs(r))}const kg="hash/5.7.0";function Ig(r){r=atob(r);const t=[];for(let e=0;e<r.length;e++)t.push(r.charCodeAt(e));return Zt(t)}function Tg(r){r=Zt(r);let t="";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return btoa(t)}function Rg(r,t){t==null&&(t=1);const e=[],n=e.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):e.push(a)})};return i(r,t),e}function Dm(r){const t={};for(let e=0;e<r.length;e++){const n=r[e];t[n[0]]=n[1]}return t}function Lm(r){let t=0;function e(){return r[t++]<<8|r[t++]}let n=e(),i=1,s=[0,1];for(let X=1;X<n;X++)s.push(i+=e());let o=e(),a=t;t+=o;let f=0,c=0;function h(){return f==0&&(c=c<<8|r[t++],f=8),c>>--f&1}const d=31,m=Math.pow(2,d),w=m>>>1,F=w>>1,I=m-1;let K=0;for(let X=0;X<d;X++)K=K<<1|h();let D=[],Z=0,$=m;for(;;){let X=Math.floor(((K-Z+1)*i-1)/$),M=0,at=n;for(;at-M>1;){let Ct=M+at>>>1;X<s[Ct]?at=Ct:M=Ct}if(M==0)break;D.push(M);let it=Z+Math.floor($*s[M]/i),ft=Z+Math.floor($*s[M+1]/i)-1;for(;!((it^ft)&w);)K=K<<1&I|h(),it=it<<1&I,ft=ft<<1&I|1;for(;it&~ft&F;)K=K&w|K<<1&I>>>1|h(),it=it<<1^w,ft=(ft^w)<<1|w|1;Z=it,$=1+ft-it}let xt=n-4;return D.map(X=>{switch(X-xt){case 3:return xt+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return xt+256+(r[a++]<<8|r[a++]);case 1:return xt+r[a++];default:return X-1}})}function Hm(r){let t=0;return()=>r[t++]}function Gm(r){return Hm(Lm(r))}function zm(r){return r&1?~r>>1:r>>1}function Vm(r,t){let e=Array(r);for(let n=0;n<r;n++)e[n]=1+t();return e}function zd(r,t){let e=Array(r);for(let n=0,i=-1;n<r;n++)e[n]=i+=1+t();return e}function Qm(r,t){let e=Array(r);for(let n=0,i=0;n<r;n++)e[n]=i+=zm(t());return e}function k0(r,t){let e=zd(r(),r),n=r(),i=zd(n,r),s=Vm(n,r);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)e.push(i[o]+a);return t?e.map(o=>t[o]):e}function Km(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(jm(e,r))}for(;;){let e=r()-1;if(e<0)break;t.push(Ym(e,r))}return Dm(Rg(t))}function Jm(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(e)}return t}function Mg(r,t,e){let n=Array(r).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)Qm(r,e).forEach((s,o)=>n[o].push(s));return n}function jm(r,t){let e=1+t(),n=t(),i=Jm(t),s=Mg(i.length,1+r,t);return Rg(s.map((o,a)=>{const f=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((h,d)=>{let m=d*n;return[f+d*e,c.map(w=>w+m)]})}))}function Ym(r,t){let e=1+t();return Mg(e,1+r,t).map(i=>[i[0],i.slice(1)])}function qm(r){let t=k0(r).sort((n,i)=>n-i);return e();function e(){let n=[];for(;;){let c=k0(r,t);if(c.length==0)break;n.push({set:new Set(c),node:e()})}n.sort((c,h)=>h.set.size-c.set.size);let i=r(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,f=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:f}}}function Wm(){return Gm(Ig("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"))}const yu=Wm(),$m=new Set(k0(yu)),Xm=new Set(k0(yu)),Zm=Km(yu),tb=qm(yu),Vd=45,Qd=95;function Og(r){return Um(r)}function eb(r){return r.filter(t=>t!=65039)}function Ug(r){for(let t of r.split(".")){let e=Og(t);try{for(let n=e.lastIndexOf(Qd)-1;n>=0;n--)if(e[n]!==Qd)throw new Error("underscore only allowed at start");if(e.length>=4&&e.every(n=>n<128)&&e[2]===Vd&&e[3]===Vd)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${t}": ${n.message}`)}}return r}function rb(r){return Ug(nb(r,eb))}function nb(r,t){let e=Og(r).reverse(),n=[];for(;e.length;){let i=sb(e);if(i){n.push(...t(i));continue}let s=e.pop();if($m.has(s)){n.push(s);continue}if(Xm.has(s))continue;let o=Zm[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Ug(ib(String.fromCodePoint(...n)))}function ib(r){return r.normalize("NFC")}function sb(r,t){var e;let n=tb,i,s,o=[],a=r.length;for(t&&(t.length=0);a;){let f=r[--a];if(n=(e=n.branches.find(c=>c.set.has(f)))===null||e===void 0?void 0:e.node,!n)break;if(n.save)s=f;else if(n.check&&f===s)break;o.push(f),n.fe0f&&(o.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t&&t.push(...r.slice(a).reverse()),r.length=a)}return i}const ob=new et(kg),Dg=new Uint8Array(32);Dg.fill(0);function Kd(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Lg(r){const t=rs(rb(r)),e=[];if(r.length===0)return e;let n=0;for(let i=0;i<t.length;i++)t[i]===46&&(e.push(Kd(t.slice(n,i))),n=i+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");return e.push(Kd(t.slice(n))),e}function l0(r){typeof r!="string"&&ob.throwArgumentError("invalid ENS name; not a string","name",r);let t=Dg;const e=Lg(r);for(;e.length;)t=Or(qs([t,Or(e.pop())]));return de(t)}function ab(r){return de(qs(Lg(r).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}var fb=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};const lr=new et(kg),Hg=new Uint8Array(32);Hg.fill(0);const cb=Et.from(-1),Gg=Et.from(0),zg=Et.from(1),ub=Et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function lb(r){const t=Zt(r),e=t.length%32;return e?_n([t,Hg.slice(e)]):de(t)}const hb=vr(zg.toHexString(),32),db=vr(Gg.toHexString(),32),Jd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Qu=["name","version","chainId","verifyingContract","salt"];function jd(r){return function(t){return typeof t!="string"&&lr.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const pb={name:jd("name"),version:jd("version"),chainId:function(r){try{return Et.from(r).toString()}catch{}return lr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Bn(r).toLowerCase()}catch{}return lr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const t=Zt(r);if(t.length!==32)throw new Error("bad length");return de(t)}catch{}return lr.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function Ku(r){{const t=r.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&lr.throwArgumentError("invalid numeric width","type",r);const i=ub.mask(e?n-1:n),s=e?i.add(zg).mul(cb):Gg;return function(o){const a=Et.from(o);return(a.lt(s)||a.gt(i))&&lr.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),vr(a.toTwos(256).toHexString(),32)}}}{const t=r.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return(e===0||e>32||t[1]!==String(e))&&lr.throwArgumentError("invalid bytes width","type",r),function(n){return Zt(n).length!==e&&lr.throwArgumentError(`invalid length for ${r}`,"value",n),lb(n)}}}switch(r){case"address":return function(t){return vr(Bn(t),32)};case"bool":return function(t){return t?hb:db};case"bytes":return function(t){return Or(t)};case"string":return function(t){return Sg(t)}}return null}function Yd(r,t){return`${r}(${t.map(({name:e,type:n})=>n+" "+e).join(",")})`}let qd=class Wn{constructor(t){Ie(this,"types",Object.freeze(wo(t))),Ie(this,"_encoderCache",{}),Ie(this,"_types",{});const e={},n={},i={};Object.keys(t).forEach(a=>{e[a]={},n[a]=[],i[a]={}});for(const a in t){const f={};t[a].forEach(c=>{f[c.name]&&lr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",t),f[c.name]=!0;const h=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];h===a&&lr.throwArgumentError(`circular type reference to ${JSON.stringify(h)}`,"types",t),!Ku(h)&&(n[h]||lr.throwArgumentError(`unknown type ${JSON.stringify(h)}`,"types",t),n[h].push(a),e[a][h]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?lr.throwArgumentError("missing primary type","types",t):s.length>1&&lr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",t),Ie(this,"primaryType",s[0]);function o(a,f){f[a]&&lr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",t),f[a]=!0,Object.keys(e[a]).forEach(c=>{n[c]&&(o(c,f),Object.keys(f).forEach(h=>{i[h][c]=!0}))}),delete f[a]}o(this.primaryType,{});for(const a in i){const f=Object.keys(i[a]);f.sort(),this._types[a]=Yd(a,t[a])+f.map(c=>Yd(c,t[c])).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const i=Ku(t);if(i)return i}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const i=e[1],s=this.getEncoder(i),o=parseInt(e[3]);return a=>{o>=0&&a.length!==o&&lr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let f=a.map(s);return this._types[i]&&(f=f.map(Or)),Or(_n(f))}}const n=this.types[t];if(n){const i=Sg(this._types[t]);return s=>{const o=n.map(({name:a,type:f})=>{const c=this.getEncoder(f)(s[a]);return this._types[f]?Or(c):c});return o.unshift(i),_n(o)}}return lr.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||lr.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Or(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(Ku(t))return n(t,e);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&e.length!==a&&lr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map(f=>this._visit(o,f,n))}const s=this.types[t];return s?s.reduce((o,{name:a,type:f})=>(o[a]=this._visit(f,e[a],n),o),{}):lr.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Wn(t)}static getPrimaryType(t){return Wn.from(t).primaryType}static hashStruct(t,e,n){return Wn.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){const i=Jd[n];i||lr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:i})}return e.sort((n,i)=>Qu.indexOf(n.name)-Qu.indexOf(i.name)),Wn.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return _n(["0x1901",Wn.hashDomain(t),Wn.from(e).hash(n)])}static hash(t,e,n){return Or(Wn.encode(t,e,n))}static resolveNames(t,e,n,i){return fb(this,void 0,void 0,function*(){t=hn(t);const s={};t.verifyingContract&&!fr(t.verifyingContract,20)&&(s[t.verifyingContract]="0x");const o=Wn.from(e);o.visit(n,(a,f)=>(a==="address"&&!fr(f,20)&&(s[f]="0x"),f));for(const a in s)s[a]=yield i(a);return t.verifyingContract&&s[t.verifyingContract]&&(t.verifyingContract=s[t.verifyingContract]),n=o.visit(n,(a,f)=>a==="address"&&s[f]?s[f]:f),{domain:t,value:n}})}static getPayload(t,e,n){Wn.hashDomain(t);const i={},s=[];Qu.forEach(f=>{const c=t[f];c!=null&&(i[f]=pb[f](c),s.push({name:f,type:Jd[f]}))});const o=Wn.from(e),a=hn(e);return a.EIP712Domain?lr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(f,c)=>{if(f.match(/^bytes(\d*)/))return de(Zt(c));if(f.match(/^u?int/))return Et.from(c).toString();switch(f){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&lr.throwArgumentError("invalid string","value",c),c}return lr.throwArgumentError("unsupported type","type",f)})}}};const gb="abstract-provider/5.7.0";var xb=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};const yb=new et(gb);class mb extends wm{static isForkEvent(t){return!!(t&&t._isForkEvent)}}class mu{constructor(){yb.checkAbstract(new.target,mu),Ie(this,"_isProvider",!0)}getFeeData(){return xb(this,void 0,void 0,function*(){const{block:t,gasPrice:e}=yield Rr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return t&&t.baseFeePerGas&&(n=t.baseFeePerGas,s=Et.from("1500000000"),i=t.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:e}})}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!!(t&&t._isProvider)}}const bb="abstract-signer/5.7.0";var Yn=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};const Tn=new et(bb),wb=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ab=[et.errors.INSUFFICIENT_FUNDS,et.errors.NONCE_EXPIRED,et.errors.REPLACEMENT_UNDERPRICED];class vc{constructor(){Tn.checkAbstract(new.target,vc),Ie(this,"_isSigner",!0)}getBalance(t){return Yn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Yn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Yn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const e=yield Rr(this.checkTransaction(t));return yield this.provider.estimateGas(e)})}call(t,e){return Yn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Rr(this.checkTransaction(t));return yield this.provider.call(n,e)})}sendTransaction(t){return Yn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),n=yield this.signTransaction(e);return yield this.provider.sendTransaction(n)})}getChainId(){return Yn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Yn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Yn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Yn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const n in t)wb.indexOf(n)===-1&&Tn.throwArgumentError("invalid transaction key: "+n,"transaction",t);const e=hn(t);return e.from==null?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Tn.throwArgumentError("from address mismatch","transaction",t),n[0])),e}populateTransaction(t){return Yn(this,void 0,void 0,function*(){const e=yield Rr(this.checkTransaction(t));e.to!=null&&(e.to=Promise.resolve(e.to).then(i=>Yn(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Tn.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),e.to.catch(i=>{}));const n=e.maxFeePerGas!=null||e.maxPriorityFeePerGas!=null;if(e.gasPrice!=null&&(e.type===2||n)?Tn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(e.type===0||e.type===1)&&n&&Tn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(e.type===2||e.type==null)&&e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null)e.type=2;else if(e.type===0||e.type===1)e.gasPrice==null&&(e.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(e.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(e.type=2,e.gasPrice!=null){const s=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=s,e.maxPriorityFeePerGas=s}else e.maxFeePerGas==null&&(e.maxFeePerGas=i.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Tn.throwError("network does not support EIP-1559",et.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),e.gasPrice==null&&(e.gasPrice=i.gasPrice),e.type=0):Tn.throwError("failed to get consistent fee data",et.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else e.type===2&&(e.maxFeePerGas==null&&(e.maxFeePerGas=i.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return e.nonce==null&&(e.nonce=this.getTransactionCount("pending")),e.gasLimit==null&&(e.gasLimit=this.estimateGas(e).catch(i=>{if(Ab.indexOf(i.code)>=0)throw i;return Tn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",et.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:e})})),e.chainId==null?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Tn.throwArgumentError("chainId address mismatch","transaction",t),i[0])),yield Rr(e)})}_checkProvider(t){this.provider||Tn.throwError("missing provider",et.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class Ph extends vc{constructor(t,e){super(),Ie(this,"address",t),Ie(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then(()=>{Tn.throwError(t,et.errors.UNSUPPORTED_OPERATION,{operation:e})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new Ph(this.address,t)}}var Vg={},Le={},Ec=Qg;function Qg(r,t){if(!r)throw new Error(t||"Assertion failed")}Qg.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var Cl={exports:{}};typeof Object.create=="function"?Cl.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Cl.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}};var vb=Cl.exports,Eb=Ec,Fb=vb;Le.inherits=Fb;function _b(r,t){return(r.charCodeAt(t)&64512)!==55296||t<0||t+1>=r.length?!1:(r.charCodeAt(t+1)&64512)===56320}function Nb(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if(typeof r=="string")if(t){if(t==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)e.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):_b(r,i)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}else for(i=0;i<r.length;i++)e[i]=r[i]|0;return e}Le.toArray=Nb;function Bb(r){for(var t="",e=0;e<r.length;e++)t+=Jg(r[e].toString(16));return t}Le.toHex=Bb;function Kg(r){var t=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return t>>>0}Le.htonl=Kg;function Cb(r,t){for(var e="",n=0;n<r.length;n++){var i=r[n];t==="little"&&(i=Kg(i)),e+=jg(i.toString(16))}return e}Le.toHex32=Cb;function Jg(r){return r.length===1?"0"+r:r}Le.zero2=Jg;function jg(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Le.zero8=jg;function Pb(r,t,e,n){var i=e-t;Eb(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var f;n==="big"?f=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:f=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=f>>>0}return s}Le.join32=Pb;function Sb(r,t){for(var e=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var s=r[n];t==="big"?(e[i]=s>>>24,e[i+1]=s>>>16&255,e[i+2]=s>>>8&255,e[i+3]=s&255):(e[i+3]=s>>>24,e[i+2]=s>>>16&255,e[i+1]=s>>>8&255,e[i]=s&255)}return e}Le.split32=Sb;function kb(r,t){return r>>>t|r<<32-t}Le.rotr32=kb;function Ib(r,t){return r<<t|r>>>32-t}Le.rotl32=Ib;function Tb(r,t){return r+t>>>0}Le.sum32=Tb;function Rb(r,t,e){return r+t+e>>>0}Le.sum32_3=Rb;function Mb(r,t,e,n){return r+t+e+n>>>0}Le.sum32_4=Mb;function Ob(r,t,e,n,i){return r+t+e+n+i>>>0}Le.sum32_5=Ob;function Ub(r,t,e,n){var i=r[t],s=r[t+1],o=n+s>>>0,a=(o<n?1:0)+e+i;r[t]=a>>>0,r[t+1]=o}Le.sum64=Ub;function Db(r,t,e,n){var i=t+n>>>0,s=(i<t?1:0)+r+e;return s>>>0}Le.sum64_hi=Db;function Lb(r,t,e,n){var i=t+n;return i>>>0}Le.sum64_lo=Lb;function Hb(r,t,e,n,i,s,o,a){var f=0,c=t;c=c+n>>>0,f+=c<t?1:0,c=c+s>>>0,f+=c<s?1:0,c=c+a>>>0,f+=c<a?1:0;var h=r+e+i+o+f;return h>>>0}Le.sum64_4_hi=Hb;function Gb(r,t,e,n,i,s,o,a){var f=t+n+s+a;return f>>>0}Le.sum64_4_lo=Gb;function zb(r,t,e,n,i,s,o,a,f,c){var h=0,d=t;d=d+n>>>0,h+=d<t?1:0,d=d+s>>>0,h+=d<s?1:0,d=d+a>>>0,h+=d<a?1:0,d=d+c>>>0,h+=d<c?1:0;var m=r+e+i+o+f+h;return m>>>0}Le.sum64_5_hi=zb;function Vb(r,t,e,n,i,s,o,a,f,c){var h=t+n+s+a+c;return h>>>0}Le.sum64_5_lo=Vb;function Qb(r,t,e){var n=t<<32-e|r>>>e;return n>>>0}Le.rotr64_hi=Qb;function Kb(r,t,e){var n=r<<32-e|t>>>e;return n>>>0}Le.rotr64_lo=Kb;function Jb(r,t,e){return r>>>e}Le.shr64_hi=Jb;function jb(r,t,e){var n=r<<32-e|t>>>e;return n>>>0}Le.shr64_lo=jb;var rf={},Wd=Le,Yb=Ec;function bu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}rf.BlockHash=bu;bu.prototype.update=function(t,e){if(t=Wd.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Wd.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};bu.prototype.digest=function(t){return this.update(this._pad()),Yb(this.pending===null),this._digest(t)};bu.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(t<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=t>>>24&255,i[s++]=t>>>16&255,i[s++]=t>>>8&255,i[s++]=t&255}else for(i[s++]=t&255,i[s++]=t>>>8&255,i[s++]=t>>>16&255,i[s++]=t>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var nf={},Ri={},qb=Le,Bi=qb.rotr32;function Wb(r,t,e,n){if(r===0)return Yg(t,e,n);if(r===1||r===3)return Wg(t,e,n);if(r===2)return qg(t,e,n)}Ri.ft_1=Wb;function Yg(r,t,e){return r&t^~r&e}Ri.ch32=Yg;function qg(r,t,e){return r&t^r&e^t&e}Ri.maj32=qg;function Wg(r,t,e){return r^t^e}Ri.p32=Wg;function $b(r){return Bi(r,2)^Bi(r,13)^Bi(r,22)}Ri.s0_256=$b;function Xb(r){return Bi(r,6)^Bi(r,11)^Bi(r,25)}Ri.s1_256=Xb;function Zb(r){return Bi(r,7)^Bi(r,18)^r>>>3}Ri.g0_256=Zb;function tw(r){return Bi(r,17)^Bi(r,19)^r>>>10}Ri.g1_256=tw;var za=Le,ew=rf,rw=Ri,Ju=za.rotl32,df=za.sum32,nw=za.sum32_5,iw=rw.ft_1,$g=ew.BlockHash,sw=[1518500249,1859775393,2400959708,3395469782];function ki(){if(!(this instanceof ki))return new ki;$g.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}za.inherits(ki,$g);var ow=ki;ki.blockSize=512;ki.outSize=160;ki.hmacStrength=80;ki.padLength=64;ki.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=Ju(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),d=nw(Ju(s,5),iw(h,o,a,f),c,n[i],sw[h]);c=f,f=a,a=Ju(o,30),o=s,s=d}this.h[0]=df(this.h[0],s),this.h[1]=df(this.h[1],o),this.h[2]=df(this.h[2],a),this.h[3]=df(this.h[3],f),this.h[4]=df(this.h[4],c)};ki.prototype._digest=function(t){return t==="hex"?za.toHex32(this.h,"big"):za.split32(this.h,"big")};var Va=Le,aw=rf,sf=Ri,fw=Ec,qn=Va.sum32,cw=Va.sum32_4,uw=Va.sum32_5,lw=sf.ch32,hw=sf.maj32,dw=sf.s0_256,pw=sf.s1_256,gw=sf.g0_256,xw=sf.g1_256,Xg=aw.BlockHash,yw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ii(){if(!(this instanceof Ii))return new Ii;Xg.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=yw,this.W=new Array(64)}Va.inherits(Ii,Xg);var Zg=Ii;Ii.blockSize=512;Ii.outSize=256;Ii.hmacStrength=192;Ii.padLength=64;Ii.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=cw(xw(n[i-2]),n[i-7],gw(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],h=this.h[5],d=this.h[6],m=this.h[7];for(fw(this.k.length===n.length),i=0;i<n.length;i++){var w=uw(m,pw(c),lw(c,h,d),this.k[i],n[i]),F=qn(dw(s),hw(s,o,a));m=d,d=h,h=c,c=qn(f,w),f=a,a=o,o=s,s=qn(w,F)}this.h[0]=qn(this.h[0],s),this.h[1]=qn(this.h[1],o),this.h[2]=qn(this.h[2],a),this.h[3]=qn(this.h[3],f),this.h[4]=qn(this.h[4],c),this.h[5]=qn(this.h[5],h),this.h[6]=qn(this.h[6],d),this.h[7]=qn(this.h[7],m)};Ii.prototype._digest=function(t){return t==="hex"?Va.toHex32(this.h,"big"):Va.split32(this.h,"big")};var Pl=Le,tx=Zg;function ns(){if(!(this instanceof ns))return new ns;tx.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Pl.inherits(ns,tx);var mw=ns;ns.blockSize=512;ns.outSize=224;ns.hmacStrength=192;ns.padLength=64;ns.prototype._digest=function(t){return t==="hex"?Pl.toHex32(this.h.slice(0,7),"big"):Pl.split32(this.h.slice(0,7),"big")};var pn=Le,bw=rf,ww=Ec,Ci=pn.rotr64_hi,Pi=pn.rotr64_lo,ex=pn.shr64_hi,rx=pn.shr64_lo,us=pn.sum64,ju=pn.sum64_hi,Yu=pn.sum64_lo,Aw=pn.sum64_4_hi,vw=pn.sum64_4_lo,Ew=pn.sum64_5_hi,Fw=pn.sum64_5_lo,nx=bw.BlockHash,_w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fi(){if(!(this instanceof fi))return new fi;nx.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_w,this.W=new Array(160)}pn.inherits(fi,nx);var ix=fi;fi.blockSize=1024;fi.outSize=512;fi.hmacStrength=192;fi.padLength=128;fi.prototype._prepareBlock=function(t,e){for(var n=this.W,i=0;i<32;i++)n[i]=t[e+i];for(;i<n.length;i+=2){var s=Ow(n[i-4],n[i-3]),o=Uw(n[i-4],n[i-3]),a=n[i-14],f=n[i-13],c=Rw(n[i-30],n[i-29]),h=Mw(n[i-30],n[i-29]),d=n[i-32],m=n[i-31];n[i]=Aw(s,o,a,f,c,h,d,m),n[i+1]=vw(s,o,a,f,c,h,d,m)}};fi.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],c=this.h[5],h=this.h[6],d=this.h[7],m=this.h[8],w=this.h[9],F=this.h[10],I=this.h[11],K=this.h[12],D=this.h[13],Z=this.h[14],$=this.h[15];ww(this.k.length===n.length);for(var xt=0;xt<n.length;xt+=2){var X=Z,M=$,at=Iw(m,w),it=Tw(m,w),ft=Nw(m,w,F,I,K),Ct=Bw(m,w,F,I,K,D),gt=this.k[xt],Gt=this.k[xt+1],_=n[xt],u=n[xt+1],x=Ew(X,M,at,it,ft,Ct,gt,Gt,_,u),v=Fw(X,M,at,it,ft,Ct,gt,Gt,_,u);X=Sw(i,s),M=kw(i,s),at=Cw(i,s,o,a,f),it=Pw(i,s,o,a,f,c);var C=ju(X,M,at,it),S=Yu(X,M,at,it);Z=K,$=D,K=F,D=I,F=m,I=w,m=ju(h,d,x,v),w=Yu(d,d,x,v),h=f,d=c,f=o,c=a,o=i,a=s,i=ju(x,v,C,S),s=Yu(x,v,C,S)}us(this.h,0,i,s),us(this.h,2,o,a),us(this.h,4,f,c),us(this.h,6,h,d),us(this.h,8,m,w),us(this.h,10,F,I),us(this.h,12,K,D),us(this.h,14,Z,$)};fi.prototype._digest=function(t){return t==="hex"?pn.toHex32(this.h,"big"):pn.split32(this.h,"big")};function Nw(r,t,e,n,i){var s=r&e^~r&i;return s<0&&(s+=4294967296),s}function Bw(r,t,e,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function Cw(r,t,e,n,i){var s=r&e^r&i^e&i;return s<0&&(s+=4294967296),s}function Pw(r,t,e,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function Sw(r,t){var e=Ci(r,t,28),n=Ci(t,r,2),i=Ci(t,r,7),s=e^n^i;return s<0&&(s+=4294967296),s}function kw(r,t){var e=Pi(r,t,28),n=Pi(t,r,2),i=Pi(t,r,7),s=e^n^i;return s<0&&(s+=4294967296),s}function Iw(r,t){var e=Ci(r,t,14),n=Ci(r,t,18),i=Ci(t,r,9),s=e^n^i;return s<0&&(s+=4294967296),s}function Tw(r,t){var e=Pi(r,t,14),n=Pi(r,t,18),i=Pi(t,r,9),s=e^n^i;return s<0&&(s+=4294967296),s}function Rw(r,t){var e=Ci(r,t,1),n=Ci(r,t,8),i=ex(r,t,7),s=e^n^i;return s<0&&(s+=4294967296),s}function Mw(r,t){var e=Pi(r,t,1),n=Pi(r,t,8),i=rx(r,t,7),s=e^n^i;return s<0&&(s+=4294967296),s}function Ow(r,t){var e=Ci(r,t,19),n=Ci(t,r,29),i=ex(r,t,6),s=e^n^i;return s<0&&(s+=4294967296),s}function Uw(r,t){var e=Pi(r,t,19),n=Pi(t,r,29),i=rx(r,t,6),s=e^n^i;return s<0&&(s+=4294967296),s}var Sl=Le,sx=ix;function is(){if(!(this instanceof is))return new is;sx.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Sl.inherits(is,sx);var Dw=is;is.blockSize=1024;is.outSize=384;is.hmacStrength=192;is.padLength=128;is.prototype._digest=function(t){return t==="hex"?Sl.toHex32(this.h.slice(0,12),"big"):Sl.split32(this.h.slice(0,12),"big")};nf.sha1=ow;nf.sha224=mw;nf.sha256=Zg;nf.sha384=Dw;nf.sha512=ix;var ox={},Ao=Le,Lw=rf,Mc=Ao.rotl32,$d=Ao.sum32,pf=Ao.sum32_3,Xd=Ao.sum32_4,ax=Lw.BlockHash;function Ti(){if(!(this instanceof Ti))return new Ti;ax.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ao.inherits(Ti,ax);ox.ripemd160=Ti;Ti.blockSize=512;Ti.outSize=160;Ti.hmacStrength=192;Ti.padLength=64;Ti.prototype._update=function(t,e){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=n,c=i,h=s,d=o,m=a,w=0;w<80;w++){var F=$d(Mc(Xd(n,Zd(w,i,s,o),t[zw[w]+e],Hw(w)),Qw[w]),a);n=a,a=o,o=Mc(s,10),s=i,i=F,F=$d(Mc(Xd(f,Zd(79-w,c,h,d),t[Vw[w]+e],Gw(w)),Kw[w]),m),f=m,m=d,d=Mc(h,10),h=c,c=F}F=pf(this.h[1],s,d),this.h[1]=pf(this.h[2],o,m),this.h[2]=pf(this.h[3],a,f),this.h[3]=pf(this.h[4],n,c),this.h[4]=pf(this.h[0],i,h),this.h[0]=F};Ti.prototype._digest=function(t){return t==="hex"?Ao.toHex32(this.h,"little"):Ao.split32(this.h,"little")};function Zd(r,t,e,n){return r<=15?t^e^n:r<=31?t&e|~t&n:r<=47?(t|~e)^n:r<=63?t&n|e&~n:t^(e|~n)}function Hw(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Gw(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var zw=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Vw=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Qw=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Kw=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Jw=Le,jw=Ec;function Qa(r,t,e){if(!(this instanceof Qa))return new Qa(r,t,e);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Jw.toArray(t,e))}var Yw=Qa;Qa.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),jw(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)};Qa.prototype.update=function(t,e){return this.inner.update(t,e),this};Qa.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(r){var t=r;t.utils=Le,t.common=rf,t.sha=nf,t.ripemd=ox,t.hmac=Yw,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Vg);const gi=tf(Vg);function of(r,t,e){return e={path:t,exports:{},require:function(n,i){return qw(n,i??e.path)}},r(e,e.exports),e.exports}function qw(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Sh=fx;function fx(r,t){if(!r)throw new Error(t||"Assertion failed")}fx.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var si=of(function(r,t){var e=t;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var f=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)f[c]=o[c]|0;return f}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)f.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var h=o.charCodeAt(c),d=h>>8,m=h&255;d?f.push(d,m):f.push(m)}return f}e.toArray=n;function i(o){return o.length===1?"0"+o:o}e.zero2=i;function s(o){for(var a="",f=0;f<o.length;f++)a+=i(o[f].toString(16));return a}e.toHex=s,e.encode=function(a,f){return f==="hex"?s(a):a}}),Pn=of(function(r,t){var e=t;e.assert=Sh,e.toArray=si.toArray,e.zero2=si.zero2,e.toHex=si.toHex,e.encode=si.encode;function n(f,c,h){var d=new Array(Math.max(f.bitLength(),h)+1);d.fill(0);for(var m=1<<c+1,w=f.clone(),F=0;F<d.length;F++){var I,K=w.andln(m-1);w.isOdd()?(K>(m>>1)-1?I=(m>>1)-K:I=K,w.isubn(I)):I=0,d[F]=I,w.iushrn(1)}return d}e.getNAF=n;function i(f,c){var h=[[],[]];f=f.clone(),c=c.clone();for(var d=0,m=0,w;f.cmpn(-d)>0||c.cmpn(-m)>0;){var F=f.andln(3)+d&3,I=c.andln(3)+m&3;F===3&&(F=-1),I===3&&(I=-1);var K;F&1?(w=f.andln(7)+d&7,(w===3||w===5)&&I===2?K=-F:K=F):K=0,h[0].push(K);var D;I&1?(w=c.andln(7)+m&7,(w===3||w===5)&&F===2?D=-I:D=I):D=0,h[1].push(D),2*d===K+1&&(d=1-d),2*m===D+1&&(m=1-m),f.iushrn(1),c.iushrn(1)}return h}e.getJSF=i;function s(f,c,h){var d="_"+c;f.prototype[c]=function(){return this[d]!==void 0?this[d]:this[d]=h.call(this)}}e.cachedProperty=s;function o(f){return typeof f=="string"?e.toArray(f,"hex"):f}e.parseBytes=o;function a(f){return new ve(f,"hex","le")}e.intFromLE=a}),I0=Pn.getNAF,Ww=Pn.getJSF,T0=Pn.assert;function Qs(r,t){this.type=r,this.p=new ve(t.p,16),this.red=t.prime?ve.red(t.prime):ve.mont(this.p),this.zero=new ve(0).toRed(this.red),this.one=new ve(1).toRed(this.red),this.two=new ve(2).toRed(this.red),this.n=t.n&&new ve(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var e=this.n&&this.p.div(this.n);!e||e.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Bo=Qs;Qs.prototype.point=function(){throw new Error("Not implemented")};Qs.prototype.validate=function(){throw new Error("Not implemented")};Qs.prototype._fixedNafMul=function(t,e){T0(t.precomputed);var n=t._getDoubles(),i=I0(e,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,f;for(a=0;a<i.length;a+=n.step){f=0;for(var c=a+n.step-1;c>=a;c--)f=(f<<1)+i[c];o.push(f)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),m=s;m>0;m--){for(a=0;a<o.length;a++)f=o[a],f===m?d=d.mixedAdd(n.points[a]):f===-m&&(d=d.mixedAdd(n.points[a].neg()));h=h.add(d)}return h.toP()};Qs.prototype._wnafMul=function(t,e){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=I0(e,n,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var c=0;f>=0&&o[f]===0;f--)c++;if(f>=0&&c++,a=a.dblp(c),f<0)break;var h=o[f];T0(h!==0),t.type==="affine"?h>0?a=a.mixedAdd(s[h-1>>1]):a=a.mixedAdd(s[-h-1>>1].neg()):h>0?a=a.add(s[h-1>>1]):a=a.add(s[-h-1>>1].neg())}return t.type==="affine"?a.toP():a};Qs.prototype._wnafMulAdd=function(t,e,n,i,s){var o=this._wnafT1,a=this._wnafT2,f=this._wnafT3,c=0,h,d,m;for(h=0;h<i;h++){m=e[h];var w=m._getNAFPoints(t);o[h]=w.wnd,a[h]=w.points}for(h=i-1;h>=1;h-=2){var F=h-1,I=h;if(o[F]!==1||o[I]!==1){f[F]=I0(n[F],o[F],this._bitLength),f[I]=I0(n[I],o[I],this._bitLength),c=Math.max(f[F].length,c),c=Math.max(f[I].length,c);continue}var K=[e[F],null,null,e[I]];e[F].y.cmp(e[I].y)===0?(K[1]=e[F].add(e[I]),K[2]=e[F].toJ().mixedAdd(e[I].neg())):e[F].y.cmp(e[I].y.redNeg())===0?(K[1]=e[F].toJ().mixedAdd(e[I]),K[2]=e[F].add(e[I].neg())):(K[1]=e[F].toJ().mixedAdd(e[I]),K[2]=e[F].toJ().mixedAdd(e[I].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],Z=Ww(n[F],n[I]);for(c=Math.max(Z[0].length,c),f[F]=new Array(c),f[I]=new Array(c),d=0;d<c;d++){var $=Z[0][d]|0,xt=Z[1][d]|0;f[F][d]=D[($+1)*3+(xt+1)],f[I][d]=0,a[F]=K}}var X=this.jpoint(null,null,null),M=this._wnafT4;for(h=c;h>=0;h--){for(var at=0;h>=0;){var it=!0;for(d=0;d<i;d++)M[d]=f[d][h]|0,M[d]!==0&&(it=!1);if(!it)break;at++,h--}if(h>=0&&at++,X=X.dblp(at),h<0)break;for(d=0;d<i;d++){var ft=M[d];ft!==0&&(ft>0?m=a[d][ft-1>>1]:ft<0&&(m=a[d][-ft-1>>1].neg()),m.type==="affine"?X=X.mixedAdd(m):X=X.add(m))}}for(h=0;h<i;h++)a[h]=null;return s?X:X.toP()};function Kn(r,t){this.curve=r,this.type=t,this.precomputed=null}Qs.BasePoint=Kn;Kn.prototype.eq=function(){throw new Error("Not implemented")};Kn.prototype.validate=function(){return this.curve.validate(this)};Qs.prototype.decodePoint=function(t,e){t=Pn.toArray(t,e);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?T0(t[t.length-1]%2===0):t[0]===7&&T0(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Kn.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Kn.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))};Kn.prototype.encode=function(t,e){return Pn.encode(this._encode(e),t)};Kn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this};Kn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((t.bitLength()+1)/e.step):!1};Kn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<e;s+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}};Kn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)e[s]=e[s-1].add(i);return{wnd:t,points:e}};Kn.prototype._getBeta=function(){return null};Kn.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e};var kh=of(function(r){typeof Object.create=="function"?r.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(e,n){if(n){e.super_=n;var i=function(){};i.prototype=n.prototype,e.prototype=new i,e.prototype.constructor=e}}}),$w=Pn.assert;function Jn(r){Bo.call(this,"short",r),this.a=new ve(r.a,16).toRed(this.red),this.b=new ve(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}kh(Jn,Bo);var Xw=Jn;Jn.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,n;if(t.beta)e=new ve(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=i[0].cmp(i[1])<0?i[0]:i[1],e=e.toRed(this.red)}if(t.lambda)n=new ve(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))===0?n=s[0]:(n=s[1],$w(this.g.mul(n).x.cmp(this.g.x.redMul(e))===0))}var o;return t.basis?o=t.basis.map(function(a){return{a:new ve(a.a,16),b:new ve(a.b,16)}}):o=this._getEndoBasis(n),{beta:e,lambda:n,basis:o}}};Jn.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:ve.mont(t),n=new ve(2).toRed(e).redInvm(),i=n.redNeg(),s=new ve(3).toRed(e).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Jn.prototype._getEndoBasis=function(t){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),s=new ve(1),o=new ve(0),a=new ve(0),f=new ve(1),c,h,d,m,w,F,I,K=0,D,Z;n.cmpn(0)!==0;){var $=i.div(n);D=i.sub($.mul(n)),Z=a.sub($.mul(s));var xt=f.sub($.mul(o));if(!d&&D.cmp(e)<0)c=I.neg(),h=s,d=D.neg(),m=Z;else if(d&&++K===2)break;I=D,i=n,n=D,a=s,s=Z,f=o,o=xt}w=D.neg(),F=Z;var X=d.sqr().add(m.sqr()),M=w.sqr().add(F.sqr());return M.cmp(X)>=0&&(w=c,F=h),d.negative&&(d=d.neg(),m=m.neg()),w.negative&&(w=w.neg(),F=F.neg()),[{a:d,b:m},{a:w,b:F}]};Jn.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],i=e[1],s=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=s.mul(n.a),f=o.mul(i.a),c=s.mul(n.b),h=o.mul(i.b),d=t.sub(a).sub(f),m=c.add(h).neg();return{k1:d,k2:m}};Jn.prototype.pointFromX=function(t,e){t=new ve(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(e&&!s||!e&&s)&&(i=i.redNeg()),this.point(t,i)};Jn.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,i=this.a.redMul(e),s=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Jn.prototype._endoWnafMulAdd=function(t,e,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),f=t[o],c=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=f,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,n),d=0;d<o*2;d++)i[d]=null,s[d]=null;return h};function Sr(r,t,e,n){Bo.BasePoint.call(this,r,"affine"),t===null&&e===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ve(t,16),this.y=new ve(e,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}kh(Sr,Bo.BasePoint);Jn.prototype.point=function(t,e,n){return new Sr(this,t,e,n)};Jn.prototype.pointFromJSON=function(t,e){return Sr.fromJSON(this,t,e)};Sr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}};Sr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Sr.fromJSON=function(t,e,n){typeof e=="string"&&(e=JSON.parse(e));var i=t.point(e[0],e[1],n);if(!e[2])return i;function s(a){return t.point(a[0],a[1],n)}var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Sr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Sr.prototype.isInfinity=function(){return this.inf};Sr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Sr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Sr.prototype.getX=function(){return this.x.fromRed()};Sr.prototype.getY=function(){return this.y.fromRed()};Sr.prototype.mul=function(t){return t=new ve(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Sr.prototype.mulAdd=function(t,e,n){var i=[this,e],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Sr.prototype.jmulAdd=function(t,e,n){var i=[this,e],s=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Sr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Sr.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return e};Sr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Lr(r,t,e,n){Bo.BasePoint.call(this,r,"jacobian"),t===null&&e===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ve(0)):(this.x=new ve(t,16),this.y=new ve(e,16),this.z=new ve(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}kh(Lr,Bo.BasePoint);Jn.prototype.jpoint=function(t,e,n){return new Lr(this,t,e,n)};Lr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(n,i)};Lr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Lr.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(e),s=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),f=i.redSub(s),c=o.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=f.redSqr(),d=h.redMul(f),m=i.redMul(h),w=c.redSqr().redIAdd(d).redISub(m).redISub(m),F=c.redMul(m.redISub(w)).redISub(o.redMul(d)),I=this.z.redMul(t.z).redMul(f);return this.curve.jpoint(w,F,I)};Lr.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,i=t.x.redMul(e),s=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(i),f=s.redSub(o);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),h=c.redMul(a),d=n.redMul(c),m=f.redSqr().redIAdd(h).redISub(d).redISub(d),w=f.redMul(d.redISub(m)).redISub(s.redMul(h)),F=this.z.redMul(a);return this.curve.jpoint(m,w,F)};Lr.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,f=this.z,c=f.redSqr().redSqr(),h=a.redAdd(a);for(e=0;e<t;e++){var d=o.redSqr(),m=h.redSqr(),w=m.redSqr(),F=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(c)),I=o.redMul(m),K=F.redSqr().redISub(I.redAdd(I)),D=I.redISub(K),Z=F.redMul(D);Z=Z.redIAdd(Z).redISub(w);var $=h.redMul(f);e+1<t&&(c=c.redMul(w)),o=K,f=$,h=Z}return this.curve.jpoint(o,h.redMul(s),f)};Lr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Lr.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(a).redISub(a),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),t=c,e=f.redMul(a.redISub(c)).redISub(h),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),m=this.y.redSqr(),w=m.redSqr(),F=this.x.redAdd(m).redSqr().redISub(d).redISub(w);F=F.redIAdd(F);var I=d.redAdd(d).redIAdd(d),K=I.redSqr(),D=w.redIAdd(w);D=D.redIAdd(D),D=D.redIAdd(D),t=K.redISub(F).redISub(F),e=I.redMul(F.redISub(t)).redISub(D),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,e,n)};Lr.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(a).redISub(a);t=c;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=f.redMul(a.redISub(c)).redISub(h),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),m=this.y.redSqr(),w=this.x.redMul(m),F=this.x.redSub(d).redMul(this.x.redAdd(d));F=F.redAdd(F).redIAdd(F);var I=w.redIAdd(w);I=I.redIAdd(I);var K=I.redAdd(I);t=F.redSqr().redISub(K),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(d);var D=m.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),e=F.redMul(I.redISub(t)).redISub(D)}return this.curve.jpoint(t,e,n)};Lr.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(s)),c=e.redAdd(e);c=c.redIAdd(c);var h=c.redMul(a),d=f.redSqr().redISub(h.redAdd(h)),m=h.redISub(d),w=a.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var F=f.redMul(m).redISub(w),I=n.redAdd(n).redMul(i);return this.curve.jpoint(d,F,I)};Lr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),i=e.redSqr(),s=t.redAdd(t).redIAdd(t),o=s.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var f=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var h=s.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(c),d=e.redMul(h);d=d.redIAdd(d),d=d.redIAdd(d);var m=this.x.redMul(f).redISub(d);m=m.redIAdd(m),m=m.redIAdd(m);var w=this.y.redMul(h.redMul(c.redISub(h)).redISub(a.redMul(f)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var F=this.z.redAdd(a).redSqr().redISub(n).redISub(f);return this.curve.jpoint(m,w,F)};Lr.prototype.mul=function(t,e){return t=new ve(t,e),this.curve._wnafMul(this,t)};Lr.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var i=e.redMul(this.z),s=n.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(i)).cmpn(0)===0};Lr.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),s=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Lr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Lr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var h0=of(function(r,t){var e=t;e.base=Bo,e.short=Xw,e.mont=null,e.edwards=null}),d0=of(function(r,t){var e=t,n=Pn.assert;function i(a){a.type==="short"?this.curve=new h0.short(a):a.type==="edwards"?this.curve=new h0.edwards(a):this.curve=new h0.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=i;function s(a,f){Object.defineProperty(e,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(f);return Object.defineProperty(e,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gi.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Ls(r){if(!(this instanceof Ls))return new Ls(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=si.toArray(r.entropy,r.entropyEnc||"hex"),e=si.toArray(r.nonce,r.nonceEnc||"hex"),n=si.toArray(r.pers,r.persEnc||"hex");Sh(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,e,n)}var cx=Ls;Ls.prototype._init=function(t,e,n){var i=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ls.prototype._hmac=function(){return new gi.hmac(this.hash,this.K)};Ls.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Ls.prototype.reseed=function(t,e,n,i){typeof e!="string"&&(i=n,n=e,e=null),t=si.toArray(t,e),n=si.toArray(n,i),Sh(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};Ls.prototype.generate=function(t,e,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(i=n,n=e,e=null),n&&(n=si.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(n),this._reseed++,si.encode(o,e)};var kl=Pn.assert;function Xr(r,t){this.ec=r,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Ih=Xr;Xr.fromPublic=function(t,e,n){return e instanceof Xr?e:new Xr(t,{pub:e,pubEnc:n})};Xr.fromPrivate=function(t,e,n){return e instanceof Xr?e:new Xr(t,{priv:e,privEnc:n})};Xr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Xr.prototype.getPublic=function(t,e){return typeof t=="string"&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub};Xr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Xr.prototype._importPrivate=function(t,e){this.priv=new ve(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)};Xr.prototype._importPublic=function(t,e){if(t.x||t.y){this.ec.curve.type==="mont"?kl(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&kl(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,e)};Xr.prototype.derive=function(t){return t.validate()||kl(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Xr.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)};Xr.prototype.verify=function(t,e){return this.ec.verify(t,e,this)};Xr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Zw=Pn.assert;function wu(r,t){if(r instanceof wu)return r;this._importDER(r,t)||(Zw(r.r&&r.s,"Signature without r or s"),this.r=new ve(r.r,16),this.s=new ve(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Au=wu;function tA(){this.place=0}function qu(r,t){var e=r[t.place++];if(!(e&128))return e;var n=e&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(t.place=o,i)}function t1(r){for(var t=0,e=r.length-1;!r[t]&&!(r[t+1]&128)&&t<e;)t++;return t===0?r:r.slice(t)}wu.prototype._importDER=function(t,e){t=Pn.toArray(t,e);var n=new tA;if(t[n.place++]!==48)return!1;var i=qu(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var s=qu(t,n);if(s===!1)return!1;var o=t.slice(n.place,s+n.place);if(n.place+=s,t[n.place++]!==2)return!1;var a=qu(t,n);if(a===!1||t.length!==a+n.place)return!1;var f=t.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new ve(o),this.s=new ve(f),this.recoveryParam=null,!0};function Wu(r,t){if(t<128){r.push(t);return}var e=1+(Math.log(t)/Math.LN2>>>3);for(r.push(e|128);--e;)r.push(t>>>(e<<3)&255);r.push(t)}wu.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),n[0]&128&&(n=[0].concat(n)),e=t1(e),n=t1(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Wu(i,e.length),i=i.concat(e),i.push(2),Wu(i,n.length);var s=i.concat(n),o=[48];return Wu(o,s.length),o=o.concat(s),Pn.encode(o,t)};var eA=function(){throw new Error("unsupported")},ux=Pn.assert;function Qn(r){if(!(this instanceof Qn))return new Qn(r);typeof r=="string"&&(ux(Object.prototype.hasOwnProperty.call(d0,r),"Unknown curve "+r),r=d0[r]),r instanceof d0.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var rA=Qn;Qn.prototype.keyPair=function(t){return new Ih(this,t)};Qn.prototype.keyFromPrivate=function(t,e){return Ih.fromPrivate(this,t,e)};Qn.prototype.keyFromPublic=function(t,e){return Ih.fromPublic(this,t,e)};Qn.prototype.genKeyPair=function(t){t||(t={});for(var e=new cx({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||eA(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ve(2));;){var s=new ve(e.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Qn.prototype._truncateToN=function(t,e){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t};Qn.prototype.sign=function(t,e,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new ve(t,16));for(var s=this.n.byteLength(),o=e.getPrivate().toArray("be",s),a=t.toArray("be",s),f=new cx({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new ve(1)),h=0;;h++){var d=i.k?i.k(h):new ve(f.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(c)>=0)){var m=this.g.mul(d);if(!m.isInfinity()){var w=m.getX(),F=w.umod(this.n);if(F.cmpn(0)!==0){var I=d.invm(this.n).mul(F.mul(e.getPrivate()).iadd(t));if(I=I.umod(this.n),I.cmpn(0)!==0){var K=(m.getY().isOdd()?1:0)|(w.cmp(F)!==0?2:0);return i.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),K^=1),new Au({r:F,s:I,recoveryParam:K})}}}}}};Qn.prototype.verify=function(t,e,n,i){t=this._truncateToN(new ve(t,16)),n=this.keyFromPublic(n,i),e=new Au(e,"hex");var s=e.r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(t).umod(this.n),c=a.mul(s).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(f,n.getPublic(),c),h.isInfinity()?!1:h.eqXToP(s)):(h=this.g.mulAdd(f,n.getPublic(),c),h.isInfinity()?!1:h.getX().umod(this.n).cmp(s)===0)};Qn.prototype.recoverPubKey=function(r,t,e,n){ux((3&e)===e,"The recovery param is more than two bits"),t=new Au(t,n);var i=this.n,s=new ve(r),o=t.r,a=t.s,f=e&1,c=e>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var h=t.r.invm(i),d=i.sub(s).mul(h).umod(i),m=a.mul(h).umod(i);return this.g.mulAdd(d,o,m)};Qn.prototype.getKeyRecoveryParam=function(r,t,e,n){if(t=new Au(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,t,i)}catch{continue}if(s.eq(e))return i}throw new Error("Unable to find valid recovery factor")};var nA=of(function(r,t){var e=t;e.version="6.5.4",e.utils=Pn,e.rand=function(){throw new Error("unsupported")},e.curve=h0,e.curves=d0,e.ec=rA,e.eddsa=null}),iA=nA.ec;const sA="signing-key/5.7.0",Il=new et(sA);let $u=null;function Ei(){return $u||($u=new iA("secp256k1")),$u}let oA=class{constructor(t){Ie(this,"curve","secp256k1"),Ie(this,"privateKey",de(t)),bo(this.privateKey)!==32&&Il.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Ei().keyFromPrivate(Zt(this.privateKey));Ie(this,"publicKey","0x"+e.getPublic(!1,"hex")),Ie(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Ie(this,"_isSigningKey",!0)}_addPoint(t){const e=Ei().keyFromPublic(Zt(this.publicKey)),n=Ei().keyFromPublic(Zt(t));return"0x"+e.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const e=Ei().keyFromPrivate(Zt(this.privateKey)),n=Zt(t);n.length!==32&&Il.throwArgumentError("bad digest length","digest",t);const i=e.sign(n,{canonical:!0});return du({recoveryParam:i.recoveryParam,r:vr("0x"+i.r.toString(16),32),s:vr("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const e=Ei().keyFromPrivate(Zt(this.privateKey)),n=Ei().keyFromPublic(Zt(lx(t)));return vr("0x"+e.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}};function aA(r,t){const e=du(t),n={r:Zt(e.r),s:Zt(e.s)};return"0x"+Ei().recoverPubKey(Zt(r),n,e.recoveryParam).encode("hex",!1)}function lx(r,t){const e=Zt(r);if(e.length===32){const n=new oA(e);return t?"0x"+Ei().keyFromPrivate(e).getPublic(!0,"hex"):n.publicKey}else{if(e.length===33)return t?de(e):"0x"+Ei().keyFromPublic(e).getPublic(!1,"hex");if(e.length===65)return t?"0x"+Ei().keyFromPublic(e).getPublic(!0,"hex"):de(e)}return Il.throwArgumentError("invalid public or private key","key","[REDACTED]")}const fA="transactions/5.7.0",fs=new et(fA);var e1;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(e1||(e1={}));function Th(r){return r==="0x"?null:Bn(r)}function qr(r){return r==="0x"?Sm:Et.from(r)}function cA(r){const t=lx(r);return Bn(tn(Or(tn(t,1)),12))}function hx(r,t){return cA(aA(Zt(r),t))}function En(r,t){const e=Ga(Et.from(r).toHexString());return e.length>32&&fs.throwArgumentError("invalid length for "+t,"transaction:"+t,r),e}function Xu(r,t){return{address:Bn(r),storageKeys:(t||[]).map((e,n)=>(bo(e)!==32&&fs.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,e),e.toLowerCase()))}}function Fc(r){if(Array.isArray(r))return r.map((e,n)=>Array.isArray(e)?(e.length>2&&fs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,e),Xu(e[0],e[1])):Xu(e.address,e.storageKeys));const t=Object.keys(r).map(e=>{const n=r[e].reduce((i,s)=>(i[s]=!0,i),{});return Xu(e,Object.keys(n).sort())});return t.sort((e,n)=>e.address.localeCompare(n.address)),t}function dx(r){return Fc(r).map(t=>[t.address,t.storageKeys])}function uA(r,t){if(r.gasPrice!=null){const n=Et.from(r.gasPrice),i=Et.from(r.maxFeePerGas||0);n.eq(i)||fs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const e=[En(r.chainId||0,"chainId"),En(r.nonce||0,"nonce"),En(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),En(r.maxFeePerGas||0,"maxFeePerGas"),En(r.gasLimit||0,"gasLimit"),r.to!=null?Bn(r.to):"0x",En(r.value||0,"value"),r.data||"0x",dx(r.accessList||[])];if(t){const n=du(t);e.push(En(n.recoveryParam,"recoveryParam")),e.push(Ga(n.r)),e.push(Ga(n.s))}return _n(["0x02",pu(e)])}function lA(r,t){const e=[En(r.chainId||0,"chainId"),En(r.nonce||0,"nonce"),En(r.gasPrice||0,"gasPrice"),En(r.gasLimit||0,"gasLimit"),r.to!=null?Bn(r.to):"0x",En(r.value||0,"value"),r.data||"0x",dx(r.accessList||[])];if(t){const n=du(t);e.push(En(n.recoveryParam,"recoveryParam")),e.push(Ga(n.r)),e.push(Ga(n.s))}return _n(["0x01",pu(e)])}function px(r,t,e){try{const n=qr(t[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{fs.throwArgumentError("invalid v for transaction type: 1","v",t[0])}r.r=vr(t[1],32),r.s=vr(t[2],32);try{const n=Or(e(r));r.from=hx(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function hA(r){const t=gu(r.slice(1));t.length!==9&&t.length!==12&&fs.throwArgumentError("invalid component count for transaction type: 2","payload",de(r));const e=qr(t[2]),n=qr(t[3]),i={type:2,chainId:qr(t[0]).toNumber(),nonce:qr(t[1]).toNumber(),maxPriorityFeePerGas:e,maxFeePerGas:n,gasPrice:null,gasLimit:qr(t[4]),to:Th(t[5]),value:qr(t[6]),data:t[7],accessList:Fc(t[8])};return t.length===9||(i.hash=Or(r),px(i,t.slice(9),uA)),i}function dA(r){const t=gu(r.slice(1));t.length!==8&&t.length!==11&&fs.throwArgumentError("invalid component count for transaction type: 1","payload",de(r));const e={type:1,chainId:qr(t[0]).toNumber(),nonce:qr(t[1]).toNumber(),gasPrice:qr(t[2]),gasLimit:qr(t[3]),to:Th(t[4]),value:qr(t[5]),data:t[6],accessList:Fc(t[7])};return t.length===8||(e.hash=Or(r),px(e,t.slice(8),lA)),e}function pA(r){const t=gu(r);t.length!==9&&t.length!==6&&fs.throwArgumentError("invalid raw transaction","rawTransaction",r);const e={nonce:qr(t[0]).toNumber(),gasPrice:qr(t[1]),gasLimit:qr(t[2]),to:Th(t[3]),value:qr(t[4]),data:t[5],chainId:0};if(t.length===6)return e;try{e.v=Et.from(t[6]).toNumber()}catch{return e}if(e.r=vr(t[7],32),e.s=vr(t[8],32),Et.from(e.r).isZero()&&Et.from(e.s).isZero())e.chainId=e.v,e.v=0;else{e.chainId=Math.floor((e.v-35)/2),e.chainId<0&&(e.chainId=0);let n=e.v-27;const i=t.slice(0,6);e.chainId!==0&&(i.push(de(e.chainId)),i.push("0x"),i.push("0x"),n-=e.chainId*2+8);const s=Or(pu(i));try{e.from=hx(s,{r:de(e.r),s:de(e.s),recoveryParam:n})}catch{}e.hash=Or(r)}return e.type=null,e}function gA(r){const t=Zt(r);if(t[0]>127)return pA(t);switch(t[0]){case 1:return dA(t);case 2:return hA(t)}return fs.throwError(`unsupported transaction type: ${t[0]}`,et.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}class gx{constructor(t){Ie(this,"alphabet",t),Ie(this,"base",t.length),Ie(this,"_alphabetMap",{}),Ie(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Zt(t);if(e.length===0)return"";let n=[0];for(let s=0;s<e.length;++s){let o=e[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;e[s]===0&&s<e.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(t){if(typeof t!="string")throw new TypeError("Expected String");let e=[];if(t.length===0)return new Uint8Array(e);e.push(0);for(let n=0;n<t.length;n++){let i=this._alphabetMap[t[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<e.length;++o)s+=e[o]*this.base,e[o]=s&255,s>>=8;for(;s>0;)e.push(s&255),s>>=8}for(let n=0;t[n]===this._leader&&n<t.length-1;++n)e.push(0);return Zt(new Uint8Array(e.reverse()))}}new gx("abcdefghijklmnopqrstuvwxyz234567");const Tl=new gx("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function r1(r){return"0x"+gi.sha256().update(Zt(r)).digest("hex")}const xA="networks/5.7.1",n1=new et(xA);function yA(r){return r&&typeof r.renetwork=="function"}function Gi(r){const t=function(e,n){n==null&&(n={});const i=[];if(e.InfuraProvider&&n.infura!=="-")try{i.push(new e.InfuraProvider(r,n.infura))}catch{}if(e.EtherscanProvider&&n.etherscan!=="-")try{i.push(new e.EtherscanProvider(r,n.etherscan))}catch{}if(e.AlchemyProvider&&n.alchemy!=="-")try{i.push(new e.AlchemyProvider(r,n.alchemy))}catch{}if(e.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new e.PocketProvider(r,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(e.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new e.CloudflareProvider(r))}catch{}if(e.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new e.AnkrProvider(r,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(e.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:r==="homestead"&&(s=2),new e.FallbackProvider(i,s)}return i[0]};return t.renetwork=function(e){return Gi(e)},t}function R0(r,t){const e=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(r,t):null};return e.renetwork=function(n){return R0(r,n)},e}const i1={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Gi("homestead")},s1={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Gi("ropsten")},o1={chainId:63,name:"classicMordor",_defaultProvider:R0("https://www.ethercluster.com/mordor","classicMordor")},Oc={unspecified:{chainId:0,name:"unspecified"},homestead:i1,mainnet:i1,morden:{chainId:2,name:"morden"},ropsten:s1,testnet:s1,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Gi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Gi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Gi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Gi("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:R0("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:o1,classicTestnet:o1,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:R0("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Gi("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Gi("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function mA(r){if(r==null)return null;if(typeof r=="number"){for(const n in Oc){const i=Oc[n];if(i.chainId===r)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=Oc[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const t=Oc[r.name];if(!t)return typeof r.chainId!="number"&&n1.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==t.chainId&&n1.throwArgumentError("network chainId mismatch","network",r);let e=r._defaultProvider||null;return e==null&&t._defaultProvider&&(yA(t._defaultProvider)?e=t._defaultProvider.renetwork(r):e=t._defaultProvider),{name:r.name,chainId:t.chainId,ensAddress:r.ensAddress||t.ensAddress||null,_defaultProvider:e}}const bA="web/5.7.1";var wA=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};function AA(r,t){return wA(this,void 0,void 0,function*(){t==null&&(t={});const e={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(t.skipFetchSetup!==!0&&(e.mode="cors",e.cache="no-cache",e.credentials="same-origin",e.redirect="follow",e.referrer="client"),t.fetchOptions!=null){const o=t.fetchOptions;o.mode&&(e.mode=o.mode),o.cache&&(e.cache=o.cache),o.credentials&&(e.credentials=o.credentials),o.redirect&&(e.redirect=o.redirect),o.referrer&&(e.referrer=o.referrer)}const n=yield fetch(r,e),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Zt(new Uint8Array(i))}})}var vA=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};const $n=new et(bA);function a1(r){return new Promise(t=>{setTimeout(t,r)})}function ls(r,t){if(r==null)return null;if(typeof r=="string")return r;if(Ha(r)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json"))try{return xu(r)}catch{}return de(r)}return r}function EA(r){return rs(r.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function FA(r,t,e){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;$n.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;$n.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof r=="object"?!!r.errorPassThrough:!1,a={};let f=null;const c={method:"GET"};let h=!1,d=2*60*1e3;if(typeof r=="string")f=r;else if(typeof r=="object"){if((r==null||r.url==null)&&$n.throwArgumentError("missing URL","connection.url",r),f=r.url,typeof r.timeout=="number"&&r.timeout>0&&(d=r.timeout),r.headers)for(const D in r.headers)a[D.toLowerCase()]={key:D,value:String(r.headers[D])},["if-none-match","if-modified-since"].indexOf(D.toLowerCase())>=0&&(h=!0);if(c.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){f.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&$n.throwError("basic authentication requires a secure https url",et.errors.INVALID_ARGUMENT,{argument:"url",url:f,user:r.user,password:"[REDACTED]"});const D=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+Tg(rs(D))}}r.skipFetchSetup!=null&&(c.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(c.fetchOptions=hn(r.fetchOptions))}const m=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),w=f?f.match(m):null;if(w)try{const D={statusCode:200,statusMessage:"OK",headers:{"content-type":w[1]||"text/plain"},body:w[2]?Ig(w[3]):EA(w[3])};let Z=D.body;return e&&(Z=e(D.body,D)),Promise.resolve(Z)}catch(D){$n.throwError("processing response error",et.errors.SERVER_ERROR,{body:ls(w[1],w[2]),error:D,requestBody:null,requestMethod:"GET",url:f})}t&&(c.method="POST",c.body=t,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const F={};Object.keys(a).forEach(D=>{const Z=a[D];F[Z.key]=Z.value}),c.headers=F;const I=function(){let D=null;return{promise:new Promise(function(xt,X){d&&(D=setTimeout(()=>{D!=null&&(D=null,X($n.makeError("timeout",et.errors.TIMEOUT,{requestBody:ls(c.body,F["content-type"]),requestMethod:c.method,timeout:d,url:f})))},d))}),cancel:function(){D!=null&&(clearTimeout(D),D=null)}}}(),K=function(){return vA(this,void 0,void 0,function*(){for(let D=0;D<n;D++){let Z=null;try{if(Z=yield AA(f,c),D<n){if(Z.statusCode===301||Z.statusCode===302){const xt=Z.headers.location||"";if(c.method==="GET"&&xt.match(/^https:/)){f=Z.headers.location;continue}}else if(Z.statusCode===429){let xt=!0;if(i&&(xt=yield i(D,f)),xt){let X=0;const M=Z.headers["retry-after"];typeof M=="string"&&M.match(/^[1-9][0-9]*$/)?X=parseInt(M)*1e3:X=s*parseInt(String(Math.random()*Math.pow(2,D))),yield a1(X);continue}}}}catch(xt){Z=xt.response,Z==null&&(I.cancel(),$n.throwError("missing response",et.errors.SERVER_ERROR,{requestBody:ls(c.body,F["content-type"]),requestMethod:c.method,serverError:xt,url:f}))}let $=Z.body;if(h&&Z.statusCode===304?$=null:!o&&(Z.statusCode<200||Z.statusCode>=300)&&(I.cancel(),$n.throwError("bad response",et.errors.SERVER_ERROR,{status:Z.statusCode,headers:Z.headers,body:ls($,Z.headers?Z.headers["content-type"]:null),requestBody:ls(c.body,F["content-type"]),requestMethod:c.method,url:f})),e)try{const xt=yield e($,Z);return I.cancel(),xt}catch(xt){if(xt.throttleRetry&&D<n){let X=!0;if(i&&(X=yield i(D,f)),X){const M=s*parseInt(String(Math.random()*Math.pow(2,D)));yield a1(M);continue}}I.cancel(),$n.throwError("processing response error",et.errors.SERVER_ERROR,{body:ls($,Z.headers?Z.headers["content-type"]:null),error:xt,requestBody:ls(c.body,F["content-type"]),requestMethod:c.method,url:f})}return I.cancel(),$}return $n.throwError("failed response",et.errors.SERVER_ERROR,{requestBody:ls(c.body,F["content-type"]),requestMethod:c.method,url:f})})}();return Promise.race([I.promise,K])}function Rh(r,t,e){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(xu(s))}catch(f){$n.throwError("invalid JSON",et.errors.SERVER_ERROR,{body:s,error:f})}return e&&(a=e(a,o)),a},i=null;if(t!=null){i=rs(t);const s=typeof r=="string"?{url:r}:hn(r);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=hn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return FA(r,i,n)}function vf(r,t){return t||(t={}),t=hn(t),t.floor==null&&(t.floor=0),t.ceiling==null&&(t.ceiling=1e4),t.interval==null&&(t.interval=250),new Promise(function(e,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},t.timeout));const a=t.retryLimit;let f=0;function c(){return r().then(function(h){if(h!==void 0)o()&&e(h);else if(t.oncePoll)t.oncePoll.once("poll",c);else if(t.onceBlock)t.onceBlock.once("block",c);else if(!s){if(f++,f>a){o()&&n(new Error("retry limit reached"));return}let d=t.interval*parseInt(String(Math.random()*Math.pow(2,f)));d<t.floor&&(d=t.floor),d>t.ceiling&&(d=t.ceiling),setTimeout(c,d)}return null},function(h){o()&&n(h)})}c()})}var M0="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Rl={};for(var Uc=0;Uc<M0.length;Uc++){var Zu=M0.charAt(Uc);if(Rl[Zu]!==void 0)throw new TypeError(Zu+" is ambiguous");Rl[Zu]=Uc}function qo(r){var t=r>>25;return(r&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function xx(r){for(var t=1,e=0;e<r.length;++e){var n=r.charCodeAt(e);if(n<33||n>126)return"Invalid prefix ("+r+")";t=qo(t)^n>>5}for(t=qo(t),e=0;e<r.length;++e){var i=r.charCodeAt(e);t=qo(t)^i&31}return t}function _A(r,t,e){if(e=e||90,r.length+7+t.length>e)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=xx(r);if(typeof n=="string")throw new Error(n);for(var i=r+"1",s=0;s<t.length;++s){var o=t[s];if(o>>5)throw new Error("Non 5-bit word");n=qo(n)^o,i+=M0.charAt(o)}for(s=0;s<6;++s)n=qo(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=M0.charAt(a)}return i}function yx(r,t){if(t=t||90,r.length<8)return r+" too short";if(r.length>t)return"Exceeds length limit";var e=r.toLowerCase(),n=r.toUpperCase();if(r!==e&&r!==n)return"Mixed-case string "+r;r=e;var i=r.lastIndexOf("1");if(i===-1)return"No separator character for "+r;if(i===0)return"Missing prefix for "+r;var s=r.slice(0,i),o=r.slice(i+1);if(o.length<6)return"Data too short";var a=xx(s);if(typeof a=="string")return a;for(var f=[],c=0;c<o.length;++c){var h=o.charAt(c),d=Rl[h];if(d===void 0)return"Unknown character "+h;a=qo(a)^d,!(c+6>=o.length)&&f.push(d)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:f}}function NA(){var r=yx.apply(null,arguments);if(typeof r=="object")return r}function BA(r){var t=yx.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function vu(r,t,e,n){for(var i=0,s=0,o=(1<<e)-1,a=[],f=0;f<r.length;++f)for(i=i<<t|r[f],s+=t;s>=e;)s-=e,a.push(i>>s&o);if(n)s>0&&a.push(i<<e-s&o);else{if(s>=t)return"Excess padding";if(i<<e-s&o)return"Non-zero padding"}return a}function CA(r){var t=vu(r,8,5,!0);if(Array.isArray(t))return t}function PA(r){var t=vu(r,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function SA(r){var t=vu(r,5,8,!1);if(Array.isArray(t))return t}function kA(r){var t=vu(r,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var IA={decodeUnsafe:NA,decode:BA,encode:_A,toWordsUnsafe:CA,toWords:PA,fromWordsUnsafe:SA,fromWords:kA};const f1=tf(IA),Eu="providers/5.7.2",gf=new et(Eu);class Ut{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),f=this.number.bind(this),c=this.type.bind(this),h=d=>this.data(d,!0);return t.transaction={hash:o,type:c,accessList:Ut.allowNull(this.accessList.bind(this),null),blockHash:Ut.allowNull(o,null),blockNumber:Ut.allowNull(f,null),transactionIndex:Ut.allowNull(f,null),confirmations:Ut.allowNull(f,null),from:e,gasPrice:Ut.allowNull(n),maxPriorityFeePerGas:Ut.allowNull(n),maxFeePerGas:Ut.allowNull(n),gasLimit:n,to:Ut.allowNull(e,null),value:n,nonce:f,data:s,r:Ut.allowNull(this.uint256),s:Ut.allowNull(this.uint256),v:Ut.allowNull(f),creates:Ut.allowNull(e,null),raw:Ut.allowNull(s)},t.transactionRequest={from:Ut.allowNull(e),nonce:Ut.allowNull(f),gasLimit:Ut.allowNull(n),gasPrice:Ut.allowNull(n),maxPriorityFeePerGas:Ut.allowNull(n),maxFeePerGas:Ut.allowNull(n),to:Ut.allowNull(e),value:Ut.allowNull(n),data:Ut.allowNull(h),type:Ut.allowNull(f),accessList:Ut.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:f,blockNumber:f,transactionHash:o,address:e,topics:Ut.arrayOf(o),data:s,logIndex:f,blockHash:o},t.receipt={to:Ut.allowNull(this.address,null),from:Ut.allowNull(this.address,null),contractAddress:Ut.allowNull(e,null),transactionIndex:f,root:Ut.allowNull(a),gasUsed:n,logsBloom:Ut.allowNull(s),blockHash:o,transactionHash:o,logs:Ut.arrayOf(this.receiptLog.bind(this)),blockNumber:f,confirmations:Ut.allowNull(f,null),cumulativeGasUsed:n,effectiveGasPrice:Ut.allowNull(n),status:Ut.allowNull(f),type:c},t.block={hash:Ut.allowNull(o),parentHash:o,number:f,timestamp:f,nonce:Ut.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ut.allowNull(e),extraData:s,transactions:Ut.allowNull(Ut.arrayOf(o)),baseFeePerGas:Ut.allowNull(n)},t.blockWithTransactions=hn(t.block),t.blockWithTransactions.transactions=Ut.allowNull(Ut.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Ut.allowNull(i,void 0),toBlock:Ut.allowNull(i,void 0),blockHash:Ut.allowNull(o,void 0),address:Ut.allowNull(e,void 0),topics:Ut.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Ut.allowNull(f),blockHash:Ut.allowNull(o),transactionIndex:f,removed:Ut.allowNull(this.boolean.bind(this)),address:e,data:Ut.allowFalsish(s,"0x"),topics:Ut.arrayOf(o),transactionHash:o,logIndex:f},t}accessList(t){return Fc(t||[])}number(t){return t==="0x"?0:Et.from(t).toNumber()}type(t){return t==="0x"||t==null?0:Et.from(t).toNumber()}bigNumber(t){return Et.from(t)}boolean(t){if(typeof t=="boolean")return t;if(typeof t=="string"){if(t=t.toLowerCase(),t==="true")return!0;if(t==="false")return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return typeof t=="string"&&(!e&&t.substring(0,2)!=="0x"&&(t="0x"+t),fr(t))?t.toLowerCase():gf.throwArgumentError("invalid hash","value",t)}data(t,e){const n=this.hex(t,e);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+t);return n}address(t){return Bn(t)}callAddress(t){if(!fr(t,32))return null;const e=Bn(tn(t,12));return e===Ng?null:e}contractAddress(t){return Pm(t)}blockTag(t){if(t==null)return"latest";if(t==="earliest")return"0x0";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(typeof t=="number"||fr(t))return Nh(t);throw new Error("invalid blockTag")}hash(t,e){const n=this.hex(t,e);return bo(n)!==32?gf.throwArgumentError("invalid hash","value",t):n}difficulty(t){if(t==null)return null;const e=Et.from(t);try{return e.toNumber()}catch{}return null}uint256(t){if(!fr(t))throw new Error("invalid uint256");return vr(t,32)}_block(t,e){t.author!=null&&t.miner==null&&(t.miner=t.author);const n=t._difficulty!=null?t._difficulty:t.difficulty,i=Ut.check(e,t);return i._difficulty=n==null?null:Et.from(n),i}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Ut.check(this.formats.transactionRequest,t)}transactionResponse(t){t.gas!=null&&t.gasLimit==null&&(t.gasLimit=t.gas),t.to&&Et.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),t.input!=null&&t.data==null&&(t.data=t.input),t.to==null&&t.creates==null&&(t.creates=this.contractAddress(t)),(t.type===1||t.type===2)&&t.accessList==null&&(t.accessList=[]);const e=Ut.check(this.formats.transaction,t);if(t.chainId!=null){let n=t.chainId;fr(n)&&(n=Et.from(n).toNumber()),e.chainId=n}else{let n=t.networkId;n==null&&e.v==null&&(n=t.chainId),fr(n)&&(n=Et.from(n).toNumber()),typeof n!="number"&&e.v!=null&&(n=(e.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),e.chainId=n}return e.blockHash&&e.blockHash.replace(/0/g,"")==="x"&&(e.blockHash=null),e}transaction(t){return gA(t)}receiptLog(t){return Ut.check(this.formats.receiptLog,t)}receipt(t){const e=Ut.check(this.formats.receipt,t);if(e.root!=null)if(e.root.length<=4){const n=Et.from(e.root).toNumber();n===0||n===1?(e.status!=null&&e.status!==n&&gf.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=n,delete e.root):gf.throwArgumentError("invalid alt-root-status","value.root",e.root)}else e.root.length!==66&&gf.throwArgumentError("invalid root hash","value.root",e.root);return e.status!=null&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map(e=>this.topics(e)):t!=null?this.hash(t,!0):null}filter(t){return Ut.check(this.formats.filter,t)}filterLog(t){return Ut.check(this.formats.filterLog,t)}static check(t,e){const n={};for(const i in t)try{const s=t[i](e[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=e[i],s}return n}static allowNull(t,e){return function(n){return n==null?e:t(n)}}static allowFalsish(t,e){return function(n){return n?t(n):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach(function(i){n.push(t(i))}),n}}}var we=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};const ke=new et(Eu),TA=10;function c1(r){return r==null?"null":(bo(r)!==32&&ke.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function u1(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(t=>{if(Array.isArray(t)){const e={};t.forEach(i=>{e[c1(i)]=!0});const n=Object.keys(e);return n.sort(),n.join("|")}else return c1(t)}).join("&")}function RA(r){return r===""?[]:r.split(/&/g).map(t=>{if(t==="")return[];const e=t.split("|").map(n=>n==="null"?null:n);return e.length===1?e[0]:e})}function To(r){if(typeof r=="string"){if(r=r.toLowerCase(),bo(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+u1(r);if(mb.isForkEvent(r))throw ke.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+u1(r.topics||[])}throw new Error("invalid event - "+r)}function xf(){return new Date().getTime()}function l1(r){return new Promise(t=>{setTimeout(t,r)})}const MA=["block","network","pending","poll"];let OA=class{constructor(t,e,n){Ie(this,"tag",t),Ie(this,"listener",e),Ie(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return t[0]!=="tx"?null:t[1]}get filter(){const t=this.tag.split(":");if(t[0]!=="filter")return null;const e=t[1],n=RA(t[2]),i={};return n.length>0&&(i.topics=n),e&&e!=="*"&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||MA.indexOf(this.tag)>=0}};const UA={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function tl(r){return vr(Et.from(r).toHexString(),32)}function h1(r){return Tl.encode(qs([r,tn(r1(r1(r)),0,4)]))}const mx=new RegExp("^(ipfs)://(.*)$","i"),d1=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),mx,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function p0(r,t){try{return xu(Qf(r,t))}catch{}return null}function Qf(r,t){if(r==="0x")return null;const e=Et.from(tn(r,t,t+32)).toNumber(),n=Et.from(tn(r,e,e+32)).toNumber();return tn(r,e+32,e+32+n)}function el(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):ke.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function p1(r){const t=Zt(r);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function DA(r){if(r.length%32===0)return r;const t=new Uint8Array(Math.ceil(r.length/32)*32);return t.set(r),t}function bx(r){const t=[];let e=0;for(let n=0;n<r.length;n++)t.push(null),e+=32;for(let n=0;n<r.length;n++){const i=Zt(r[n]);t[n]=p1(e),t.push(p1(i.length)),t.push(DA(i)),e+=32+Math.ceil(i.length/32)*32}return _n(t)}class g1{constructor(t,e,n,i){Ie(this,"provider",t),Ie(this,"name",n),Ie(this,"address",t.formatter.address(e)),Ie(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(t=>Et.from(t).eq(1)).catch(t=>{if(t.code===et.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t})),this._supportsEip2544}_fetch(t,e){return we(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:_n([t,l0(this.name),e||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=_n(["0x9061b923",bx([ab(this.name),n.data])]));try{let s=yield this.provider.call(n);return Zt(s).length%32===4&&ke.throwError("resolver threw error",et.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Qf(s,0)),s}catch(s){if(s.code===et.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(t,e){return we(this,void 0,void 0,function*(){const n=yield this._fetch(t,e);return n!=null?Qf(n,0):null})}_getAddress(t,e){const n=UA[String(t)];if(n==null&&ke.throwError(`unsupported coin type: ${t}`,et.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),n.ilk==="eth")return this.provider.formatter.address(e);const i=Zt(e);if(n.p2pkh!=null){const s=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return h1(qs([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return h1(qs([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=f1.toWords(i.slice(2));return a.unshift(o),f1.encode(n.prefix,a)}}return null}getAddress(t){return we(this,void 0,void 0,function*(){if(t==null&&(t=60),t===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===km?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===et.errors.CALL_EXCEPTION)return null;throw i}const e=yield this._fetchBytes("0xf1cb7e06",tl(t));if(e==null||e==="0x")return null;const n=this._getAddress(t,e);return n==null&&ke.throwError("invalid or unsupported coin data",et.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),n})}getAvatar(){return we(this,void 0,void 0,function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(e==null)return null;for(let n=0;n<d1.length;n++){const i=e.match(d1[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:el(e)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";t.push({type:s,content:e});const a=this._resolvedAddress||(yield this.getAddress()),f=(i[2]||"").split("/");if(f.length!==2)return null;const c=yield this.provider.formatter.address(f[0]),h=vr(Et.from(f[1]).toHexString(),32);if(s==="erc721"){const I=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:_n(["0x6352211e",h])}));if(a!==I)return null;t.push({type:"owner",content:I})}else if(s==="erc1155"){const I=Et.from(yield this.provider.call({to:c,data:_n(["0x00fdd58e",vr(a,32),h])}));if(I.isZero())return null;t.push({type:"balance",content:I.toString()})}const d={to:this.provider.formatter.address(f[0]),data:_n([o,h])};let m=p0(yield this.provider.call(d),0);if(m==null)return null;t.push({type:"metadata-url-base",content:m}),s==="erc1155"&&(m=m.replace("{id}",h.substring(2)),t.push({type:"metadata-url-expanded",content:m})),m.match(/^ipfs:/i)&&(m=el(m)),t.push({type:"metadata-url",content:m});const w=yield Rh(m);if(!w)return null;t.push({type:"metadata",content:JSON.stringify(w)});let F=w.image;if(typeof F!="string")return null;if(!F.match(/^(https:\/\/|data:)/i)){if(F.match(mx)==null)return null;t.push({type:"url-ipfs",content:F}),F=el(F)}return t.push({type:"url",content:F}),{linkage:t,url:F}}}}}catch{}return null})}getContentHash(){return we(this,void 0,void 0,function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(t==null||t==="0x")return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const o=parseInt(e[3],16);if(e[4].length===o*2)return"ipfs://"+Tl.encode("0x"+e[1])}const n=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Tl.encode("0x"+n[1])}const i=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=t.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Tg("0x"+s[1]).replace(/[=+\/]/g,f=>o[f])}return ke.throwError("invalid or unsupported content hash data",et.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})})}getText(t){return we(this,void 0,void 0,function*(){let e=rs(t);e=qs([tl(64),tl(e.length),e]),e.length%32!==0&&(e=qs([e,vr("0x",32-t.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",de(e));return n==null||n==="0x"?null:xu(n)})}}let rl=null,LA=1;class HA extends mu{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ie(this,"anyNetwork",t==="any"),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(e=>{}),this._ready().catch(e=>{});else{const e=Af(new.target,"getNetwork")(t);e?(Ie(this,"_network",e),this.emit("network",e,null)):ke.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return we(this,void 0,void 0,function*(){if(this._network==null){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch{}t==null&&(t=yield this.detectNetwork()),t||ke.throwError("no network detected",et.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=t:Ie(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return vf(()=>this._ready().then(t=>t,t=>{if(!(t.code===et.errors.NETWORK_ERROR&&t.event==="noNetwork"))throw t}))}static getFormatter(){return rl==null&&(rl=new Ut),rl}static getNetwork(t){return mA(t??"homestead")}ccipReadFetch(t,e,n){return we(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=t.to.toLowerCase(),s=e.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const f=n[a],c=f.replace("{sender}",i).replace("{data}",s),h=f.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),d=yield Rh({url:c,errorPassThrough:!0},h,(w,F)=>(w.status=F.statusCode,w));if(d.data)return d.data;const m=d.message||"unknown error";if(d.status>=400&&d.status<500)return ke.throwError(`response not found during CCIP fetch: ${m}`,et.errors.SERVER_ERROR,{url:f,errorMessage:m});o.push(m)}return ke.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,et.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(t){return we(this,void 0,void 0,function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(xf()-s.respTime<=t)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const e=xf(),n=Rr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=xf();return i=Et.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:e,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return we(this,void 0,void 0,function*(){const t=LA++,e=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",t,n),n===this._lastBlockNumber){this.emit("didPoll",t);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ke.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ke.makeError("network block skew detected",et.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});e.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(f=>{i._inflight=!1,f.length!==0&&f.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(f=>{this.emit("error",f),i._inflight=!1});e.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(e).then(()=>{this.emit("didPoll",t)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return we(this,void 0,void 0,function*(){return ke.throwError("provider does not support network detection",et.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return we(this,void 0,void 0,function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield l1(0),this._network;const n=ke.makeError("underlying network changed",et.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",n),n}return t})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if(typeof t!="number"||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=xf();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){this._fastBlockNumber!=null&&t<this._fastBlockNumber||(this._fastQueryDate=xf(),(this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,n){return we(this,void 0,void 0,function*(){return this._waitForTransaction(t,e??1,n||0,null)})}_waitForTransaction(t,e,n,i){return we(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(t);return(s?s.confirmations:0)>=e?s:new Promise((o,a)=>{const f=[];let c=!1;const h=function(){return c?!0:(c=!0,f.forEach(m=>{m()}),!1)},d=m=>{m.confirmations<e||h()||o(m)};if(this.on(t,d),f.push(()=>{this.removeListener(t,d)}),i){let m=i.startBlock,w=null;const F=I=>we(this,void 0,void 0,function*(){c||(yield l1(1e3),this.getTransactionCount(i.from).then(K=>we(this,void 0,void 0,function*(){if(!c){if(K<=i.nonce)m=I;else{{const D=yield this.getTransaction(t);if(D&&D.blockNumber!=null)return}for(w==null&&(w=m-3,w<i.startBlock&&(w=i.startBlock));w<=I;){if(c)return;const D=yield this.getBlockWithTransactions(w);for(let Z=0;Z<D.transactions.length;Z++){const $=D.transactions[Z];if($.hash===t)return;if($.from===i.from&&$.nonce===i.nonce){if(c)return;const xt=yield this.waitForTransaction($.hash,e);if(h())return;let X="replaced";$.data===i.data&&$.to===i.to&&$.value.eq(i.value)?X="repriced":$.data==="0x"&&$.from===$.to&&$.value.isZero()&&(X="cancelled"),a(ke.makeError("transaction was replaced",et.errors.TRANSACTION_REPLACED,{cancelled:X==="replaced"||X==="cancelled",reason:X,replacement:this._wrapTransaction($),hash:t,receipt:xt}));return}}w++}}c||this.once("block",F)}}),K=>{c||this.once("block",F)}))});if(c)return;this.once("block",F),f.push(()=>{this.removeListener("block",F)})}if(typeof n=="number"&&n>0){const m=setTimeout(()=>{h()||a(ke.makeError("timeout exceeded",et.errors.TIMEOUT,{timeout:n}))},n);m.unref&&m.unref(),f.push(()=>{clearTimeout(m)})}})})}getBlockNumber(){return we(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return we(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return Et.from(t)}catch(e){return ke.throwError("bad result from backend",et.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}})}getBalance(t,e){return we(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getBalance",n);try{return Et.from(i)}catch(s){return ke.throwError("bad result from backend",et.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(t,e){return we(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getTransactionCount",n);try{return Et.from(i).toNumber()}catch(s){return ke.throwError("bad result from backend",et.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(t,e){return we(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getCode",n);try{return de(i)}catch(s){return ke.throwError("bad result from backend",et.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(t,e,n){return we(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Rr({address:this._getAddress(t),blockTag:this._getBlockTag(n),position:Promise.resolve(e).then(o=>Nh(o))}),s=yield this.perform("getStorageAt",i);try{return de(s)}catch(o){return ke.throwError("bad result from backend",et.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(t,e,n){if(e!=null&&bo(e)!==32)throw new Error("invalid response - sendTransaction");const i=t;return e!=null&&t.hash!==e&&ke.throwError("Transaction hash mismatch from Provider.sendTransaction.",et.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),i.wait=(s,o)=>we(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:n});const f=yield this._waitForTransaction(t.hash,s,o,a);return f==null&&s===0?null:(this._emitted["t:"+t.hash]=f.blockNumber,f.status===0&&ke.throwError("transaction failed",et.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:f}),f)}),i}sendTransaction(t){return we(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then(s=>de(s)),n=this.formatter.transaction(t);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(t){return we(this,void 0,void 0,function*(){const e=yield t,n={};return["from","to"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(s=>s?Et.from(s):null))}),["type"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(s=>s??null))}),e.accessList&&(n.accessList=this.formatter.accessList(e.accessList)),["data"].forEach(i=>{e[i]!=null&&(n[i]=Promise.resolve(e[i]).then(s=>s?de(s):null))}),this.formatter.transactionRequest(yield Rr(n))})}_getFilter(t){return we(this,void 0,void 0,function*(){t=yield t;const e={};return t.address!=null&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach(n=>{t[n]!=null&&(e[n]=t[n])}),["fromBlock","toBlock"].forEach(n=>{t[n]!=null&&(e[n]=this._getBlockTag(t[n]))}),this.formatter.filter(yield Rr(e))})}_call(t,e,n){return we(this,void 0,void 0,function*(){n>=TA&&ke.throwError("CCIP read exceeded maximum redirections",et.errors.SERVER_ERROR,{redirects:n,transaction:t});const i=t.to,s=yield this.perform("call",{transaction:t,blockTag:e});if(n>=0&&e==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&bo(s)%32===4)try{const o=tn(s,4),a=tn(o,0,32);Et.from(a).eq(i)||ke.throwError("CCIP Read sender did not match",et.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:s});const f=[],c=Et.from(tn(o,32,64)).toNumber(),h=Et.from(tn(o,c,c+32)).toNumber(),d=tn(o,c+32);for(let D=0;D<h;D++){const Z=p0(d,D*32);Z==null&&ke.throwError("CCIP Read contained corrupt URL string",et.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:s}),f.push(Z)}const m=Qf(o,64);Et.from(tn(o,100,128)).isZero()||ke.throwError("CCIP Read callback selector included junk",et.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:s});const w=tn(o,96,100),F=Qf(o,128),I=yield this.ccipReadFetch(t,m,f);I==null&&ke.throwError("CCIP Read disabled or provided no URLs",et.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:s});const K={to:i,data:_n([w,bx([I,F])])};return this._call(K,e,n+1)}catch(o){if(o.code===et.errors.SERVER_ERROR)throw o}try{return de(s)}catch(o){return ke.throwError("bad result from backend",et.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:s,error:o})}})}call(t,e){return we(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Rr({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(t){return we(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield Rr({transaction:this._getTransactionRequest(t)}),n=yield this.perform("estimateGas",e);try{return Et.from(n)}catch(i){return ke.throwError("bad result from backend",et.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:n,error:i})}})}_getAddress(t){return we(this,void 0,void 0,function*(){t=yield t,typeof t!="string"&&ke.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return e==null&&ke.throwError("ENS name not configured",et.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e})}_getBlock(t,e){return we(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;let n=-128;const i={includeTransactions:!!e};if(fr(t,32))i.blockHash=t;else try{i.blockTag=yield this._getBlockTag(t),fr(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ke.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return vf(()=>we(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(e){let o=null;for(let f=0;f<s.transactions.length;f++){const c=s.transactions[f];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=o-c.blockNumber+1;h<=0&&(h=1),c.confirmations=h}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(f=>this._wrapTransaction(f)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return we(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return vf(()=>we(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",e);if(n==null)return this._emitted["t:"+t]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(t){return we(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return vf(()=>we(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",e);if(n==null)return this._emitted["t:"+t]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(t){return we(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield Rr({filter:this._getFilter(t)}),n=yield this.perform("getLogs",e);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ut.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return we(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(t){return we(this,void 0,void 0,function*(){if(t=yield t,typeof t=="number"&&t<0){t%1&&ke.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)})}getResolver(t){return we(this,void 0,void 0,function*(){let e=t;for(;;){if(e===""||e==="."||t!=="eth"&&e==="eth")return null;const n=yield this._getResolver(e,"getResolver");if(n!=null){const i=new g1(this,n,t);return e!==t&&!(yield i.supportsWildcard())?null:i}e=e.split(".").slice(1).join(".")}})}_getResolver(t,e){return we(this,void 0,void 0,function*(){e==null&&(e="ENS");const n=yield this.getNetwork();n.ensAddress||ke.throwError("network does not support ENS",et.errors.UNSUPPORTED_OPERATION,{operation:e,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+l0(t).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(t){return we(this,void 0,void 0,function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(n){if(fr(t))throw n}typeof t!="string"&&ke.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null})}lookupAddress(t){return we(this,void 0,void 0,function*(){t=yield t,t=this.formatter.address(t);const e=t.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(e,"lookupAddress");if(n==null)return null;const i=p0(yield this.call({to:n,data:"0x691f3431"+l0(e).substring(2)}),0);return(yield this.resolveName(i))!=t?null:i})}getAvatar(t){return we(this,void 0,void 0,function*(){let e=null;if(fr(t)){const s=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;e=new g1(this,o,s);try{const a=yield e.getAvatar();if(a)return a.url}catch(a){if(a.code!==et.errors.CALL_EXCEPTION)throw a}try{const a=p0(yield this.call({to:o,data:"0x691f3431"+l0(s).substring(2)}),0);e=yield this.getResolver(a)}catch(a){if(a.code!==et.errors.CALL_EXCEPTION)throw a;return null}}else if(e=yield this.getResolver(t),!e)return null;const n=yield e.getAvatar();return n==null?null:n.url})}perform(t,e){return ke.throwError(t+" not implemented",et.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(t,e,n){const i=new OA(To(t),e,n);return this._events.push(i),this._startEvent(i),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let n=!1,i=[],s=To(t);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,e)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(t){if(!t)return this._events.length;let e=To(t);return this._events.filter(n=>n.tag===e).length}listeners(t){if(t==null)return this._events.map(n=>n.listener);let e=To(t);return this._events.filter(n=>n.tag===e).map(n=>n.listener)}off(t,e){if(e==null)return this.removeAllListeners(t);const n=[];let i=!1,s=To(t);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=e||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(t){let e=[];if(t==null)e=this._events,this._events=[];else{const n=To(t);this._events=this._events.filter(i=>i.tag!==n?!0:(e.push(i),!1))}return e.forEach(n=>{this._stopEvent(n)}),this}}var Di=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})};const _r=new et(Eu),GA=["call","estimateGas"];function If(r,t){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const e=fr(r.data)?r.data:null;if(!t||e)return{message:r.message,data:e}}if(typeof r=="object"){for(const e in r){const n=If(r[e],t);if(n)return n}return null}if(typeof r=="string")try{return If(JSON.parse(r),t)}catch{}return null}function wx(r,t,e){const n=e.transaction||e.signedTransaction;if(r==="call"){const s=If(t,!0);if(s)return s.data;_r.throwError("missing revert data in call exception; Transaction reverted without a reason string",et.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if(r==="estimateGas"){let s=If(t.body,!1);s==null&&(s=If(t,!1)),s&&_r.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",et.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:n,error:t})}let i=t.message;throw t.code===et.errors.SERVER_ERROR&&t.error&&typeof t.error.message=="string"?i=t.error.message:typeof t.body=="string"?i=t.body:typeof t.responseText=="string"&&(i=t.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&_r.throwError("insufficient funds for intrinsic transaction cost",et.errors.INSUFFICIENT_FUNDS,{error:t,method:r,transaction:n}),i.match(/nonce (is )?too low/i)&&_r.throwError("nonce has already been used",et.errors.NONCE_EXPIRED,{error:t,method:r,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&_r.throwError("replacement fee too low",et.errors.REPLACEMENT_UNDERPRICED,{error:t,method:r,transaction:n}),i.match(/only replay-protected/i)&&_r.throwError("legacy pre-eip-155 transactions not supported",et.errors.UNSUPPORTED_OPERATION,{error:t,method:r,transaction:n}),GA.indexOf(r)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&_r.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",et.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:r,transaction:n}),t}function x1(r){return new Promise(function(t){setTimeout(t,r)})}function zA(r){if(r.error){const t=new Error(r.error.message);throw t.code=r.error.code,t.data=r.error.data,t}return r.result}function yf(r){return r&&r.toLowerCase()}const Ml={};class Ax extends vc{constructor(t,e,n){if(super(),t!==Ml)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ie(this,"provider",e),n==null&&(n=0),typeof n=="string"?(Ie(this,"_address",this.provider.formatter.address(n)),Ie(this,"_index",null)):typeof n=="number"?(Ie(this,"_index",n),Ie(this,"_address",null)):_r.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(t){return _r.throwError("cannot alter JSON-RPC Signer connection",et.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new VA(Ml,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&_r.throwError("unknown account #"+this._index,et.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(t){t=hn(t);const e=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(t.gasLimit==null){const n=hn(t);n.from=e,t.gasLimit=this.provider.estimateGas(n)}return t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>Di(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&_r.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Rr({tx:Rr(t),sender:e}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&_r.throwArgumentError("from address mismatch","transaction",t):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&_r.throwError("user rejected transaction",et.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),wx("sendTransaction",o,s)))})}signTransaction(t){return _r.throwError("signing transactions is unsupported",et.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return Di(this,void 0,void 0,function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(t);try{return yield vf(()=>Di(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,e)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(t){return Di(this,void 0,void 0,function*(){const e=typeof t=="string"?rs(t):t,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[de(e),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&_r.throwError("user rejected signing",et.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:t}),i}})}_legacySignMessage(t){return Di(this,void 0,void 0,function*(){const e=typeof t=="string"?rs(t):t,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),de(e)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&_r.throwError("user rejected signing",et.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:t}),i}})}_signTypedData(t,e,n){return Di(this,void 0,void 0,function*(){const i=yield qd.resolveNames(t,e,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(qd.getPayload(i.domain,e,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&_r.throwError("user rejected signing",et.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:e,value:i.value}}),o}})}unlock(t){return Di(this,void 0,void 0,function*(){const e=this.provider,n=yield this.getAddress();return e.send("personal_unlockAccount",[n.toLowerCase(),t,null])})}}class VA extends Ax{sendTransaction(t){return this.sendUncheckedTransaction(t).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(e,n)}))}}const QA={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Mh extends HA{constructor(t,e){let n=e;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),t||(t=Af(this.constructor,"defaultUrl")()),typeof t=="string"?Ie(this,"connection",Object.freeze({url:t})):Ie(this,"connection",Object.freeze(hn(t))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Di(this,void 0,void 0,function*(){yield x1(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch{try{t=yield this.send("net_version",[])}catch{}}if(t!=null){const e=Af(this.constructor,"getNetwork");try{return e(Et.from(t).toNumber())}catch(n){return _r.throwError("could not detect network",et.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:n})}}return _r.throwError("could not detect network",et.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(t){return new Ax(Ml,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(e=>this.formatter.address(e)))}send(t,e){const n={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:wo(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(i&&this._cache[t])return this._cache[t];const s=Rh(this.connection,JSON.stringify(n),zA).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[t]=s,setTimeout(()=>{this._cache[t]=null},0)),s}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[yf(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[yf(e.address),e.blockTag]];case"getCode":return["eth_getCode",[yf(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[yf(e.address),vr(e.position,32),e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[Af(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[Af(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&e.filter.address!=null&&(e.filter.address=yf(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return Di(this,void 0,void 0,function*(){if(t==="call"||t==="estimateGas"){const i=e.transaction;if(i&&i.type!=null&&Et.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=hn(e),e.transaction=hn(i),delete e.transaction.type)}}const n=this.prepareRequest(t,e);n==null&&_r.throwError(t+" not implemented",et.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(n[0],n[1])}catch(i){return wx(t,i,e)}})}_startEvent(t){t.tag==="pending"&&this._startPending(),super._startEvent(t)}_startPending(){if(this._pendingFilter!=null)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then(function(n){function i(){t.send("eth_getFilterChanges",[n]).then(function(s){if(t._pendingFilter!=e)return null;let o=Promise.resolve();return s.forEach(function(a){t._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return t.getTransaction(a).then(function(f){return t.emit("pending",f),null})})}),o.then(function(){return x1(1e3)})}).then(function(){if(t._pendingFilter!=e){t.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(t){t.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const n=hn(QA);if(e)for(const s in e)e[s]&&(n[s]=!0);ym(t,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(t[s]==null)return;const o=Nh(Et.from(t[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){t[s]!=null&&(i[s]=de(t[s]))}),t.accessList&&(i.accessList=Fc(t.accessList)),i}}const y1=new et(Eu);let KA=1;function m1(r,t){const e="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:KA++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:e,request:wo(s),provider:this}),t(s,(f,c)=>{if(f)return this.emit("debug",{action:"response",fetcher:e,error:f,request:s,provider:this}),a(f);if(this.emit("debug",{action:"response",fetcher:e,request:s,response:c,provider:this}),c.error){const h=new Error(c.error.message);return h.code=c.error.code,h.data=c.error.data,a(h)}o(c.result)})})}}function JA(r){return function(t,e){e==null&&(e=[]);const n={method:t,params:e};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:wo(n),provider:this}),r.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class jA extends Mh{constructor(t,e){t==null&&y1.throwArgumentError("missing provider","provider",t);let n=null,i=null,s=null;typeof t=="function"?(n="unknown:",i=t):(n=t.host||t.path||"",!n&&t.isMetaMask&&(n="metamask"),s=t,t.request?(n===""&&(n="eip-1193:"),i=JA(t)):t.sendAsync?i=m1(t,t.sendAsync.bind(t)):t.send?i=m1(t,t.send.bind(t)):y1.throwArgumentError("unsupported provider","provider",t),n||(n="unknown:")),super(n,e),Ie(this,"jsonRpcFetchFunc",i),Ie(this,"provider",s)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const YA="units/5.7.0",qA=new et(YA),vx=["wei","kwei","mwei","gwei","szabo","finney","ether"];function WA(r,t){if(typeof t=="string"){const e=vx.indexOf(t);e!==-1&&(t=3*e)}return u0(r,t??18)}function $A(r,t){if(typeof r!="string"&&qA.throwArgumentError("value must be a string","value",r),typeof t=="string"){const e=vx.indexOf(t);e!==-1&&(t=3*e)}return pi(r,t??18)}function XA(r){return WA(r,18)}const ZA="_balance_4tjkg_1",tv={balance:ZA},ev="modulepreload",rv=function(r){return"/authzn-demo/"+r},b1={},nv=function(t,e,n){if(!e||e.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(e.map(s=>{if(s=rv(s),s in b1)return;b1[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":ev,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},iv=["string","number","bigint","symbol"],sv=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function ov(r){if(r===null)return"null";if(r===void 0)return"undefined";if(r===!0||r===!1)return"boolean";const t=typeof r;if(iv.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(r))return"Array";if(av(r))return"Buffer";const e=fv(r);return e||"Object"}function av(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}function fv(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(sv.includes(t))return t}class ct{constructor(t,e,n){this.major=t,this.majorEncoded=t<<5,this.name=e,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}ct.uint=new ct(0,"uint",!0);ct.negint=new ct(1,"negint",!0);ct.bytes=new ct(2,"bytes",!0);ct.string=new ct(3,"string",!0);ct.array=new ct(4,"array",!1);ct.map=new ct(5,"map",!1);ct.tag=new ct(6,"tag",!1);ct.float=new ct(7,"float",!0);ct.false=new ct(7,"false",!0);ct.true=new ct(7,"true",!0);ct.null=new ct(7,"null",!0);ct.undefined=new ct(7,"undefined",!0);ct.break=new ct(7,"break",!0);class Kt{constructor(t,e,n){this.type=t,this.value=e,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const af=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",cv=new TextDecoder,uv=new TextEncoder;function O0(r){return af&&globalThis.Buffer.isBuffer(r)}function Ex(r){return r instanceof Uint8Array?O0(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const lv=af?(r,t,e)=>e-t>64?globalThis.Buffer.from(r.subarray(t,e)).toString("utf8"):A1(r,t,e):(r,t,e)=>e-t>64?cv.decode(r.subarray(t,e)):A1(r,t,e),hv=af?r=>r.length>64?globalThis.Buffer.from(r):w1(r):r=>r.length>64?uv.encode(r):w1(r),Oi=r=>Uint8Array.from(r),Oh=af?(r,t,e)=>O0(r)?new Uint8Array(r.subarray(t,e)):r.slice(t,e):(r,t,e)=>r.slice(t,e),dv=af?(r,t)=>(r=r.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),Ex(globalThis.Buffer.concat(r,t))):(r,t)=>{const e=new Uint8Array(t);let n=0;for(let i of r)n+i.length>e.length&&(i=i.subarray(0,e.length-n)),e.set(i,n),n+=i.length;return e},pv=af?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function gv(r,t){if(O0(r)&&O0(t))return r.compare(t);for(let e=0;e<r.length;e++)if(r[e]!==t[e])return r[e]<t[e]?-1:1;return 0}function w1(r,t=1/0){let e;const n=r.length;let i=null;const s=[];for(let o=0;o<n;++o){if(e=r.charCodeAt(o),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&s.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;s.push(e)}else if(e<2048){if((t-=2)<0)break;s.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;s.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return s}function A1(r,t,e){const n=[];for(;t<e;){const i=r[t];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=e){let a,f,c,h;switch(o){case 1:i<128&&(s=i);break;case 2:a=r[t+1],(a&192)===128&&(h=(i&31)<<6|a&63,h>127&&(s=h));break;case 3:a=r[t+1],f=r[t+2],(a&192)===128&&(f&192)===128&&(h=(i&15)<<12|(a&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:a=r[t+1],f=r[t+2],c=r[t+3],(a&192)===128&&(f&192)===128&&(c&192)===128&&(h=(i&15)<<18|(a&63)<<12|(f&63)<<6|c&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=o}return xv(n)}const v1=4096;function xv(r){const t=r.length;if(t<=v1)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=v1));return e}const yv=256;class Fx{constructor(t=yv){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let e=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const i=e.length-(this.maxCursor-this.cursor)-1;e.set(t,i)}else{if(e){const i=e.length-(this.maxCursor-this.cursor)-1;i<e.length&&(this.chunks[this.chunks.length-1]=e.subarray(0,i),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(e=pv(this.chunkSize),this.chunks.push(e),this.maxCursor+=e.length,this._initReuseChunk===null&&(this._initReuseChunk=e),e.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let e;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(e=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=Oh(n,0,this.cursor)}else e=dv(this.chunks,this.cursor);return t&&this.reset(),e}}const Ue="CBOR decode error:",_x="CBOR encode error:";function ff(r,t,e){if(r.length-t<e)throw new Error(`${Ue} not enough data for type`)}const Ur=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Co(r,t,e){ff(r,t,1);const n=r[t];if(e.strict===!0&&n<Ur[0])throw new Error(`${Ue} integer encoded in more bytes than necessary (strict decode)`);return n}function Po(r,t,e){ff(r,t,2);const n=r[t]<<8|r[t+1];if(e.strict===!0&&n<Ur[1])throw new Error(`${Ue} integer encoded in more bytes than necessary (strict decode)`);return n}function So(r,t,e){ff(r,t,4);const n=r[t]*16777216+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(e.strict===!0&&n<Ur[2])throw new Error(`${Ue} integer encoded in more bytes than necessary (strict decode)`);return n}function ko(r,t,e){ff(r,t,8);const n=r[t]*16777216+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3],i=r[t+4]*16777216+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(i);if(e.strict===!0&&s<Ur[3])throw new Error(`${Ue} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(e.allowBigInt===!0)return s;throw new Error(`${Ue} integers outside of the safe integer range are not supported`)}function mv(r,t,e,n){return new Kt(ct.uint,Co(r,t+1,n),2)}function bv(r,t,e,n){return new Kt(ct.uint,Po(r,t+1,n),3)}function wv(r,t,e,n){return new Kt(ct.uint,So(r,t+1,n),5)}function Av(r,t,e,n){return new Kt(ct.uint,ko(r,t+1,n),9)}function Io(r,t){return jn(r,0,t.value)}function jn(r,t,e){if(e<Ur[0]){const n=Number(e);r.push([t|n])}else if(e<Ur[1]){const n=Number(e);r.push([t|24,n])}else if(e<Ur[2]){const n=Number(e);r.push([t|25,n>>>8,n&255])}else if(e<Ur[3]){const n=Number(e);r.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(e);if(n<Ur[4]){const i=[t|27,0,0,0,0,0,0,0];let s=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=s&255,s=s>>8,i[7]=s&255,s=s>>8,i[6]=s&255,s=s>>8,i[5]=s&255,i[4]=o&255,o=o>>8,i[3]=o&255,o=o>>8,i[2]=o&255,o=o>>8,i[1]=o&255,r.push(i)}else throw new Error(`${Ue} encountered BigInt larger than allowable range`)}}Io.encodedSize=function(t){return jn.encodedSize(t.value)};jn.encodedSize=function(t){return t<Ur[0]?1:t<Ur[1]?2:t<Ur[2]?3:t<Ur[3]?5:9};Io.compareTokens=function(t,e){return t.value<e.value?-1:t.value>e.value?1:0};function vv(r,t,e,n){return new Kt(ct.negint,-1-Co(r,t+1,n),2)}function Ev(r,t,e,n){return new Kt(ct.negint,-1-Po(r,t+1,n),3)}function Fv(r,t,e,n){return new Kt(ct.negint,-1-So(r,t+1,n),5)}const Uh=BigInt(-1),Nx=BigInt(1);function _v(r,t,e,n){const i=ko(r,t+1,n);if(typeof i!="bigint"){const s=-1-i;if(s>=Number.MIN_SAFE_INTEGER)return new Kt(ct.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${Ue} integers outside of the safe integer range are not supported`);return new Kt(ct.negint,Uh-BigInt(i),9)}function Dh(r,t){const e=t.value,n=typeof e=="bigint"?e*Uh-Nx:e*-1-1;jn(r,t.type.majorEncoded,n)}Dh.encodedSize=function(t){const e=t.value,n=typeof e=="bigint"?e*Uh-Nx:e*-1-1;return n<Ur[0]?1:n<Ur[1]?2:n<Ur[2]?3:n<Ur[3]?5:9};Dh.compareTokens=function(t,e){return t.value<e.value?1:t.value>e.value?-1:0};function _c(r,t,e,n){ff(r,t,e+n);const i=Oh(r,t+e,t+e+n);return new Kt(ct.bytes,i,e+n)}function Nv(r,t,e,n){return _c(r,t,1,e)}function Bv(r,t,e,n){return _c(r,t,2,Co(r,t+1,n))}function Cv(r,t,e,n){return _c(r,t,3,Po(r,t+1,n))}function Pv(r,t,e,n){return _c(r,t,5,So(r,t+1,n))}function Sv(r,t,e,n){const i=ko(r,t+1,n);if(typeof i=="bigint")throw new Error(`${Ue} 64-bit integer bytes lengths not supported`);return _c(r,t,9,i)}function U0(r){return r.encodedBytes===void 0&&(r.encodedBytes=r.type===ct.string?hv(r.value):r.value),r.encodedBytes}function Fu(r,t){const e=U0(t);jn(r,t.type.majorEncoded,e.length),r.push(e)}Fu.encodedSize=function(t){const e=U0(t);return jn.encodedSize(e.length)+e.length};Fu.compareTokens=function(t,e){return kv(U0(t),U0(e))};function kv(r,t){return r.length<t.length?-1:r.length>t.length?1:gv(r,t)}function Nc(r,t,e,n,i){const s=e+n;ff(r,t,s);const o=new Kt(ct.string,lv(r,t+e,t+s),s);return i.retainStringBytes===!0&&(o.byteValue=Oh(r,t+e,t+s)),o}function Iv(r,t,e,n){return Nc(r,t,1,e,n)}function Tv(r,t,e,n){return Nc(r,t,2,Co(r,t+1,n),n)}function Rv(r,t,e,n){return Nc(r,t,3,Po(r,t+1,n),n)}function Mv(r,t,e,n){return Nc(r,t,5,So(r,t+1,n),n)}function Ov(r,t,e,n){const i=ko(r,t+1,n);if(typeof i=="bigint")throw new Error(`${Ue} 64-bit integer string lengths not supported`);return Nc(r,t,9,i,n)}const Uv=Fu;function cf(r,t,e,n){return new Kt(ct.array,n,e)}function Dv(r,t,e,n){return cf(r,t,1,e)}function Lv(r,t,e,n){return cf(r,t,2,Co(r,t+1,n))}function Hv(r,t,e,n){return cf(r,t,3,Po(r,t+1,n))}function Gv(r,t,e,n){return cf(r,t,5,So(r,t+1,n))}function zv(r,t,e,n){const i=ko(r,t+1,n);if(typeof i=="bigint")throw new Error(`${Ue} 64-bit integer array lengths not supported`);return cf(r,t,9,i)}function Vv(r,t,e,n){if(n.allowIndefinite===!1)throw new Error(`${Ue} indefinite length items not allowed`);return cf(r,t,1,1/0)}function Lh(r,t){jn(r,ct.array.majorEncoded,t.value)}Lh.compareTokens=Io.compareTokens;Lh.encodedSize=function(t){return jn.encodedSize(t.value)};function uf(r,t,e,n){return new Kt(ct.map,n,e)}function Qv(r,t,e,n){return uf(r,t,1,e)}function Kv(r,t,e,n){return uf(r,t,2,Co(r,t+1,n))}function Jv(r,t,e,n){return uf(r,t,3,Po(r,t+1,n))}function jv(r,t,e,n){return uf(r,t,5,So(r,t+1,n))}function Yv(r,t,e,n){const i=ko(r,t+1,n);if(typeof i=="bigint")throw new Error(`${Ue} 64-bit integer map lengths not supported`);return uf(r,t,9,i)}function qv(r,t,e,n){if(n.allowIndefinite===!1)throw new Error(`${Ue} indefinite length items not allowed`);return uf(r,t,1,1/0)}function Hh(r,t){jn(r,ct.map.majorEncoded,t.value)}Hh.compareTokens=Io.compareTokens;Hh.encodedSize=function(t){return jn.encodedSize(t.value)};function Wv(r,t,e,n){return new Kt(ct.tag,e,1)}function $v(r,t,e,n){return new Kt(ct.tag,Co(r,t+1,n),2)}function Xv(r,t,e,n){return new Kt(ct.tag,Po(r,t+1,n),3)}function Zv(r,t,e,n){return new Kt(ct.tag,So(r,t+1,n),5)}function t6(r,t,e,n){return new Kt(ct.tag,ko(r,t+1,n),9)}function Gh(r,t){jn(r,ct.tag.majorEncoded,t.value)}Gh.compareTokens=Io.compareTokens;Gh.encodedSize=function(t){return jn.encodedSize(t.value)};const e6=20,r6=21,n6=22,i6=23;function s6(r,t,e,n){if(n.allowUndefined===!1)throw new Error(`${Ue} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Kt(ct.null,null,1):new Kt(ct.undefined,void 0,1)}function o6(r,t,e,n){if(n.allowIndefinite===!1)throw new Error(`${Ue} indefinite length items not allowed`);return new Kt(ct.break,void 0,1)}function zh(r,t,e){if(e){if(e.allowNaN===!1&&Number.isNaN(r))throw new Error(`${Ue} NaN values are not supported`);if(e.allowInfinity===!1&&(r===1/0||r===-1/0))throw new Error(`${Ue} Infinity values are not supported`)}return new Kt(ct.float,r,t)}function a6(r,t,e,n){return zh(Qh(r,t+1),3,n)}function f6(r,t,e,n){return zh(Kh(r,t+1),5,n)}function c6(r,t,e,n){return zh(Sx(r,t+1),9,n)}function Vh(r,t,e){const n=t.value;if(n===!1)r.push([ct.float.majorEncoded|e6]);else if(n===!0)r.push([ct.float.majorEncoded|r6]);else if(n===null)r.push([ct.float.majorEncoded|n6]);else if(n===void 0)r.push([ct.float.majorEncoded|i6]);else{let i,s=!1;(!e||e.float64!==!0)&&(Cx(n),i=Qh(Xn,1),n===i||Number.isNaN(n)?(Xn[0]=249,r.push(Xn.slice(0,3)),s=!0):(Px(n),i=Kh(Xn,1),n===i&&(Xn[0]=250,r.push(Xn.slice(0,5)),s=!0))),s||(u6(n),i=Sx(Xn,1),Xn[0]=251,r.push(Xn.slice(0,9)))}}Vh.encodedSize=function(t,e){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!e||e.float64!==!0){Cx(n);let i=Qh(Xn,1);if(n===i||Number.isNaN(n))return 3;if(Px(n),i=Kh(Xn,1),n===i)return 5}return 9};const Bx=new ArrayBuffer(9),Mn=new DataView(Bx,1),Xn=new Uint8Array(Bx,0);function Cx(r){if(r===1/0)Mn.setUint16(0,31744,!1);else if(r===-1/0)Mn.setUint16(0,64512,!1);else if(Number.isNaN(r))Mn.setUint16(0,32256,!1);else{Mn.setFloat32(0,r);const t=Mn.getUint32(0),e=(t&2139095040)>>23,n=t&8388607;if(e===255)Mn.setUint16(0,31744,!1);else if(e===0)Mn.setUint16(0,(r&2147483648)>>16|n>>13,!1);else{const i=e-127;i<-24?Mn.setUint16(0,0):i<-14?Mn.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):Mn.setUint16(0,(t&2147483648)>>16|i+15<<10|n>>13,!1)}}}function Qh(r,t){if(r.length-t<2)throw new Error(`${Ue} not enough data for float16`);const e=(r[t]<<8)+r[t+1];if(e===31744)return 1/0;if(e===64512)return-1/0;if(e===32256)return NaN;const n=e>>10&31,i=e&1023;let s;return n===0?s=i*2**-24:n!==31?s=(i+1024)*2**(n-25):s=i===0?1/0:NaN,e&32768?-s:s}function Px(r){Mn.setFloat32(0,r,!1)}function Kh(r,t){if(r.length-t<4)throw new Error(`${Ue} not enough data for float32`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,4).getFloat32(0,!1)}function u6(r){Mn.setFloat64(0,r,!1)}function Sx(r,t){if(r.length-t<8)throw new Error(`${Ue} not enough data for float64`);const e=(r.byteOffset||0)+t;return new DataView(r.buffer,e,8).getFloat64(0,!1)}Vh.compareTokens=Io.compareTokens;function $e(r,t,e){throw new Error(`${Ue} encountered invalid minor (${e}) for major ${r[t]>>>5}`)}function _u(r){return()=>{throw new Error(`${Ue} ${r}`)}}const Nt=[];for(let r=0;r<=23;r++)Nt[r]=$e;Nt[24]=mv;Nt[25]=bv;Nt[26]=wv;Nt[27]=Av;Nt[28]=$e;Nt[29]=$e;Nt[30]=$e;Nt[31]=$e;for(let r=32;r<=55;r++)Nt[r]=$e;Nt[56]=vv;Nt[57]=Ev;Nt[58]=Fv;Nt[59]=_v;Nt[60]=$e;Nt[61]=$e;Nt[62]=$e;Nt[63]=$e;for(let r=64;r<=87;r++)Nt[r]=Nv;Nt[88]=Bv;Nt[89]=Cv;Nt[90]=Pv;Nt[91]=Sv;Nt[92]=$e;Nt[93]=$e;Nt[94]=$e;Nt[95]=_u("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)Nt[r]=Iv;Nt[120]=Tv;Nt[121]=Rv;Nt[122]=Mv;Nt[123]=Ov;Nt[124]=$e;Nt[125]=$e;Nt[126]=$e;Nt[127]=_u("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)Nt[r]=Dv;Nt[152]=Lv;Nt[153]=Hv;Nt[154]=Gv;Nt[155]=zv;Nt[156]=$e;Nt[157]=$e;Nt[158]=$e;Nt[159]=Vv;for(let r=160;r<=183;r++)Nt[r]=Qv;Nt[184]=Kv;Nt[185]=Jv;Nt[186]=jv;Nt[187]=Yv;Nt[188]=$e;Nt[189]=$e;Nt[190]=$e;Nt[191]=qv;for(let r=192;r<=215;r++)Nt[r]=Wv;Nt[216]=$v;Nt[217]=Xv;Nt[218]=Zv;Nt[219]=t6;Nt[220]=$e;Nt[221]=$e;Nt[222]=$e;Nt[223]=$e;for(let r=224;r<=243;r++)Nt[r]=_u("simple values are not supported");Nt[244]=$e;Nt[245]=$e;Nt[246]=$e;Nt[247]=s6;Nt[248]=_u("simple values are not supported");Nt[249]=a6;Nt[250]=f6;Nt[251]=c6;Nt[252]=$e;Nt[253]=$e;Nt[254]=$e;Nt[255]=o6;const Mi=[];for(let r=0;r<24;r++)Mi[r]=new Kt(ct.uint,r,1);for(let r=-1;r>=-24;r--)Mi[31-r]=new Kt(ct.negint,r,1);Mi[64]=new Kt(ct.bytes,new Uint8Array(0),1);Mi[96]=new Kt(ct.string,"",1);Mi[128]=new Kt(ct.array,0,1);Mi[160]=new Kt(ct.map,0,1);Mi[244]=new Kt(ct.false,!1,1);Mi[245]=new Kt(ct.true,!0,1);Mi[246]=new Kt(ct.null,null,1);function l6(r){switch(r.type){case ct.false:return Oi([244]);case ct.true:return Oi([245]);case ct.null:return Oi([246]);case ct.bytes:return r.value.length?void 0:Oi([64]);case ct.string:return r.value===""?Oi([96]):void 0;case ct.array:return r.value===0?Oi([128]):void 0;case ct.map:return r.value===0?Oi([160]):void 0;case ct.uint:return r.value<24?Oi([Number(r.value)]):void 0;case ct.negint:if(r.value>=-24)return Oi([31-Number(r.value)])}}const h6={float64:!1,mapSorter:g6,quickEncodeToken:l6};function d6(){const r=[];return r[ct.uint.major]=Io,r[ct.negint.major]=Dh,r[ct.bytes.major]=Fu,r[ct.string.major]=Uv,r[ct.array.major]=Lh,r[ct.map.major]=Hh,r[ct.tag.major]=Gh,r[ct.float.major]=Vh,r}const kx=d6(),nl=new Fx;class D0{constructor(t,e){this.obj=t,this.parent=e}includes(t){let e=this;do if(e.obj===t)return!0;while(e=e.parent);return!1}static createCheck(t,e){if(t&&t.includes(e))throw new Error(`${_x} object contains circular references`);return new D0(e,t)}}const hs={null:new Kt(ct.null,null),undefined:new Kt(ct.undefined,void 0),true:new Kt(ct.true,!0),false:new Kt(ct.false,!1),emptyArray:new Kt(ct.array,0),emptyMap:new Kt(ct.map,0)},Hs={number(r,t,e,n){return!Number.isInteger(r)||!Number.isSafeInteger(r)?new Kt(ct.float,r):r>=0?new Kt(ct.uint,r):new Kt(ct.negint,r)},bigint(r,t,e,n){return r>=BigInt(0)?new Kt(ct.uint,r):new Kt(ct.negint,r)},Uint8Array(r,t,e,n){return new Kt(ct.bytes,r)},string(r,t,e,n){return new Kt(ct.string,r)},boolean(r,t,e,n){return r?hs.true:hs.false},null(r,t,e,n){return hs.null},undefined(r,t,e,n){return hs.undefined},ArrayBuffer(r,t,e,n){return new Kt(ct.bytes,new Uint8Array(r))},DataView(r,t,e,n){return new Kt(ct.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))},Array(r,t,e,n){if(!r.length)return e.addBreakTokens===!0?[hs.emptyArray,new Kt(ct.break)]:hs.emptyArray;n=D0.createCheck(n,r);const i=[];let s=0;for(const o of r)i[s++]=g0(o,e,n);return e.addBreakTokens?[new Kt(ct.array,r.length),i,new Kt(ct.break)]:[new Kt(ct.array,r.length),i]},Object(r,t,e,n){const i=t!=="Object",s=i?r.keys():Object.keys(r),o=i?r.size:s.length;if(!o)return e.addBreakTokens===!0?[hs.emptyMap,new Kt(ct.break)]:hs.emptyMap;n=D0.createCheck(n,r);const a=[];let f=0;for(const c of s)a[f++]=[g0(c,e,n),g0(i?r.get(c):r[c],e,n)];return p6(a,e),e.addBreakTokens?[new Kt(ct.map,o),a,new Kt(ct.break)]:[new Kt(ct.map,o),a]}};Hs.Map=Hs.Object;Hs.Buffer=Hs.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Hs[`${r}Array`]=Hs.DataView;function g0(r,t={},e){const n=ov(r),i=t&&t.typeEncoders&&t.typeEncoders[n]||Hs[n];if(typeof i=="function"){const o=i(r,n,t,e);if(o!=null)return o}const s=Hs[n];if(!s)throw new Error(`${_x} unsupported type: ${n}`);return s(r,n,t,e)}function p6(r,t){t.mapSorter&&r.sort(t.mapSorter)}function g6(r,t){const e=Array.isArray(r[0])?r[0][0]:r[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(e.type!==n.type)return e.type.compare(n.type);const i=e.type.major,s=kx[i].compareTokens(e,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function Ix(r,t,e,n){if(Array.isArray(t))for(const i of t)Ix(r,i,e,n);else e[t.type.major](r,t,n)}function x6(r,t,e){const n=g0(r,e);if(!Array.isArray(n)&&e.quickEncodeToken){const i=e.quickEncodeToken(n);if(i)return i;const s=t[n.type.major];if(s.encodedSize){const o=s.encodedSize(n,e),a=new Fx(o);if(s(a,n,e),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Ex(a.chunks[0])}}return nl.reset(),Ix(nl,n,t,e),nl.toBytes(!0)}function Oo(r,t){return t=Object.assign({},h6,t),x6(r,kx,t)}const y6={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class m6{constructor(t,e={}){this.pos=0,this.data=t,this.options=e}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let e=Mi[t];if(e===void 0){const n=Nt[t];if(!n)throw new Error(`${Ue} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const i=t&31;e=n(this.data,this.pos,i,this.options)}return this.pos+=e.encodedLength,e}}const Kf=Symbol.for("DONE"),Nu=Symbol.for("BREAK");function b6(r,t,e){const n=[];for(let i=0;i<r.value;i++){const s=Jf(t,e);if(s===Nu){if(r.value===1/0)break;throw new Error(`${Ue} got unexpected break to lengthed array`)}if(s===Kf)throw new Error(`${Ue} found array but not enough entries (got ${i}, expected ${r.value})`);n[i]=s}return n}function w6(r,t,e){const n=e.useMaps===!0,i=n?void 0:{},s=n?new Map:void 0;for(let o=0;o<r.value;o++){const a=Jf(t,e);if(a===Nu){if(r.value===1/0)break;throw new Error(`${Ue} got unexpected break to lengthed map`)}if(a===Kf)throw new Error(`${Ue} found map but not enough entries (got ${o} [no key], expected ${r.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${Ue} non-string keys not supported (got ${typeof a})`);if(e.rejectDuplicateMapKeys===!0&&(n&&s.has(a)||!n&&a in i))throw new Error(`${Ue} found repeat map key "${a}"`);const f=Jf(t,e);if(f===Kf)throw new Error(`${Ue} found map but not enough entries (got ${o} [no value], expected ${r.value})`);n?s.set(a,f):i[a]=f}return n?s:i}function Jf(r,t){if(r.done())return Kf;const e=r.next();if(e.type===ct.break)return Nu;if(e.type.terminal)return e.value;if(e.type===ct.array)return b6(e,r,t);if(e.type===ct.map)return w6(e,r,t);if(e.type===ct.tag){if(t.tags&&typeof t.tags[e.value]=="function"){const n=Jf(r,t);return t.tags[e.value](n)}throw new Error(`${Ue} tag not supported (${e.value})`)}throw new Error("unsupported")}function x0(r,t){if(!(r instanceof Uint8Array))throw new Error(`${Ue} data to decode must be a Uint8Array`);t=Object.assign({},y6,t);const e=t.tokenizer||new m6(r,t),n=Jf(e,t);if(n===Kf)throw new Error(`${Ue} did not find any content to decode`);if(n===Nu)throw new Error(`${Ue} got unexpected break`);if(!e.done())throw new Error(`${Ue} too many terminals, data makes no sense`);return n}var Tx={exports:{}};(function(r){/**
 * @license (c) Franz X Antesberger 2013
 */(function(t){var e=4294967296;t.fromBytesBigEndian=function(n,i,s,o){return(n<<24|i<<16|s<<8|o)>>>0},t.getByteBigEndian=function(n,i){return n>>>8*(3-i)&255},t.getBytesBigEndian=function(n){return[t.getByteBigEndian(n,0),t.getByteBigEndian(n,1),t.getByteBigEndian(n,2),t.getByteBigEndian(n,3)]},t.toHex=function(n,i){i=i||8;var s=n.toString(16);return s.length<i&&(s=new Array(i-s.length+1).join("0")+s),s},t.toUint32=function(n){return n>>>0},t.highPart=function(n){return t.toUint32(n/e)},t.or=function(n,i){for(var s=n,o=1;o<arguments.length;o+=1)s=s|arguments[o];return s>>>0},t.and=function(n,i){for(var s=n,o=1;o<arguments.length;o+=1)s=s&arguments[o];return s>>>0},t.xor=function(n,i){for(var s=n,o=1;o<arguments.length;o+=1)s=s^arguments[o];return s>>>0},t.not=function(n){return~n>>>0},t.shiftLeft=function(n,i){return n<<i>>>0},t.shiftRight=function(n,i){return n>>>i},t.rotateLeft=function(n,i){return(n<<i>>>0|n>>>32-i)>>>0},t.rotateRight=function(n,i){return(n>>>i|n<<32-i>>>0)>>>0},t.choose=function(n,i,s){return(n&(i^s)^s)>>>0},t.majority=function(n,i,s){return(n&(i|s)|i&s)>>>0},t.addMod32=function(n){for(var i=n,s=1;s<arguments.length;s+=1)i+=arguments[s];return i>>>0},t.log2=function(n){return Math.floor(Math.log(n)/Math.LN2)},t.mult=function(n,i,s){var o=((n&4294901760)>>>0)*i,a=(n&65535)*i,f=t.toUint32(o)+t.toUint32(a)>=e?1:0;s[0]=t.highPart(o)+t.highPart(a)+f>>>0,s[1]=(o>>>0)+(a>>>0)}})(r.exports={})})(Tx);var Jh=Tx.exports,k=Jh;const A6=[1,2,4,8,16,32,64,128,27,54],Ka=k.fromBytesBigEndian(85,85,85,85),Ja=k.fromBytesBigEndian(170,170,170,170),Dc=k.fromBytesBigEndian(51,51,51,51),Lc=k.fromBytesBigEndian(204,204,204,204),E1=k.fromBytesBigEndian(15,15,15,15),F1=k.fromBytesBigEndian(240,240,240,240),v6=k.fromBytesBigEndian(0,0,0,255),E6=k.fromBytesBigEndian(0,0,252,0),F6=k.fromBytesBigEndian(0,0,3,0),_6=k.fromBytesBigEndian(0,240,0,0),N6=k.fromBytesBigEndian(0,15,0,0),B6=k.fromBytesBigEndian(192,0,0,0),C6=k.fromBytesBigEndian(63,0,0,0);function Ol(){return new Uint32Array(8)}function y0(r,t){r[0]=k.xor(r[0],t[0]),r[1]=k.xor(r[1],t[1]),r[2]=k.xor(r[2],t[2]),r[3]=k.xor(r[3],t[3]),r[4]=k.xor(r[4],t[4]),r[5]=k.xor(r[5],t[5]),r[6]=k.xor(r[6],t[6]),r[7]=k.xor(r[7],t[7])}function L0(r){const t=r[7],e=r[6],n=r[5],i=r[4],s=r[3],o=r[2],a=r[1],f=r[0],c=k.xor(i,o),h=k.xor(t,a),d=k.xor(t,i),m=k.xor(t,o),w=k.xor(e,n),F=k.xor(w,f),I=k.xor(F,i),K=k.xor(h,c),D=k.xor(F,t),Z=k.xor(F,a),$=k.xor(Z,m),xt=k.xor(s,K),X=k.xor(xt,o),M=k.xor(xt,e),at=k.xor(X,f),it=k.xor(X,w),ft=k.xor(M,d),Ct=k.xor(f,ft),gt=k.xor(it,ft),Gt=k.xor(it,m),_=k.xor(w,ft),u=k.xor(h,_),x=k.xor(t,_),v=k.and(K,X),C=k.and($,at),S=k.xor(C,v),R=k.and(I,f),G=k.xor(R,v),P=k.and(h,_),p=k.and(Z,F),N=k.xor(p,P),wt=k.and(D,Ct),y=k.xor(wt,P),z=k.and(d,ft),tt=k.and(c,gt),O=k.xor(tt,z),V=k.and(m,it),W=k.xor(V,z),rt=k.xor(S,O),mt=k.xor(G,W),Ye=k.xor(N,O),Bt=k.xor(y,W),Yt=k.xor(rt,M),kr=k.xor(mt,Gt),Re=k.xor(Ye,u),Pe=k.xor(Bt,x),ur=k.xor(Yt,kr),ce=k.and(Yt,Re),pe=k.xor(Pe,ce),Ot=k.and(ur,pe),bt=k.xor(Ot,kr),Dt=k.xor(Re,Pe),_e=k.xor(kr,ce),ge=k.and(_e,Dt),ie=k.xor(ge,Pe),nr=k.xor(Re,ie),ue=k.xor(pe,ie),fe=k.and(Pe,ue),Ve=k.xor(fe,nr),oe=k.xor(pe,fe),se=k.and(bt,oe),He=k.xor(ur,se),qt=k.xor(He,Ve),Xt=k.xor(bt,ie),Xe=k.xor(bt,He),te=k.xor(ie,Ve),ee=k.xor(Xt,qt),ir=k.and(te,X),le=k.and(Ve,at),he=k.and(ie,f),or=k.and(Xe,_),Se=k.and(He,F),Me=k.and(bt,Ct),Hr=k.and(Xt,ft),qe=k.and(ee,gt),Ze=k.and(qt,it),Sn=k.and(te,K),er=k.and(Ve,$),Ne=k.and(ie,I),xn=k.and(Xe,h),g=k.and(He,Z),b=k.and(bt,D),A=k.and(Xt,d),l=k.and(ee,c),E=k.and(qt,m),L=k.xor(A,l),U=k.xor(er,Ne),q=k.xor(Me,g),lt=k.xor(Sn,er),yt=k.xor(he,xn),ht=k.xor(he,Me),ye=k.xor(qe,Ze),vt=k.xor(ir,or),Lt=k.xor(Hr,qe),zt=k.xor(l,E),Jt=k.xor(xn,q),re=k.xor(yt,vt),jt=k.xor(Se,L),Wt=k.xor(or,Lt),$t=k.xor(L,re),Pt=k.xor(b,re),Rt=k.xor(ye,jt),Ft=k.xor(lt,jt),St=k.xor(Se,Wt),kt=k.xor(Pt,Rt),At=k.xor(le,Ft),J=k.xor(Wt,Ft),Y=k.xor(Jt,k.not(Rt)),ut=k.xor(q,k.not($t)),nt=k.xor(St,kt),st=k.xor(vt,At),dt=k.xor(ht,At),Qt=k.xor(U,kt),me=k.xor(St,k.not(st)),Ae=k.xor(zt,k.not(nt));r[7]=J,r[6]=me,r[5]=Ae,r[4]=st,r[3]=dt,r[2]=Qt,r[1]=Y,r[0]=ut}function Ul(r){for(let t=0;t<8;t++){const e=r[t];r[t]=k.or(k.and(e,v6),k.shiftRight(k.and(e,E6),2),k.shiftLeft(k.and(e,F6),6),k.shiftRight(k.and(e,_6),4),k.shiftLeft(k.and(e,N6),4),k.shiftRight(k.and(e,B6),6),k.shiftLeft(k.and(e,C6),2))}}function Rx(r){const t=r[0],e=r[1],n=r[2],i=r[3],s=r[4],o=r[5],a=r[6],f=r[7],c=k.or(k.shiftRight(t,8),k.shiftLeft(t,24)),h=k.or(k.shiftRight(e,8),k.shiftLeft(e,24)),d=k.or(k.shiftRight(n,8),k.shiftLeft(n,24)),m=k.or(k.shiftRight(i,8),k.shiftLeft(i,24)),w=k.or(k.shiftRight(s,8),k.shiftLeft(s,24)),F=k.or(k.shiftRight(o,8),k.shiftLeft(o,24)),I=k.or(k.shiftRight(a,8),k.shiftLeft(a,24)),K=k.or(k.shiftRight(f,8),k.shiftLeft(f,24));r[0]=k.xor(f,K,c,k.rotateRight(k.xor(t,c),16)),r[1]=k.xor(t,c,f,K,h,k.rotateRight(k.xor(e,h),16)),r[2]=k.xor(e,h,d,k.rotateRight(k.xor(n,d),16)),r[3]=k.xor(n,d,f,K,m,k.rotateRight(k.xor(i,m),16)),r[4]=k.xor(i,m,f,K,w,k.rotateRight(k.xor(s,w),16)),r[5]=k.xor(s,w,F,k.rotateRight(k.xor(o,F),16)),r[6]=k.xor(o,F,I,k.rotateRight(k.xor(a,I),16)),r[7]=k.xor(a,I,K,k.rotateRight(k.xor(f,K),16))}function Mx(r,t){const e=new DataView(t.buffer);r[0]=e.getUint32(0+t.byteOffset,!0),r[2]=e.getUint32(4+t.byteOffset,!0),r[4]=e.getUint32(8+t.byteOffset,!0),r[6]=e.getUint32(12+t.byteOffset,!0),r[1]=0,r[3]=0,r[5]=0,r[7]=0,ss(r)}function Ox(r,t,e){const n=new DataView(t.buffer),i=new DataView(e.buffer);r[0]=n.getUint32(0+t.byteOffset,!0),r[2]=n.getUint32(4+t.byteOffset,!0),r[4]=n.getUint32(8+t.byteOffset,!0),r[6]=n.getUint32(12+t.byteOffset,!0),r[1]=i.getUint32(0+e.byteOffset,!0),r[3]=i.getUint32(4+e.byteOffset,!0),r[5]=i.getUint32(8+e.byteOffset,!0),r[7]=i.getUint32(12+e.byteOffset,!0),ss(r)}function Ux(r,t){ss(t);const e=new DataView(r.buffer);e.setUint32(0+r.byteOffset,t[0],!0),e.setUint32(4+r.byteOffset,t[2],!0),e.setUint32(8+r.byteOffset,t[4],!0),e.setUint32(12+r.byteOffset,t[6],!0)}function Dx(r,t,e){ss(e);const n=new DataView(r.buffer),i=new DataView(t.buffer);n.setUint32(0+r.byteOffset,e[0],!0),n.setUint32(4+r.byteOffset,e[2],!0),n.setUint32(8+r.byteOffset,e[4],!0),n.setUint32(12+r.byteOffset,e[6],!0),i.setUint32(0+t.byteOffset,e[1],!0),i.setUint32(4+t.byteOffset,e[3],!0),i.setUint32(8+t.byteOffset,e[5],!0),i.setUint32(12+t.byteOffset,e[7],!0)}function ss(r){for(let t=0;t<8;t+=2){const e=r[t],n=r[t+1];r[t]=k.or(k.and(e,Ka),k.shiftLeft(k.and(n,Ka),1)),r[t+1]=k.or(k.shiftRight(k.and(e,Ja),1),k.and(n,Ja))}for(let t=0;t<8;t+=4){const e=r[t],n=r[t+1],i=r[t+2],s=r[t+3];r[t]=k.or(k.and(e,Dc),k.shiftLeft(k.and(i,Dc),2)),r[t+2]=k.or(k.shiftRight(k.and(e,Lc),2),k.and(i,Lc)),r[t+1]=k.or(k.and(n,Dc),k.shiftLeft(k.and(s,Dc),2)),r[t+3]=k.or(k.shiftRight(k.and(n,Lc),2),k.and(s,Lc))}for(let t=0;t<4;t++){const e=r[t],n=r[t+4];r[t]=k.or(k.and(e,E1),k.shiftLeft(k.and(n,E1),4)),r[t+4]=k.or(k.shiftRight(k.and(e,F1),4),k.and(n,F1))}}function P6(r,t){const e=new DataView(t.buffer);for(let n=0;n<4;n++){const i=e.getUint32(n*4+t.byteOffset,!0);r[n*2]=i,r[n*2+1]=i}ss(r);for(let n=0,i=0;n<4;n=n+1,i=i+2){let s=k.or(k.and(r[i+0],Ka),k.and(r[i+1],Ja)),o=s;s=k.and(s,Ka),r[i]=k.or(s,k.shiftLeft(s,1)),o=k.and(o,Ja),r[i+1]=k.or(o,k.shiftRight(o,1))}}function Lx(r,t,e){const n=(t+1)*4;for(let i=0,s=0;i<n;i=i+1,s=s+2){let o=e[i],a=e[i];o=k.and(o,Ka),r[s]=k.or(o,k.shiftLeft(o,1)),a=k.and(a,Ja),r[s+1]=k.or(a,k.shiftRight(a,1))}}function _1(r){let t=new Uint32Array([r,r,r,r,r,r,r,r]);return ss(t),L0(t),ss(t),t[0]}function Hx(r,t){let e=0;const n=t.byteLength;switch(n){case 16:e=10;break;case 24:e=12;break;case 32:e=14;break;default:throw"aes: invalid key length"}let i=new Uint32Array(120),s=0;const o=n/4,a=(e+1)*4,f=new DataView(t.buffer);for(let c=0;c<o;c++)s=f.getUint32(c*4+t.byteOffset,!0),i[c*2]=s,i[c*2+1]=s;for(let c=o,h=0,d=0;c<a;c++)h==0?(s=k.or(k.shiftLeft(s,24),k.shiftRight(s,8)),s=k.xor(_1(s),k.fromBytesBigEndian(0,0,0,A6[d]))):o>6&&h==4&&(s=_1(s)),s=k.xor(s,i[(c-o)*2]),i[c*2]=s,i[c*2+1]=s,h++,h==o&&(h=0,d++);for(let c=0;c<a;c+=4){let h=i.slice(c*2,c*2+8);ss(h);for(let d=0;d<8;d++)i[c*2+d]=h[d]}for(let c=0,h=0;c<a;c=c+1,h=h+2)r[c]=k.or(k.and(i[h],Ka),k.and(i[h+1],Ja));return e}function N1(r,t,e){y0(e,t);for(let n=1;n<r;n++)L0(e),Ul(e),Rx(e),y0(e,t.slice(n*8,n*8+8));L0(e),Ul(e),y0(e,t.slice(r*8,r*8+8))}class S6{constructor(t){let e=new Uint32Array(60);this.numRounds=Hx(e,t),this.skeyExpanded=new Uint32Array(120),Lx(this.skeyExpanded,this.numRounds,e)}encrypt(t,e){let n=Ol();Mx(n,e),N1(this.numRounds,this.skeyExpanded,n),Ux(t,n)}encrypt2x(t,e,n,i){let s=Ol();Ox(s,n,i),N1(this.numRounds,this.skeyExpanded,s),Dx(t,e,s)}}var k6={ECB:S6,newQ:Ol,load4xU32:Mx,load8xU32:Ox,store4xU32:Ux,store8xU32:Dx,ortho:ss,rkeyOrtho:P6,addRoundKey:y0,subBytes:L0,shiftRows:Ul,mixColumns:Rx,skeyExpand:Lx,keySched:Hx},Je=Jh;const Hc=new Uint32Array([3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986]),Gc=new Uint32Array([2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766]),zc=new Uint32Array([1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126]),Vc=new Uint32Array([1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436]),Qr=Je.fromBytesBigEndian(0,0,0,255);function I6(r,t,e,n,i){const s=new DataView(i.buffer),o=s.getUint32(0+i.byteOffset,!1),a=s.getUint32(4+i.byteOffset,!1),f=s.getUint32(8+i.byteOffset,!1),c=s.getUint32(12+i.byteOffset,!1),h=Je.xor(Hc[Je.and(Je.shiftRight(r,24),Qr)],Gc[Je.and(Je.shiftRight(t,16),Qr)],zc[Je.and(Je.shiftRight(e,8),Qr)],Vc[Je.and(n,Qr)],o),d=Je.xor(Hc[Je.and(Je.shiftRight(t,24),Qr)],Gc[Je.and(Je.shiftRight(e,16),Qr)],zc[Je.and(Je.shiftRight(n,8),Qr)],Vc[Je.and(r,Qr)],a),m=Je.xor(Hc[Je.and(Je.shiftRight(e,24),Qr)],Gc[Je.and(Je.shiftRight(n,16),Qr)],zc[Je.and(Je.shiftRight(r,8),Qr)],Vc[Je.and(t,Qr)],f),w=Je.xor(Hc[Je.and(Je.shiftRight(n,24),Qr)],Gc[Je.and(Je.shiftRight(r,16),Qr)],zc[Je.and(Je.shiftRight(t,8),Qr)],Vc[Je.and(e,Qr)],c);return[h,d,m,w]}var T6={aesencVartime:I6},be=k6,zn=Jh,R6=T6;const Gx=32,Dl=15,go=16,ja=16,Ts=16,_t=16,M6=16,Wo=2,zx=6,$o=0,Vx=4,Qx=1,jh=4;function dn(r,t,e,n){for(let i=0;i<n;i++)r[i]=t[i]^e[i]}const Qc=new Uint8Array([47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114]);function Ll(r){const t=new Uint8Array([r[1],r[6],r[11],r[12],r[5],r[10],r[15],r[0],r[9],r[14],r[3],r[4],r[13],r[2],r[7],r[8]]);r.set(t)}function O6(r){for(let t=0;t<ja;t++){const e=r[t],n=e>>7,i=e>>5&1;r[t]=e<<1|n^i}}function U6(r){for(let t=0;t<ja;t++){const e=r[t],n=e&1,i=e>>6&1;r[t]=e>>1|(n^i)<<7}}function B1(r,t){r[0]^=1,r[1]^=2,r[2]^=4,r[3]^=8,r[4]^=Qc[t],r[5]^=Qc[t],r[6]^=Qc[t],r[7]^=Qc[t]}function D6(r,t){let e=r.subarray(16,32),n=r.subarray(0,16);dn(t[0],e,n,ja),B1(t[0],0);for(let i=1;i<=Ts;i++)O6(e),Ll(e),U6(n),Ll(n),dn(t[i],e,n,ja),B1(t[i],i)}function Ef(r,t,e){let n=new Uint8Array(e);dn(r[0],t[0],n,ja);for(let i=1;i<=Ts;i++)Ll(n),dn(r[i],t[i],n,ja)}function ys(){let r=[];for(let t=0;t<=Ts;t++)r.push(new Uint8Array(16));return r}class L6{static bcEncrypt(t,e,n,i){let s=ys();Ef(s,e,n);let o=be.newQ(),a=be.newQ();be.load4xU32(o,i),be.load4xU32(a,s[0]),be.addRoundKey(o,a);for(let f=1;f<=Ts;f++)be.subBytes(o),be.shiftRows(o),be.mixColumns(o),be.load4xU32(a,s[f]),be.addRoundKey(o,a);be.store4xU32(t,o)}static bcKeystreamx2(t,e,n,i){let s=[ys(),ys()];for(let f=0;f<2;f++)Ef(s[f],e,n[f]);let o=be.newQ(),a=be.newQ();be.rkeyOrtho(o,i),be.load8xU32(a,s[0][0],s[1][0]),be.addRoundKey(o,a);for(let f=1;f<=Ts;f++)be.subBytes(o),be.shiftRows(o),be.mixColumns(o),be.load8xU32(a,s[0][f],s[1][f]),be.addRoundKey(o,a);be.store8xU32(t.subarray(0,16),t.subarray(16,32),o)}static bcTagx1(t,e,n,i){let s=ys();Ef(s,e,n);let o=be.newQ(),a=be.newQ();be.load4xU32(o,i),be.load4xU32(a,s[0]),be.addRoundKey(o,a);for(let w=1;w<=Ts;w++)be.subBytes(o),be.shiftRows(o),be.mixColumns(o),be.load4xU32(a,s[w]),be.addRoundKey(o,a);const f=new DataView(t.buffer);let c=f.getUint32(0,!0),h=f.getUint32(4,!0),d=f.getUint32(8,!0),m=f.getUint32(12,!0);be.ortho(o),c=zn.xor(c,o[0]),h=zn.xor(h,o[2]),d=zn.xor(d,o[4]),m=zn.xor(m,o[6]),f.setUint32(0,c,!0),f.setUint32(4,h,!0),f.setUint32(8,d,!0),f.setUint32(12,m,!0)}static bcTagx2(t,e,n,i){let s=[ys(),ys()];for(let w=0;w<2;w++)Ef(s[w],e,n[w]);let o=be.newQ(),a=be.newQ();be.load8xU32(o,i.subarray(0,16),i.subarray(16,32)),be.load8xU32(a,s[0][0],s[1][0]),be.addRoundKey(o,a);for(let w=1;w<=Ts;w++)be.subBytes(o),be.shiftRows(o),be.mixColumns(o),be.load8xU32(a,s[0][w],s[1][w]),be.addRoundKey(o,a);const f=new DataView(t.buffer);let c=f.getUint32(0,!0),h=f.getUint32(4,!0),d=f.getUint32(8,!0),m=f.getUint32(12,!0);be.ortho(o),c=zn.xor(c,o[0],o[1]),h=zn.xor(h,o[2],o[3]),d=zn.xor(d,o[4],o[5]),m=zn.xor(m,o[6],o[7]),f.setUint32(0,c,!0),f.setUint32(4,h,!0),f.setUint32(8,d,!0),f.setUint32(12,m,!0)}}class H6{static bcEncrypt(t,e,n,i){let s=ys();Ef(s,e,n);const o=new DataView(i.buffer);let a=o.getUint32(0+i.byteOffset,!1),f=o.getUint32(4+i.byteOffset,!1),c=o.getUint32(8+i.byteOffset,!1),h=o.getUint32(12+i.byteOffset,!1);const d=new DataView(s[0].buffer);a=zn.xor(a,d.getUint32(0+s[0].byteOffset,!1)),f=zn.xor(f,d.getUint32(4+s[0].byteOffset,!1)),c=zn.xor(c,d.getUint32(8+s[0].byteOffset,!1)),h=zn.xor(h,d.getUint32(12+s[0].byteOffset,!1));for(let w=1;w<=Ts;w++)[a,f,c,h]=R6.aesencVartime(a,f,c,h,s[w]);const m=new DataView(t.buffer);m.setUint32(0+t.byteOffset,a,!1),m.setUint32(4+t.byteOffset,f,!1),m.setUint32(8+t.byteOffset,c,!1),m.setUint32(12+t.byteOffset,h,!1)}static bcKeystreamx2(t,e,n,i){this.bcEncrypt(t.subarray(0,16),e,n[0],i),this.bcEncrypt(t.subarray(16,32),e,n[1],i)}static bcTagx1(t,e,n,i){let s=new Uint8Array(_t);this.bcEncrypt(s,e,n,i),dn(t,t,s,_t)}static bcTagx2(t,e,n,i){let s=new Uint8Array(2*_t);this.bcEncrypt(s.subarray(0,16),e,n[0],i.subarray(0,16)),this.bcEncrypt(s.subarray(16,32),e,n[1],i.subarray(16,32)),dn(t,t,s.subarray(0,16),_t),dn(t,t,s.subarray(16,32),_t)}}function Yr(r,t,e){r.set(new Uint8Array(12)),new DataView(r.buffer).setUint32(12+r.byteOffset,e,!1),r[0]=t<<jh}function Rs(r,t,e){var n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,e,!1),r.set(t),r[0]|=128,dn(r.subarray(12,16),r.subarray(12,16),n,4)}function Hl(){let r=[];for(let t=0;t<2;t++)r.push(new Uint8Array(M6));return r}function G6(r,t,e,n,i,s){let o=Hl(),a=0,f=0,c=i.length,h=new Uint8Array(go);for(a=0;c>=2*_t;a+=2)Yr(o[0],Wo,a),Yr(o[1],Wo,a+1),r.bcTagx2(h,t,o,i.subarray(a*_t,(a+2)*_t)),c-=2*_t;for(;c>=_t;a++)Yr(o[0],Wo,a),r.bcTagx1(h,t,o[0],i.subarray(a*_t,(a+1)*_t)),c-=_t;if(c>0){Yr(o[0],zx,a);let F=new Uint8Array(_t);F.set(i.subarray(i.length-c)),F[c]=128,r.bcTagx1(h,t,o[0],F)}let d=s.length;for(f=0;d>=2*_t;f+=2)Yr(o[0],$o,f),Yr(o[1],$o,f+1),r.bcTagx2(h,t,o,s.subarray(f*_t,(f+2)*_t)),d-=2*_t;for(;d>=_t;f++)Yr(o[0],$o,f),r.bcTagx1(h,t,o[0],s.subarray(f*_t,(f+1)*_t)),d-=_t;if(d>0){Yr(o[0],Vx,f);let F=new Uint8Array(_t);F.set(s.subarray(s.length-d)),F[d]=128,r.bcTagx1(h,t,o[0],F)}let m=new Uint8Array(_t);m.set(e,1),m[0]=Qx<<jh,r.bcEncrypt(h,t,m,h),m[0]=0,d=s.length;let w=new Uint8Array(2*_t);for(f=0;d>=2*_t;f+=2)Rs(o[0],h,f),Rs(o[1],h,f+1),r.bcKeystreamx2(w,t,o,m),dn(n.subarray(f*_t,(f+2)*_t),s.subarray(f*_t,(f+2)*_t),w,2*_t),d-=2*_t;for(;d>=_t;f++)Rs(o[0],h,f),r.bcEncrypt(w,t,o[0],m),dn(n.subarray(f*_t,(f+1)*_t),s.subarray(f*_t,(f+1)*_t),w,_t),d-=_t;d>0&&(Rs(o[0],h,f),r.bcEncrypt(w,t,o[0],m),dn(n.subarray(f*_t,s.length),s.subarray(f*_t),w,d)),n.set(h,s.length)}function z6(r,t,e,n,i,s){let o=s.length-go;const a=s.subarray(0,o),f=s.subarray(o);let c=0,h=Hl(),d=new Uint8Array(_t);d.set(e,1);let m=new Uint8Array(2*_t);for(c=0;o>=2*_t;c+=2)Rs(h[0],f,c),Rs(h[1],f,c+1),r.bcKeystreamx2(m,t,h,d),dn(n.subarray(c*_t,(c+2)*_t),a.subarray(c*_t,(c+2)*_t),m,2*_t),o-=2*_t;for(;o>=_t;c++)Rs(h[0],f,c),r.bcEncrypt(m,t,h[0],d),dn(n.subarray(c*_t,(c+1)*_t),a.subarray(c*_t,(c+1)*_t),m,_t),o-=_t;o>0&&(Rs(h[0],f,c),r.bcEncrypt(m,t,h[0],d),dn(n.subarray(c*_t),a.subarray(c*_t),m,o));let w=0,F=i.length,I=Hl(),K=new Uint8Array(go);for(w=0;F>=2*_t;w+=2)Yr(I[0],Wo,w),Yr(I[1],Wo,w+1),r.bcTagx2(K,t,I,i.subarray(w*_t,(w+2)*_t)),F-=2*_t;for(;F>=_t;w++)Yr(I[0],Wo,w),r.bcTagx1(K,t,I[0],i.subarray(w*_t,(w+1)*_t)),F-=_t;if(F>0){Yr(I[0],zx,w);let $=new Uint8Array(_t);$.set(i.subarray(i.length-F)),$[F]=128,r.bcTagx1(K,t,I[0],$)}let D=n.length;for(c=0;D>=2*_t;c+=2)Yr(I[0],$o,c),Yr(I[1],$o,c+1),r.bcTagx2(K,t,I,n.subarray(c*_t,(c+2)*_t)),D-=2*_t;for(;D>=_t;c++)Yr(I[0],$o,c),r.bcTagx1(K,t,I[0],n.subarray(c*_t,(c+1)*_t)),D-=_t;if(D>0){Yr(I[0],Vx,c);let $=new Uint8Array(_t);$.set(n.subarray(n.length-D)),$[D]=128,r.bcTagx1(K,t,I[0],$)}if(d[0]=Qx<<jh,r.bcEncrypt(K,t,d,K),K.length!=f.length)return!1;let Z=!0;for(w=0;w<K.length;w++)Z&=!(K[w]^f[w]);return Z}class V6{constructor(t,e=!1){if(t.length!=Gx)throw Kx;this.impl=e?H6:L6,this.derivedKs=ys(),D6(t,this.derivedKs)}encrypt(t,e=null,n=null){if(t.length!=Dl)throw Gl;e==null&&(e=il),n==null&&(n=il);let i=new Uint8Array(e.length+go);return G6(this.impl,this.derivedKs,t,i,n,e),i}decrypt(t,e,n=null){if(t.length!=Dl)throw Gl;if(e.length<go)throw zl;n==null&&(n=il);let i=new Uint8Array(e.length-go);if(!z6(this.impl,this.derivedKs,t,i,n,e))throw i.set(new Uint8Array(i.length)),zl;return i}}const il=new Uint8Array(0),Kx="deoxysii: invalid key size",Gl="deoxysii: invalid nonce size",zl="deoxysii: message authentication failure";var Q6={KeySize:Gx,NonceSize:Dl,TagSize:go,ErrNonceSize:Gl,ErrKeySize:Kx,ErrOpen:zl,AEAD:V6};const C1=tf(Q6);var Jx={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */(function(r){(function(){var t="input is invalid type",e="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA512_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Fh:s&&(i=self);var a=!i.JS_SHA512_NO_COMMON_JS&&!0&&r.exports,f=!i.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],d=[24,16,8,0],m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],w=["hex","array","digest","arrayBuffer"],F=[];(i.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(M){return Object.prototype.toString.call(M)==="[object Array]"}),f&&(i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(M){return typeof M=="object"&&M.buffer&&M.buffer.constructor===ArrayBuffer});var I=function(M,at){return function(it){return new $(at,!0).update(it)[M]()}},K=function(M){var at=I("hex",M);at.create=function(){return new $(M)},at.update=function(Ct){return at.create().update(Ct)};for(var it=0;it<w.length;++it){var ft=w[it];at[ft]=I(ft,M)}return at},D=function(M,at){return function(it,ft){return new xt(it,at,!0).update(ft)[M]()}},Z=function(M){var at=D("hex",M);at.create=function(Ct){return new xt(Ct,M)},at.update=function(Ct,gt){return at.create(Ct).update(gt)};for(var it=0;it<w.length;++it){var ft=w[it];at[ft]=D(ft,M)}return at};function $(M,at){at?(F[0]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=F[16]=F[17]=F[18]=F[19]=F[20]=F[21]=F[22]=F[23]=F[24]=F[25]=F[26]=F[27]=F[28]=F[29]=F[30]=F[31]=F[32]=0,this.blocks=F):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):M==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):M==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=M,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}$.prototype.update=function(M){if(this.finalized)throw new Error(e);var at,it=typeof M;if(it!=="string"){if(it==="object"){if(M===null)throw new Error(t);if(f&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!f||!ArrayBuffer.isView(M)))throw new Error(t)}else throw new Error(t);at=!0}for(var ft,Ct=0,gt,Gt=M.length,_=this.blocks;Ct<Gt;){if(this.hashed&&(this.hashed=!1,_[0]=this.block,_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=_[16]=_[17]=_[18]=_[19]=_[20]=_[21]=_[22]=_[23]=_[24]=_[25]=_[26]=_[27]=_[28]=_[29]=_[30]=_[31]=_[32]=0),at)for(gt=this.start;Ct<Gt&&gt<128;++Ct)_[gt>>2]|=M[Ct]<<d[gt++&3];else for(gt=this.start;Ct<Gt&&gt<128;++Ct)ft=M.charCodeAt(Ct),ft<128?_[gt>>2]|=ft<<d[gt++&3]:ft<2048?(_[gt>>2]|=(192|ft>>6)<<d[gt++&3],_[gt>>2]|=(128|ft&63)<<d[gt++&3]):ft<55296||ft>=57344?(_[gt>>2]|=(224|ft>>12)<<d[gt++&3],_[gt>>2]|=(128|ft>>6&63)<<d[gt++&3],_[gt>>2]|=(128|ft&63)<<d[gt++&3]):(ft=65536+((ft&1023)<<10|M.charCodeAt(++Ct)&1023),_[gt>>2]|=(240|ft>>18)<<d[gt++&3],_[gt>>2]|=(128|ft>>12&63)<<d[gt++&3],_[gt>>2]|=(128|ft>>6&63)<<d[gt++&3],_[gt>>2]|=(128|ft&63)<<d[gt++&3]);this.lastByteIndex=gt,this.bytes+=gt-this.start,gt>=128?(this.block=_[32],this.start=gt-128,this.hash(),this.hashed=!0):this.start=gt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var M=this.blocks,at=this.lastByteIndex;M[32]=this.block,M[at>>2]|=h[at&3],this.block=M[32],at>=112&&(this.hashed||this.hash(),M[0]=this.block,M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=M[16]=M[17]=M[18]=M[19]=M[20]=M[21]=M[22]=M[23]=M[24]=M[25]=M[26]=M[27]=M[28]=M[29]=M[30]=M[31]=M[32]=0),M[30]=this.hBytes<<3|this.bytes>>>29,M[31]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var M=this.h0h,at=this.h0l,it=this.h1h,ft=this.h1l,Ct=this.h2h,gt=this.h2l,Gt=this.h3h,_=this.h3l,u=this.h4h,x=this.h4l,v=this.h5h,C=this.h5l,S=this.h6h,R=this.h6l,G=this.h7h,P=this.h7l,p=this.blocks,N,wt,y,z,tt,O,V,W,rt,mt,Ye,Bt,Yt,kr,Re,Pe,ur,ce,pe,Ot,bt,Dt,_e,ge,ie;for(N=32;N<160;N+=2)Ot=p[N-30],bt=p[N-29],wt=(Ot>>>1|bt<<31)^(Ot>>>8|bt<<24)^Ot>>>7,y=(bt>>>1|Ot<<31)^(bt>>>8|Ot<<24)^(bt>>>7|Ot<<25),Ot=p[N-4],bt=p[N-3],z=(Ot>>>19|bt<<13)^(bt>>>29|Ot<<3)^Ot>>>6,tt=(bt>>>19|Ot<<13)^(Ot>>>29|bt<<3)^(bt>>>6|Ot<<26),Ot=p[N-32],bt=p[N-31],Dt=p[N-14],_e=p[N-13],O=(_e&65535)+(bt&65535)+(y&65535)+(tt&65535),V=(_e>>>16)+(bt>>>16)+(y>>>16)+(tt>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(wt&65535)+(z&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(wt>>>16)+(z>>>16)+(W>>>16),p[N]=rt<<16|W&65535,p[N+1]=V<<16|O&65535;var nr=M,ue=at,fe=it,Ve=ft,oe=Ct,se=gt,He=Gt,qt=_,Xt=u,Xe=x,te=v,ee=C,ir=S,le=R,he=G,or=P;for(Pe=fe&oe,ur=Ve&se,N=0;N<160;N+=8)wt=(nr>>>28|ue<<4)^(ue>>>2|nr<<30)^(ue>>>7|nr<<25),y=(ue>>>28|nr<<4)^(nr>>>2|ue<<30)^(nr>>>7|ue<<25),z=(Xt>>>14|Xe<<18)^(Xt>>>18|Xe<<14)^(Xe>>>9|Xt<<23),tt=(Xe>>>14|Xt<<18)^(Xe>>>18|Xt<<14)^(Xt>>>9|Xe<<23),mt=nr&fe,Ye=ue&Ve,ce=mt^nr&oe^Pe,pe=Ye^ue&se^ur,ge=Xt&te^~Xt&ir,ie=Xe&ee^~Xe&le,Ot=p[N],bt=p[N+1],Dt=m[N],_e=m[N+1],O=(_e&65535)+(bt&65535)+(ie&65535)+(tt&65535)+(or&65535),V=(_e>>>16)+(bt>>>16)+(ie>>>16)+(tt>>>16)+(or>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(ge&65535)+(z&65535)+(he&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(ge>>>16)+(z>>>16)+(he>>>16)+(W>>>16),Ot=rt<<16|W&65535,bt=V<<16|O&65535,O=(pe&65535)+(y&65535),V=(pe>>>16)+(y>>>16)+(O>>>16),W=(ce&65535)+(wt&65535)+(V>>>16),rt=(ce>>>16)+(wt>>>16)+(W>>>16),Dt=rt<<16|W&65535,_e=V<<16|O&65535,O=(qt&65535)+(bt&65535),V=(qt>>>16)+(bt>>>16)+(O>>>16),W=(He&65535)+(Ot&65535)+(V>>>16),rt=(He>>>16)+(Ot>>>16)+(W>>>16),he=rt<<16|W&65535,or=V<<16|O&65535,O=(_e&65535)+(bt&65535),V=(_e>>>16)+(bt>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(W>>>16),He=rt<<16|W&65535,qt=V<<16|O&65535,wt=(He>>>28|qt<<4)^(qt>>>2|He<<30)^(qt>>>7|He<<25),y=(qt>>>28|He<<4)^(He>>>2|qt<<30)^(He>>>7|qt<<25),z=(he>>>14|or<<18)^(he>>>18|or<<14)^(or>>>9|he<<23),tt=(or>>>14|he<<18)^(or>>>18|he<<14)^(he>>>9|or<<23),Bt=He&nr,Yt=qt&ue,ce=Bt^He&fe^mt,pe=Yt^qt&Ve^Ye,ge=he&Xt^~he&te,ie=or&Xe^~or&ee,Ot=p[N+2],bt=p[N+3],Dt=m[N+2],_e=m[N+3],O=(_e&65535)+(bt&65535)+(ie&65535)+(tt&65535)+(le&65535),V=(_e>>>16)+(bt>>>16)+(ie>>>16)+(tt>>>16)+(le>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(ge&65535)+(z&65535)+(ir&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(ge>>>16)+(z>>>16)+(ir>>>16)+(W>>>16),Ot=rt<<16|W&65535,bt=V<<16|O&65535,O=(pe&65535)+(y&65535),V=(pe>>>16)+(y>>>16)+(O>>>16),W=(ce&65535)+(wt&65535)+(V>>>16),rt=(ce>>>16)+(wt>>>16)+(W>>>16),Dt=rt<<16|W&65535,_e=V<<16|O&65535,O=(se&65535)+(bt&65535),V=(se>>>16)+(bt>>>16)+(O>>>16),W=(oe&65535)+(Ot&65535)+(V>>>16),rt=(oe>>>16)+(Ot>>>16)+(W>>>16),ir=rt<<16|W&65535,le=V<<16|O&65535,O=(_e&65535)+(bt&65535),V=(_e>>>16)+(bt>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(W>>>16),oe=rt<<16|W&65535,se=V<<16|O&65535,wt=(oe>>>28|se<<4)^(se>>>2|oe<<30)^(se>>>7|oe<<25),y=(se>>>28|oe<<4)^(oe>>>2|se<<30)^(oe>>>7|se<<25),z=(ir>>>14|le<<18)^(ir>>>18|le<<14)^(le>>>9|ir<<23),tt=(le>>>14|ir<<18)^(le>>>18|ir<<14)^(ir>>>9|le<<23),kr=oe&He,Re=se&qt,ce=kr^oe&nr^Bt,pe=Re^se&ue^Yt,ge=ir&he^~ir&Xt,ie=le&or^~le&Xe,Ot=p[N+4],bt=p[N+5],Dt=m[N+4],_e=m[N+5],O=(_e&65535)+(bt&65535)+(ie&65535)+(tt&65535)+(ee&65535),V=(_e>>>16)+(bt>>>16)+(ie>>>16)+(tt>>>16)+(ee>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(ge&65535)+(z&65535)+(te&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(ge>>>16)+(z>>>16)+(te>>>16)+(W>>>16),Ot=rt<<16|W&65535,bt=V<<16|O&65535,O=(pe&65535)+(y&65535),V=(pe>>>16)+(y>>>16)+(O>>>16),W=(ce&65535)+(wt&65535)+(V>>>16),rt=(ce>>>16)+(wt>>>16)+(W>>>16),Dt=rt<<16|W&65535,_e=V<<16|O&65535,O=(Ve&65535)+(bt&65535),V=(Ve>>>16)+(bt>>>16)+(O>>>16),W=(fe&65535)+(Ot&65535)+(V>>>16),rt=(fe>>>16)+(Ot>>>16)+(W>>>16),te=rt<<16|W&65535,ee=V<<16|O&65535,O=(_e&65535)+(bt&65535),V=(_e>>>16)+(bt>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(W>>>16),fe=rt<<16|W&65535,Ve=V<<16|O&65535,wt=(fe>>>28|Ve<<4)^(Ve>>>2|fe<<30)^(Ve>>>7|fe<<25),y=(Ve>>>28|fe<<4)^(fe>>>2|Ve<<30)^(fe>>>7|Ve<<25),z=(te>>>14|ee<<18)^(te>>>18|ee<<14)^(ee>>>9|te<<23),tt=(ee>>>14|te<<18)^(ee>>>18|te<<14)^(te>>>9|ee<<23),Pe=fe&oe,ur=Ve&se,ce=Pe^fe&He^kr,pe=ur^Ve&qt^Re,ge=te&ir^~te&he,ie=ee&le^~ee&or,Ot=p[N+6],bt=p[N+7],Dt=m[N+6],_e=m[N+7],O=(_e&65535)+(bt&65535)+(ie&65535)+(tt&65535)+(Xe&65535),V=(_e>>>16)+(bt>>>16)+(ie>>>16)+(tt>>>16)+(Xe>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(ge&65535)+(z&65535)+(Xt&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(ge>>>16)+(z>>>16)+(Xt>>>16)+(W>>>16),Ot=rt<<16|W&65535,bt=V<<16|O&65535,O=(pe&65535)+(y&65535),V=(pe>>>16)+(y>>>16)+(O>>>16),W=(ce&65535)+(wt&65535)+(V>>>16),rt=(ce>>>16)+(wt>>>16)+(W>>>16),Dt=rt<<16|W&65535,_e=V<<16|O&65535,O=(ue&65535)+(bt&65535),V=(ue>>>16)+(bt>>>16)+(O>>>16),W=(nr&65535)+(Ot&65535)+(V>>>16),rt=(nr>>>16)+(Ot>>>16)+(W>>>16),Xt=rt<<16|W&65535,Xe=V<<16|O&65535,O=(_e&65535)+(bt&65535),V=(_e>>>16)+(bt>>>16)+(O>>>16),W=(Dt&65535)+(Ot&65535)+(V>>>16),rt=(Dt>>>16)+(Ot>>>16)+(W>>>16),nr=rt<<16|W&65535,ue=V<<16|O&65535;O=(at&65535)+(ue&65535),V=(at>>>16)+(ue>>>16)+(O>>>16),W=(M&65535)+(nr&65535)+(V>>>16),rt=(M>>>16)+(nr>>>16)+(W>>>16),this.h0h=rt<<16|W&65535,this.h0l=V<<16|O&65535,O=(ft&65535)+(Ve&65535),V=(ft>>>16)+(Ve>>>16)+(O>>>16),W=(it&65535)+(fe&65535)+(V>>>16),rt=(it>>>16)+(fe>>>16)+(W>>>16),this.h1h=rt<<16|W&65535,this.h1l=V<<16|O&65535,O=(gt&65535)+(se&65535),V=(gt>>>16)+(se>>>16)+(O>>>16),W=(Ct&65535)+(oe&65535)+(V>>>16),rt=(Ct>>>16)+(oe>>>16)+(W>>>16),this.h2h=rt<<16|W&65535,this.h2l=V<<16|O&65535,O=(_&65535)+(qt&65535),V=(_>>>16)+(qt>>>16)+(O>>>16),W=(Gt&65535)+(He&65535)+(V>>>16),rt=(Gt>>>16)+(He>>>16)+(W>>>16),this.h3h=rt<<16|W&65535,this.h3l=V<<16|O&65535,O=(x&65535)+(Xe&65535),V=(x>>>16)+(Xe>>>16)+(O>>>16),W=(u&65535)+(Xt&65535)+(V>>>16),rt=(u>>>16)+(Xt>>>16)+(W>>>16),this.h4h=rt<<16|W&65535,this.h4l=V<<16|O&65535,O=(C&65535)+(ee&65535),V=(C>>>16)+(ee>>>16)+(O>>>16),W=(v&65535)+(te&65535)+(V>>>16),rt=(v>>>16)+(te>>>16)+(W>>>16),this.h5h=rt<<16|W&65535,this.h5l=V<<16|O&65535,O=(R&65535)+(le&65535),V=(R>>>16)+(le>>>16)+(O>>>16),W=(S&65535)+(ir&65535)+(V>>>16),rt=(S>>>16)+(ir>>>16)+(W>>>16),this.h6h=rt<<16|W&65535,this.h6l=V<<16|O&65535,O=(P&65535)+(or&65535),V=(P>>>16)+(or>>>16)+(O>>>16),W=(G&65535)+(he&65535)+(V>>>16),rt=(G>>>16)+(he>>>16)+(W>>>16),this.h7h=rt<<16|W&65535,this.h7l=V<<16|O&65535},$.prototype.hex=function(){this.finalize();var M=this.h0h,at=this.h0l,it=this.h1h,ft=this.h1l,Ct=this.h2h,gt=this.h2l,Gt=this.h3h,_=this.h3l,u=this.h4h,x=this.h4l,v=this.h5h,C=this.h5l,S=this.h6h,R=this.h6l,G=this.h7h,P=this.h7l,p=this.bits,N=c[M>>28&15]+c[M>>24&15]+c[M>>20&15]+c[M>>16&15]+c[M>>12&15]+c[M>>8&15]+c[M>>4&15]+c[M&15]+c[at>>28&15]+c[at>>24&15]+c[at>>20&15]+c[at>>16&15]+c[at>>12&15]+c[at>>8&15]+c[at>>4&15]+c[at&15]+c[it>>28&15]+c[it>>24&15]+c[it>>20&15]+c[it>>16&15]+c[it>>12&15]+c[it>>8&15]+c[it>>4&15]+c[it&15]+c[ft>>28&15]+c[ft>>24&15]+c[ft>>20&15]+c[ft>>16&15]+c[ft>>12&15]+c[ft>>8&15]+c[ft>>4&15]+c[ft&15]+c[Ct>>28&15]+c[Ct>>24&15]+c[Ct>>20&15]+c[Ct>>16&15]+c[Ct>>12&15]+c[Ct>>8&15]+c[Ct>>4&15]+c[Ct&15]+c[gt>>28&15]+c[gt>>24&15]+c[gt>>20&15]+c[gt>>16&15]+c[gt>>12&15]+c[gt>>8&15]+c[gt>>4&15]+c[gt&15]+c[Gt>>28&15]+c[Gt>>24&15]+c[Gt>>20&15]+c[Gt>>16&15]+c[Gt>>12&15]+c[Gt>>8&15]+c[Gt>>4&15]+c[Gt&15];return p>=256&&(N+=c[_>>28&15]+c[_>>24&15]+c[_>>20&15]+c[_>>16&15]+c[_>>12&15]+c[_>>8&15]+c[_>>4&15]+c[_&15]),p>=384&&(N+=c[u>>28&15]+c[u>>24&15]+c[u>>20&15]+c[u>>16&15]+c[u>>12&15]+c[u>>8&15]+c[u>>4&15]+c[u&15]+c[x>>28&15]+c[x>>24&15]+c[x>>20&15]+c[x>>16&15]+c[x>>12&15]+c[x>>8&15]+c[x>>4&15]+c[x&15]+c[v>>28&15]+c[v>>24&15]+c[v>>20&15]+c[v>>16&15]+c[v>>12&15]+c[v>>8&15]+c[v>>4&15]+c[v&15]+c[C>>28&15]+c[C>>24&15]+c[C>>20&15]+c[C>>16&15]+c[C>>12&15]+c[C>>8&15]+c[C>>4&15]+c[C&15]),p==512&&(N+=c[S>>28&15]+c[S>>24&15]+c[S>>20&15]+c[S>>16&15]+c[S>>12&15]+c[S>>8&15]+c[S>>4&15]+c[S&15]+c[R>>28&15]+c[R>>24&15]+c[R>>20&15]+c[R>>16&15]+c[R>>12&15]+c[R>>8&15]+c[R>>4&15]+c[R&15]+c[G>>28&15]+c[G>>24&15]+c[G>>20&15]+c[G>>16&15]+c[G>>12&15]+c[G>>8&15]+c[G>>4&15]+c[G&15]+c[P>>28&15]+c[P>>24&15]+c[P>>20&15]+c[P>>16&15]+c[P>>12&15]+c[P>>8&15]+c[P>>4&15]+c[P&15]),N},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var M=this.h0h,at=this.h0l,it=this.h1h,ft=this.h1l,Ct=this.h2h,gt=this.h2l,Gt=this.h3h,_=this.h3l,u=this.h4h,x=this.h4l,v=this.h5h,C=this.h5l,S=this.h6h,R=this.h6l,G=this.h7h,P=this.h7l,p=this.bits,N=[M>>24&255,M>>16&255,M>>8&255,M&255,at>>24&255,at>>16&255,at>>8&255,at&255,it>>24&255,it>>16&255,it>>8&255,it&255,ft>>24&255,ft>>16&255,ft>>8&255,ft&255,Ct>>24&255,Ct>>16&255,Ct>>8&255,Ct&255,gt>>24&255,gt>>16&255,gt>>8&255,gt&255,Gt>>24&255,Gt>>16&255,Gt>>8&255,Gt&255];return p>=256&&N.push(_>>24&255,_>>16&255,_>>8&255,_&255),p>=384&&N.push(u>>24&255,u>>16&255,u>>8&255,u&255,x>>24&255,x>>16&255,x>>8&255,x&255,v>>24&255,v>>16&255,v>>8&255,v&255,C>>24&255,C>>16&255,C>>8&255,C&255),p==512&&N.push(S>>24&255,S>>16&255,S>>8&255,S&255,R>>24&255,R>>16&255,R>>8&255,R&255,G>>24&255,G>>16&255,G>>8&255,G&255,P>>24&255,P>>16&255,P>>8&255,P&255),N},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var M=this.bits,at=new ArrayBuffer(M/8),it=new DataView(at);return it.setUint32(0,this.h0h),it.setUint32(4,this.h0l),it.setUint32(8,this.h1h),it.setUint32(12,this.h1l),it.setUint32(16,this.h2h),it.setUint32(20,this.h2l),it.setUint32(24,this.h3h),M>=256&&it.setUint32(28,this.h3l),M>=384&&(it.setUint32(32,this.h4h),it.setUint32(36,this.h4l),it.setUint32(40,this.h5h),it.setUint32(44,this.h5l)),M==512&&(it.setUint32(48,this.h6h),it.setUint32(52,this.h6l),it.setUint32(56,this.h7h),it.setUint32(60,this.h7l)),at},$.prototype.clone=function(){var M=new $(this.bits,!1);return this.copyTo(M),M},$.prototype.copyTo=function(M){var at=0,it=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(at=0;at<it.length;++at)M[it[at]]=this[it[at]];for(at=0;at<this.blocks.length;++at)M.blocks[at]=this.blocks[at]};function xt(M,at,it){var ft,Ct=typeof M;if(Ct!=="string"){if(Ct==="object"){if(M===null)throw new Error(t);if(f&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!f||!ArrayBuffer.isView(M)))throw new Error(t)}else throw new Error(t);ft=!0}var gt=M.length;if(!ft){for(var Gt=[],gt=M.length,_=0,u,x=0;x<gt;++x)u=M.charCodeAt(x),u<128?Gt[_++]=u:u<2048?(Gt[_++]=192|u>>6,Gt[_++]=128|u&63):u<55296||u>=57344?(Gt[_++]=224|u>>12,Gt[_++]=128|u>>6&63,Gt[_++]=128|u&63):(u=65536+((u&1023)<<10|M.charCodeAt(++x)&1023),Gt[_++]=240|u>>18,Gt[_++]=128|u>>12&63,Gt[_++]=128|u>>6&63,Gt[_++]=128|u&63);M=Gt}M.length>128&&(M=new $(at,!0).update(M).array());for(var v=[],C=[],x=0;x<128;++x){var S=M[x]||0;v[x]=92^S,C[x]=54^S}$.call(this,at,it),this.update(C),this.oKeyPad=v,this.inner=!0,this.sharedMemory=it}xt.prototype=new $,xt.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var M=this.array();$.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(M),$.prototype.finalize.call(this)}},xt.prototype.clone=function(){var M=new xt([],this.bits,!1);this.copyTo(M),M.inner=this.inner;for(var at=0;at<this.oKeyPad.length;++at)M.oKeyPad[at]=this.oKeyPad[at];return M};var X=K(512);X.sha512=X,X.sha384=K(384),X.sha512_256=K(256),X.sha512_224=K(224),X.sha512.hmac=Z(512),X.sha384.hmac=Z(384),X.sha512_256.hmac=Z(256),X.sha512_224.hmac=Z(224),a?r.exports=X:(i.sha512=X.sha512,i.sha384=X.sha384,i.sha512_256=X.sha512_256,i.sha512_224=X.sha512_224)})()})(Jx);var K6=Jx.exports;function J6(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jx={exports:{}};(function(r){(function(t){var e=function(g){var b,A=new Float64Array(16);if(g)for(b=0;b<g.length;b++)A[b]=g[b];return A},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=e(),a=e([1]),f=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function F(g,b,A,l){g[b]=A>>24&255,g[b+1]=A>>16&255,g[b+2]=A>>8&255,g[b+3]=A&255,g[b+4]=l>>24&255,g[b+5]=l>>16&255,g[b+6]=l>>8&255,g[b+7]=l&255}function I(g,b,A,l,E){var L,U=0;for(L=0;L<E;L++)U|=g[b+L]^A[l+L];return(1&U-1>>>8)-1}function K(g,b,A,l){return I(g,b,A,l,16)}function D(g,b,A,l){return I(g,b,A,l,32)}function Z(g,b,A,l){for(var E=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,L=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,U=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,q=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,lt=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,yt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,ht=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,ye=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,vt=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,Lt=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,zt=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Jt=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,re=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,jt=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,Wt=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,$t=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,Pt=E,Rt=L,Ft=U,St=q,kt=lt,At=yt,J=ht,Y=ye,ut=vt,nt=Lt,st=zt,dt=Jt,Qt=re,me=jt,Ae=Wt,Ee=$t,T,Ce=0;Ce<20;Ce+=2)T=Pt+Qt|0,kt^=T<<7|T>>>32-7,T=kt+Pt|0,ut^=T<<9|T>>>32-9,T=ut+kt|0,Qt^=T<<13|T>>>32-13,T=Qt+ut|0,Pt^=T<<18|T>>>32-18,T=At+Rt|0,nt^=T<<7|T>>>32-7,T=nt+At|0,me^=T<<9|T>>>32-9,T=me+nt|0,Rt^=T<<13|T>>>32-13,T=Rt+me|0,At^=T<<18|T>>>32-18,T=st+J|0,Ae^=T<<7|T>>>32-7,T=Ae+st|0,Ft^=T<<9|T>>>32-9,T=Ft+Ae|0,J^=T<<13|T>>>32-13,T=J+Ft|0,st^=T<<18|T>>>32-18,T=Ee+dt|0,St^=T<<7|T>>>32-7,T=St+Ee|0,Y^=T<<9|T>>>32-9,T=Y+St|0,dt^=T<<13|T>>>32-13,T=dt+Y|0,Ee^=T<<18|T>>>32-18,T=Pt+St|0,Rt^=T<<7|T>>>32-7,T=Rt+Pt|0,Ft^=T<<9|T>>>32-9,T=Ft+Rt|0,St^=T<<13|T>>>32-13,T=St+Ft|0,Pt^=T<<18|T>>>32-18,T=At+kt|0,J^=T<<7|T>>>32-7,T=J+At|0,Y^=T<<9|T>>>32-9,T=Y+J|0,kt^=T<<13|T>>>32-13,T=kt+Y|0,At^=T<<18|T>>>32-18,T=st+nt|0,dt^=T<<7|T>>>32-7,T=dt+st|0,ut^=T<<9|T>>>32-9,T=ut+dt|0,nt^=T<<13|T>>>32-13,T=nt+ut|0,st^=T<<18|T>>>32-18,T=Ee+Ae|0,Qt^=T<<7|T>>>32-7,T=Qt+Ee|0,me^=T<<9|T>>>32-9,T=me+Qt|0,Ae^=T<<13|T>>>32-13,T=Ae+me|0,Ee^=T<<18|T>>>32-18;Pt=Pt+E|0,Rt=Rt+L|0,Ft=Ft+U|0,St=St+q|0,kt=kt+lt|0,At=At+yt|0,J=J+ht|0,Y=Y+ye|0,ut=ut+vt|0,nt=nt+Lt|0,st=st+zt|0,dt=dt+Jt|0,Qt=Qt+re|0,me=me+jt|0,Ae=Ae+Wt|0,Ee=Ee+$t|0,g[0]=Pt>>>0&255,g[1]=Pt>>>8&255,g[2]=Pt>>>16&255,g[3]=Pt>>>24&255,g[4]=Rt>>>0&255,g[5]=Rt>>>8&255,g[6]=Rt>>>16&255,g[7]=Rt>>>24&255,g[8]=Ft>>>0&255,g[9]=Ft>>>8&255,g[10]=Ft>>>16&255,g[11]=Ft>>>24&255,g[12]=St>>>0&255,g[13]=St>>>8&255,g[14]=St>>>16&255,g[15]=St>>>24&255,g[16]=kt>>>0&255,g[17]=kt>>>8&255,g[18]=kt>>>16&255,g[19]=kt>>>24&255,g[20]=At>>>0&255,g[21]=At>>>8&255,g[22]=At>>>16&255,g[23]=At>>>24&255,g[24]=J>>>0&255,g[25]=J>>>8&255,g[26]=J>>>16&255,g[27]=J>>>24&255,g[28]=Y>>>0&255,g[29]=Y>>>8&255,g[30]=Y>>>16&255,g[31]=Y>>>24&255,g[32]=ut>>>0&255,g[33]=ut>>>8&255,g[34]=ut>>>16&255,g[35]=ut>>>24&255,g[36]=nt>>>0&255,g[37]=nt>>>8&255,g[38]=nt>>>16&255,g[39]=nt>>>24&255,g[40]=st>>>0&255,g[41]=st>>>8&255,g[42]=st>>>16&255,g[43]=st>>>24&255,g[44]=dt>>>0&255,g[45]=dt>>>8&255,g[46]=dt>>>16&255,g[47]=dt>>>24&255,g[48]=Qt>>>0&255,g[49]=Qt>>>8&255,g[50]=Qt>>>16&255,g[51]=Qt>>>24&255,g[52]=me>>>0&255,g[53]=me>>>8&255,g[54]=me>>>16&255,g[55]=me>>>24&255,g[56]=Ae>>>0&255,g[57]=Ae>>>8&255,g[58]=Ae>>>16&255,g[59]=Ae>>>24&255,g[60]=Ee>>>0&255,g[61]=Ee>>>8&255,g[62]=Ee>>>16&255,g[63]=Ee>>>24&255}function $(g,b,A,l){for(var E=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,L=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,U=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,q=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,lt=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,yt=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,ht=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,ye=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,vt=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,Lt=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,zt=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,Jt=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,re=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,jt=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,Wt=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,$t=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,Pt=E,Rt=L,Ft=U,St=q,kt=lt,At=yt,J=ht,Y=ye,ut=vt,nt=Lt,st=zt,dt=Jt,Qt=re,me=jt,Ae=Wt,Ee=$t,T,Ce=0;Ce<20;Ce+=2)T=Pt+Qt|0,kt^=T<<7|T>>>32-7,T=kt+Pt|0,ut^=T<<9|T>>>32-9,T=ut+kt|0,Qt^=T<<13|T>>>32-13,T=Qt+ut|0,Pt^=T<<18|T>>>32-18,T=At+Rt|0,nt^=T<<7|T>>>32-7,T=nt+At|0,me^=T<<9|T>>>32-9,T=me+nt|0,Rt^=T<<13|T>>>32-13,T=Rt+me|0,At^=T<<18|T>>>32-18,T=st+J|0,Ae^=T<<7|T>>>32-7,T=Ae+st|0,Ft^=T<<9|T>>>32-9,T=Ft+Ae|0,J^=T<<13|T>>>32-13,T=J+Ft|0,st^=T<<18|T>>>32-18,T=Ee+dt|0,St^=T<<7|T>>>32-7,T=St+Ee|0,Y^=T<<9|T>>>32-9,T=Y+St|0,dt^=T<<13|T>>>32-13,T=dt+Y|0,Ee^=T<<18|T>>>32-18,T=Pt+St|0,Rt^=T<<7|T>>>32-7,T=Rt+Pt|0,Ft^=T<<9|T>>>32-9,T=Ft+Rt|0,St^=T<<13|T>>>32-13,T=St+Ft|0,Pt^=T<<18|T>>>32-18,T=At+kt|0,J^=T<<7|T>>>32-7,T=J+At|0,Y^=T<<9|T>>>32-9,T=Y+J|0,kt^=T<<13|T>>>32-13,T=kt+Y|0,At^=T<<18|T>>>32-18,T=st+nt|0,dt^=T<<7|T>>>32-7,T=dt+st|0,ut^=T<<9|T>>>32-9,T=ut+dt|0,nt^=T<<13|T>>>32-13,T=nt+ut|0,st^=T<<18|T>>>32-18,T=Ee+Ae|0,Qt^=T<<7|T>>>32-7,T=Qt+Ee|0,me^=T<<9|T>>>32-9,T=me+Qt|0,Ae^=T<<13|T>>>32-13,T=Ae+me|0,Ee^=T<<18|T>>>32-18;g[0]=Pt>>>0&255,g[1]=Pt>>>8&255,g[2]=Pt>>>16&255,g[3]=Pt>>>24&255,g[4]=At>>>0&255,g[5]=At>>>8&255,g[6]=At>>>16&255,g[7]=At>>>24&255,g[8]=st>>>0&255,g[9]=st>>>8&255,g[10]=st>>>16&255,g[11]=st>>>24&255,g[12]=Ee>>>0&255,g[13]=Ee>>>8&255,g[14]=Ee>>>16&255,g[15]=Ee>>>24&255,g[16]=J>>>0&255,g[17]=J>>>8&255,g[18]=J>>>16&255,g[19]=J>>>24&255,g[20]=Y>>>0&255,g[21]=Y>>>8&255,g[22]=Y>>>16&255,g[23]=Y>>>24&255,g[24]=ut>>>0&255,g[25]=ut>>>8&255,g[26]=ut>>>16&255,g[27]=ut>>>24&255,g[28]=nt>>>0&255,g[29]=nt>>>8&255,g[30]=nt>>>16&255,g[31]=nt>>>24&255}function xt(g,b,A,l){Z(g,b,A,l)}function X(g,b,A,l){$(g,b,A,l)}var M=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function at(g,b,A,l,E,L,U){var q=new Uint8Array(16),lt=new Uint8Array(64),yt,ht;for(ht=0;ht<16;ht++)q[ht]=0;for(ht=0;ht<8;ht++)q[ht]=L[ht];for(;E>=64;){for(xt(lt,q,U,M),ht=0;ht<64;ht++)g[b+ht]=A[l+ht]^lt[ht];for(yt=1,ht=8;ht<16;ht++)yt=yt+(q[ht]&255)|0,q[ht]=yt&255,yt>>>=8;E-=64,b+=64,l+=64}if(E>0)for(xt(lt,q,U,M),ht=0;ht<E;ht++)g[b+ht]=A[l+ht]^lt[ht];return 0}function it(g,b,A,l,E){var L=new Uint8Array(16),U=new Uint8Array(64),q,lt;for(lt=0;lt<16;lt++)L[lt]=0;for(lt=0;lt<8;lt++)L[lt]=l[lt];for(;A>=64;){for(xt(U,L,E,M),lt=0;lt<64;lt++)g[b+lt]=U[lt];for(q=1,lt=8;lt<16;lt++)q=q+(L[lt]&255)|0,L[lt]=q&255,q>>>=8;A-=64,b+=64}if(A>0)for(xt(U,L,E,M),lt=0;lt<A;lt++)g[b+lt]=U[lt];return 0}function ft(g,b,A,l,E){var L=new Uint8Array(32);X(L,l,E,M);for(var U=new Uint8Array(8),q=0;q<8;q++)U[q]=l[q+16];return it(g,b,A,U,L)}function Ct(g,b,A,l,E,L,U){var q=new Uint8Array(32);X(q,L,U,M);for(var lt=new Uint8Array(8),yt=0;yt<8;yt++)lt[yt]=L[yt+16];return at(g,b,A,l,E,lt,q)}var gt=function(g){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var b,A,l,E,L,U,q,lt;b=g[0]&255|(g[1]&255)<<8,this.r[0]=b&8191,A=g[2]&255|(g[3]&255)<<8,this.r[1]=(b>>>13|A<<3)&8191,l=g[4]&255|(g[5]&255)<<8,this.r[2]=(A>>>10|l<<6)&7939,E=g[6]&255|(g[7]&255)<<8,this.r[3]=(l>>>7|E<<9)&8191,L=g[8]&255|(g[9]&255)<<8,this.r[4]=(E>>>4|L<<12)&255,this.r[5]=L>>>1&8190,U=g[10]&255|(g[11]&255)<<8,this.r[6]=(L>>>14|U<<2)&8191,q=g[12]&255|(g[13]&255)<<8,this.r[7]=(U>>>11|q<<5)&8065,lt=g[14]&255|(g[15]&255)<<8,this.r[8]=(q>>>8|lt<<8)&8191,this.r[9]=lt>>>5&127,this.pad[0]=g[16]&255|(g[17]&255)<<8,this.pad[1]=g[18]&255|(g[19]&255)<<8,this.pad[2]=g[20]&255|(g[21]&255)<<8,this.pad[3]=g[22]&255|(g[23]&255)<<8,this.pad[4]=g[24]&255|(g[25]&255)<<8,this.pad[5]=g[26]&255|(g[27]&255)<<8,this.pad[6]=g[28]&255|(g[29]&255)<<8,this.pad[7]=g[30]&255|(g[31]&255)<<8};gt.prototype.blocks=function(g,b,A){for(var l=this.fin?0:2048,E,L,U,q,lt,yt,ht,ye,vt,Lt,zt,Jt,re,jt,Wt,$t,Pt,Rt,Ft,St=this.h[0],kt=this.h[1],At=this.h[2],J=this.h[3],Y=this.h[4],ut=this.h[5],nt=this.h[6],st=this.h[7],dt=this.h[8],Qt=this.h[9],me=this.r[0],Ae=this.r[1],Ee=this.r[2],T=this.r[3],Ce=this.r[4],Qe=this.r[5],Ke=this.r[6],Be=this.r[7],Ge=this.r[8],ze=this.r[9];A>=16;)E=g[b+0]&255|(g[b+1]&255)<<8,St+=E&8191,L=g[b+2]&255|(g[b+3]&255)<<8,kt+=(E>>>13|L<<3)&8191,U=g[b+4]&255|(g[b+5]&255)<<8,At+=(L>>>10|U<<6)&8191,q=g[b+6]&255|(g[b+7]&255)<<8,J+=(U>>>7|q<<9)&8191,lt=g[b+8]&255|(g[b+9]&255)<<8,Y+=(q>>>4|lt<<12)&8191,ut+=lt>>>1&8191,yt=g[b+10]&255|(g[b+11]&255)<<8,nt+=(lt>>>14|yt<<2)&8191,ht=g[b+12]&255|(g[b+13]&255)<<8,st+=(yt>>>11|ht<<5)&8191,ye=g[b+14]&255|(g[b+15]&255)<<8,dt+=(ht>>>8|ye<<8)&8191,Qt+=ye>>>5|l,vt=0,Lt=vt,Lt+=St*me,Lt+=kt*(5*ze),Lt+=At*(5*Ge),Lt+=J*(5*Be),Lt+=Y*(5*Ke),vt=Lt>>>13,Lt&=8191,Lt+=ut*(5*Qe),Lt+=nt*(5*Ce),Lt+=st*(5*T),Lt+=dt*(5*Ee),Lt+=Qt*(5*Ae),vt+=Lt>>>13,Lt&=8191,zt=vt,zt+=St*Ae,zt+=kt*me,zt+=At*(5*ze),zt+=J*(5*Ge),zt+=Y*(5*Be),vt=zt>>>13,zt&=8191,zt+=ut*(5*Ke),zt+=nt*(5*Qe),zt+=st*(5*Ce),zt+=dt*(5*T),zt+=Qt*(5*Ee),vt+=zt>>>13,zt&=8191,Jt=vt,Jt+=St*Ee,Jt+=kt*Ae,Jt+=At*me,Jt+=J*(5*ze),Jt+=Y*(5*Ge),vt=Jt>>>13,Jt&=8191,Jt+=ut*(5*Be),Jt+=nt*(5*Ke),Jt+=st*(5*Qe),Jt+=dt*(5*Ce),Jt+=Qt*(5*T),vt+=Jt>>>13,Jt&=8191,re=vt,re+=St*T,re+=kt*Ee,re+=At*Ae,re+=J*me,re+=Y*(5*ze),vt=re>>>13,re&=8191,re+=ut*(5*Ge),re+=nt*(5*Be),re+=st*(5*Ke),re+=dt*(5*Qe),re+=Qt*(5*Ce),vt+=re>>>13,re&=8191,jt=vt,jt+=St*Ce,jt+=kt*T,jt+=At*Ee,jt+=J*Ae,jt+=Y*me,vt=jt>>>13,jt&=8191,jt+=ut*(5*ze),jt+=nt*(5*Ge),jt+=st*(5*Be),jt+=dt*(5*Ke),jt+=Qt*(5*Qe),vt+=jt>>>13,jt&=8191,Wt=vt,Wt+=St*Qe,Wt+=kt*Ce,Wt+=At*T,Wt+=J*Ee,Wt+=Y*Ae,vt=Wt>>>13,Wt&=8191,Wt+=ut*me,Wt+=nt*(5*ze),Wt+=st*(5*Ge),Wt+=dt*(5*Be),Wt+=Qt*(5*Ke),vt+=Wt>>>13,Wt&=8191,$t=vt,$t+=St*Ke,$t+=kt*Qe,$t+=At*Ce,$t+=J*T,$t+=Y*Ee,vt=$t>>>13,$t&=8191,$t+=ut*Ae,$t+=nt*me,$t+=st*(5*ze),$t+=dt*(5*Ge),$t+=Qt*(5*Be),vt+=$t>>>13,$t&=8191,Pt=vt,Pt+=St*Be,Pt+=kt*Ke,Pt+=At*Qe,Pt+=J*Ce,Pt+=Y*T,vt=Pt>>>13,Pt&=8191,Pt+=ut*Ee,Pt+=nt*Ae,Pt+=st*me,Pt+=dt*(5*ze),Pt+=Qt*(5*Ge),vt+=Pt>>>13,Pt&=8191,Rt=vt,Rt+=St*Ge,Rt+=kt*Be,Rt+=At*Ke,Rt+=J*Qe,Rt+=Y*Ce,vt=Rt>>>13,Rt&=8191,Rt+=ut*T,Rt+=nt*Ee,Rt+=st*Ae,Rt+=dt*me,Rt+=Qt*(5*ze),vt+=Rt>>>13,Rt&=8191,Ft=vt,Ft+=St*ze,Ft+=kt*Ge,Ft+=At*Be,Ft+=J*Ke,Ft+=Y*Qe,vt=Ft>>>13,Ft&=8191,Ft+=ut*Ce,Ft+=nt*T,Ft+=st*Ee,Ft+=dt*Ae,Ft+=Qt*me,vt+=Ft>>>13,Ft&=8191,vt=(vt<<2)+vt|0,vt=vt+Lt|0,Lt=vt&8191,vt=vt>>>13,zt+=vt,St=Lt,kt=zt,At=Jt,J=re,Y=jt,ut=Wt,nt=$t,st=Pt,dt=Rt,Qt=Ft,b+=16,A-=16;this.h[0]=St,this.h[1]=kt,this.h[2]=At,this.h[3]=J,this.h[4]=Y,this.h[5]=ut,this.h[6]=nt,this.h[7]=st,this.h[8]=dt,this.h[9]=Qt},gt.prototype.finish=function(g,b){var A=new Uint16Array(10),l,E,L,U;if(this.leftover){for(U=this.leftover,this.buffer[U++]=1;U<16;U++)this.buffer[U]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(l=this.h[1]>>>13,this.h[1]&=8191,U=2;U<10;U++)this.h[U]+=l,l=this.h[U]>>>13,this.h[U]&=8191;for(this.h[0]+=l*5,l=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=l,l=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=l,A[0]=this.h[0]+5,l=A[0]>>>13,A[0]&=8191,U=1;U<10;U++)A[U]=this.h[U]+l,l=A[U]>>>13,A[U]&=8191;for(A[9]-=8192,E=(l^1)-1,U=0;U<10;U++)A[U]&=E;for(E=~E,U=0;U<10;U++)this.h[U]=this.h[U]&E|A[U];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,L=this.h[0]+this.pad[0],this.h[0]=L&65535,U=1;U<8;U++)L=(this.h[U]+this.pad[U]|0)+(L>>>16)|0,this.h[U]=L&65535;g[b+0]=this.h[0]>>>0&255,g[b+1]=this.h[0]>>>8&255,g[b+2]=this.h[1]>>>0&255,g[b+3]=this.h[1]>>>8&255,g[b+4]=this.h[2]>>>0&255,g[b+5]=this.h[2]>>>8&255,g[b+6]=this.h[3]>>>0&255,g[b+7]=this.h[3]>>>8&255,g[b+8]=this.h[4]>>>0&255,g[b+9]=this.h[4]>>>8&255,g[b+10]=this.h[5]>>>0&255,g[b+11]=this.h[5]>>>8&255,g[b+12]=this.h[6]>>>0&255,g[b+13]=this.h[6]>>>8&255,g[b+14]=this.h[7]>>>0&255,g[b+15]=this.h[7]>>>8&255},gt.prototype.update=function(g,b,A){var l,E;if(this.leftover){for(E=16-this.leftover,E>A&&(E=A),l=0;l<E;l++)this.buffer[this.leftover+l]=g[b+l];if(A-=E,b+=E,this.leftover+=E,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(E=A-A%16,this.blocks(g,b,E),b+=E,A-=E),A){for(l=0;l<A;l++)this.buffer[this.leftover+l]=g[b+l];this.leftover+=A}};function Gt(g,b,A,l,E,L){var U=new gt(L);return U.update(A,l,E),U.finish(g,b),0}function _(g,b,A,l,E,L){var U=new Uint8Array(16);return Gt(U,0,A,l,E,L),K(g,b,U,0)}function u(g,b,A,l,E){var L;if(A<32)return-1;for(Ct(g,0,b,0,A,l,E),Gt(g,16,g,32,A-32,g),L=0;L<16;L++)g[L]=0;return 0}function x(g,b,A,l,E){var L,U=new Uint8Array(32);if(A<32||(ft(U,0,32,l,E),_(b,16,b,32,A-32,U)!==0))return-1;for(Ct(g,0,b,0,A,l,E),L=0;L<32;L++)g[L]=0;return 0}function v(g,b){var A;for(A=0;A<16;A++)g[A]=b[A]|0}function C(g){var b,A,l=1;for(b=0;b<16;b++)A=g[b]+l+65535,l=Math.floor(A/65536),g[b]=A-l*65536;g[0]+=l-1+37*(l-1)}function S(g,b,A){for(var l,E=~(A-1),L=0;L<16;L++)l=E&(g[L]^b[L]),g[L]^=l,b[L]^=l}function R(g,b){var A,l,E,L=e(),U=e();for(A=0;A<16;A++)U[A]=b[A];for(C(U),C(U),C(U),l=0;l<2;l++){for(L[0]=U[0]-65517,A=1;A<15;A++)L[A]=U[A]-65535-(L[A-1]>>16&1),L[A-1]&=65535;L[15]=U[15]-32767-(L[14]>>16&1),E=L[15]>>16&1,L[14]&=65535,S(U,L,1-E)}for(A=0;A<16;A++)g[2*A]=U[A]&255,g[2*A+1]=U[A]>>8}function G(g,b){var A=new Uint8Array(32),l=new Uint8Array(32);return R(A,g),R(l,b),D(A,0,l,0)}function P(g){var b=new Uint8Array(32);return R(b,g),b[0]&1}function p(g,b){var A;for(A=0;A<16;A++)g[A]=b[2*A]+(b[2*A+1]<<8);g[15]&=32767}function N(g,b,A){for(var l=0;l<16;l++)g[l]=b[l]+A[l]}function wt(g,b,A){for(var l=0;l<16;l++)g[l]=b[l]-A[l]}function y(g,b,A){var l,E,L=0,U=0,q=0,lt=0,yt=0,ht=0,ye=0,vt=0,Lt=0,zt=0,Jt=0,re=0,jt=0,Wt=0,$t=0,Pt=0,Rt=0,Ft=0,St=0,kt=0,At=0,J=0,Y=0,ut=0,nt=0,st=0,dt=0,Qt=0,me=0,Ae=0,Ee=0,T=A[0],Ce=A[1],Qe=A[2],Ke=A[3],Be=A[4],Ge=A[5],ze=A[6],Er=A[7],sr=A[8],xr=A[9],yr=A[10],mr=A[11],Br=A[12],Gr=A[13],zr=A[14],Vr=A[15];l=b[0],L+=l*T,U+=l*Ce,q+=l*Qe,lt+=l*Ke,yt+=l*Be,ht+=l*Ge,ye+=l*ze,vt+=l*Er,Lt+=l*sr,zt+=l*xr,Jt+=l*yr,re+=l*mr,jt+=l*Br,Wt+=l*Gr,$t+=l*zr,Pt+=l*Vr,l=b[1],U+=l*T,q+=l*Ce,lt+=l*Qe,yt+=l*Ke,ht+=l*Be,ye+=l*Ge,vt+=l*ze,Lt+=l*Er,zt+=l*sr,Jt+=l*xr,re+=l*yr,jt+=l*mr,Wt+=l*Br,$t+=l*Gr,Pt+=l*zr,Rt+=l*Vr,l=b[2],q+=l*T,lt+=l*Ce,yt+=l*Qe,ht+=l*Ke,ye+=l*Be,vt+=l*Ge,Lt+=l*ze,zt+=l*Er,Jt+=l*sr,re+=l*xr,jt+=l*yr,Wt+=l*mr,$t+=l*Br,Pt+=l*Gr,Rt+=l*zr,Ft+=l*Vr,l=b[3],lt+=l*T,yt+=l*Ce,ht+=l*Qe,ye+=l*Ke,vt+=l*Be,Lt+=l*Ge,zt+=l*ze,Jt+=l*Er,re+=l*sr,jt+=l*xr,Wt+=l*yr,$t+=l*mr,Pt+=l*Br,Rt+=l*Gr,Ft+=l*zr,St+=l*Vr,l=b[4],yt+=l*T,ht+=l*Ce,ye+=l*Qe,vt+=l*Ke,Lt+=l*Be,zt+=l*Ge,Jt+=l*ze,re+=l*Er,jt+=l*sr,Wt+=l*xr,$t+=l*yr,Pt+=l*mr,Rt+=l*Br,Ft+=l*Gr,St+=l*zr,kt+=l*Vr,l=b[5],ht+=l*T,ye+=l*Ce,vt+=l*Qe,Lt+=l*Ke,zt+=l*Be,Jt+=l*Ge,re+=l*ze,jt+=l*Er,Wt+=l*sr,$t+=l*xr,Pt+=l*yr,Rt+=l*mr,Ft+=l*Br,St+=l*Gr,kt+=l*zr,At+=l*Vr,l=b[6],ye+=l*T,vt+=l*Ce,Lt+=l*Qe,zt+=l*Ke,Jt+=l*Be,re+=l*Ge,jt+=l*ze,Wt+=l*Er,$t+=l*sr,Pt+=l*xr,Rt+=l*yr,Ft+=l*mr,St+=l*Br,kt+=l*Gr,At+=l*zr,J+=l*Vr,l=b[7],vt+=l*T,Lt+=l*Ce,zt+=l*Qe,Jt+=l*Ke,re+=l*Be,jt+=l*Ge,Wt+=l*ze,$t+=l*Er,Pt+=l*sr,Rt+=l*xr,Ft+=l*yr,St+=l*mr,kt+=l*Br,At+=l*Gr,J+=l*zr,Y+=l*Vr,l=b[8],Lt+=l*T,zt+=l*Ce,Jt+=l*Qe,re+=l*Ke,jt+=l*Be,Wt+=l*Ge,$t+=l*ze,Pt+=l*Er,Rt+=l*sr,Ft+=l*xr,St+=l*yr,kt+=l*mr,At+=l*Br,J+=l*Gr,Y+=l*zr,ut+=l*Vr,l=b[9],zt+=l*T,Jt+=l*Ce,re+=l*Qe,jt+=l*Ke,Wt+=l*Be,$t+=l*Ge,Pt+=l*ze,Rt+=l*Er,Ft+=l*sr,St+=l*xr,kt+=l*yr,At+=l*mr,J+=l*Br,Y+=l*Gr,ut+=l*zr,nt+=l*Vr,l=b[10],Jt+=l*T,re+=l*Ce,jt+=l*Qe,Wt+=l*Ke,$t+=l*Be,Pt+=l*Ge,Rt+=l*ze,Ft+=l*Er,St+=l*sr,kt+=l*xr,At+=l*yr,J+=l*mr,Y+=l*Br,ut+=l*Gr,nt+=l*zr,st+=l*Vr,l=b[11],re+=l*T,jt+=l*Ce,Wt+=l*Qe,$t+=l*Ke,Pt+=l*Be,Rt+=l*Ge,Ft+=l*ze,St+=l*Er,kt+=l*sr,At+=l*xr,J+=l*yr,Y+=l*mr,ut+=l*Br,nt+=l*Gr,st+=l*zr,dt+=l*Vr,l=b[12],jt+=l*T,Wt+=l*Ce,$t+=l*Qe,Pt+=l*Ke,Rt+=l*Be,Ft+=l*Ge,St+=l*ze,kt+=l*Er,At+=l*sr,J+=l*xr,Y+=l*yr,ut+=l*mr,nt+=l*Br,st+=l*Gr,dt+=l*zr,Qt+=l*Vr,l=b[13],Wt+=l*T,$t+=l*Ce,Pt+=l*Qe,Rt+=l*Ke,Ft+=l*Be,St+=l*Ge,kt+=l*ze,At+=l*Er,J+=l*sr,Y+=l*xr,ut+=l*yr,nt+=l*mr,st+=l*Br,dt+=l*Gr,Qt+=l*zr,me+=l*Vr,l=b[14],$t+=l*T,Pt+=l*Ce,Rt+=l*Qe,Ft+=l*Ke,St+=l*Be,kt+=l*Ge,At+=l*ze,J+=l*Er,Y+=l*sr,ut+=l*xr,nt+=l*yr,st+=l*mr,dt+=l*Br,Qt+=l*Gr,me+=l*zr,Ae+=l*Vr,l=b[15],Pt+=l*T,Rt+=l*Ce,Ft+=l*Qe,St+=l*Ke,kt+=l*Be,At+=l*Ge,J+=l*ze,Y+=l*Er,ut+=l*sr,nt+=l*xr,st+=l*yr,dt+=l*mr,Qt+=l*Br,me+=l*Gr,Ae+=l*zr,Ee+=l*Vr,L+=38*Rt,U+=38*Ft,q+=38*St,lt+=38*kt,yt+=38*At,ht+=38*J,ye+=38*Y,vt+=38*ut,Lt+=38*nt,zt+=38*st,Jt+=38*dt,re+=38*Qt,jt+=38*me,Wt+=38*Ae,$t+=38*Ee,E=1,l=L+E+65535,E=Math.floor(l/65536),L=l-E*65536,l=U+E+65535,E=Math.floor(l/65536),U=l-E*65536,l=q+E+65535,E=Math.floor(l/65536),q=l-E*65536,l=lt+E+65535,E=Math.floor(l/65536),lt=l-E*65536,l=yt+E+65535,E=Math.floor(l/65536),yt=l-E*65536,l=ht+E+65535,E=Math.floor(l/65536),ht=l-E*65536,l=ye+E+65535,E=Math.floor(l/65536),ye=l-E*65536,l=vt+E+65535,E=Math.floor(l/65536),vt=l-E*65536,l=Lt+E+65535,E=Math.floor(l/65536),Lt=l-E*65536,l=zt+E+65535,E=Math.floor(l/65536),zt=l-E*65536,l=Jt+E+65535,E=Math.floor(l/65536),Jt=l-E*65536,l=re+E+65535,E=Math.floor(l/65536),re=l-E*65536,l=jt+E+65535,E=Math.floor(l/65536),jt=l-E*65536,l=Wt+E+65535,E=Math.floor(l/65536),Wt=l-E*65536,l=$t+E+65535,E=Math.floor(l/65536),$t=l-E*65536,l=Pt+E+65535,E=Math.floor(l/65536),Pt=l-E*65536,L+=E-1+37*(E-1),E=1,l=L+E+65535,E=Math.floor(l/65536),L=l-E*65536,l=U+E+65535,E=Math.floor(l/65536),U=l-E*65536,l=q+E+65535,E=Math.floor(l/65536),q=l-E*65536,l=lt+E+65535,E=Math.floor(l/65536),lt=l-E*65536,l=yt+E+65535,E=Math.floor(l/65536),yt=l-E*65536,l=ht+E+65535,E=Math.floor(l/65536),ht=l-E*65536,l=ye+E+65535,E=Math.floor(l/65536),ye=l-E*65536,l=vt+E+65535,E=Math.floor(l/65536),vt=l-E*65536,l=Lt+E+65535,E=Math.floor(l/65536),Lt=l-E*65536,l=zt+E+65535,E=Math.floor(l/65536),zt=l-E*65536,l=Jt+E+65535,E=Math.floor(l/65536),Jt=l-E*65536,l=re+E+65535,E=Math.floor(l/65536),re=l-E*65536,l=jt+E+65535,E=Math.floor(l/65536),jt=l-E*65536,l=Wt+E+65535,E=Math.floor(l/65536),Wt=l-E*65536,l=$t+E+65535,E=Math.floor(l/65536),$t=l-E*65536,l=Pt+E+65535,E=Math.floor(l/65536),Pt=l-E*65536,L+=E-1+37*(E-1),g[0]=L,g[1]=U,g[2]=q,g[3]=lt,g[4]=yt,g[5]=ht,g[6]=ye,g[7]=vt,g[8]=Lt,g[9]=zt,g[10]=Jt,g[11]=re,g[12]=jt,g[13]=Wt,g[14]=$t,g[15]=Pt}function z(g,b){y(g,b,b)}function tt(g,b){var A=e(),l;for(l=0;l<16;l++)A[l]=b[l];for(l=253;l>=0;l--)z(A,A),l!==2&&l!==4&&y(A,A,b);for(l=0;l<16;l++)g[l]=A[l]}function O(g,b){var A=e(),l;for(l=0;l<16;l++)A[l]=b[l];for(l=250;l>=0;l--)z(A,A),l!==1&&y(A,A,b);for(l=0;l<16;l++)g[l]=A[l]}function V(g,b,A){var l=new Uint8Array(32),E=new Float64Array(80),L,U,q=e(),lt=e(),yt=e(),ht=e(),ye=e(),vt=e();for(U=0;U<31;U++)l[U]=b[U];for(l[31]=b[31]&127|64,l[0]&=248,p(E,A),U=0;U<16;U++)lt[U]=E[U],ht[U]=q[U]=yt[U]=0;for(q[0]=ht[0]=1,U=254;U>=0;--U)L=l[U>>>3]>>>(U&7)&1,S(q,lt,L),S(yt,ht,L),N(ye,q,yt),wt(q,q,yt),N(yt,lt,ht),wt(lt,lt,ht),z(ht,ye),z(vt,q),y(q,yt,q),y(yt,lt,ye),N(ye,q,yt),wt(q,q,yt),z(lt,q),wt(yt,ht,vt),y(q,yt,f),N(q,q,ht),y(yt,yt,q),y(q,ht,vt),y(ht,lt,E),z(lt,ye),S(q,lt,L),S(yt,ht,L);for(U=0;U<16;U++)E[U+16]=q[U],E[U+32]=yt[U],E[U+48]=lt[U],E[U+64]=ht[U];var Lt=E.subarray(32),zt=E.subarray(16);return tt(Lt,Lt),y(zt,zt,Lt),R(g,zt),0}function W(g,b){return V(g,b,s)}function rt(g,b){return n(b,32),W(g,b)}function mt(g,b,A){var l=new Uint8Array(32);return V(l,A,b),X(g,i,l,M)}var Ye=u,Bt=x;function Yt(g,b,A,l,E,L){var U=new Uint8Array(32);return mt(U,E,L),Ye(g,b,A,l,U)}function kr(g,b,A,l,E,L){var U=new Uint8Array(32);return mt(U,E,L),Bt(g,b,A,l,U)}var Re=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Pe(g,b,A,l){for(var E=new Int32Array(16),L=new Int32Array(16),U,q,lt,yt,ht,ye,vt,Lt,zt,Jt,re,jt,Wt,$t,Pt,Rt,Ft,St,kt,At,J,Y,ut,nt,st,dt,Qt=g[0],me=g[1],Ae=g[2],Ee=g[3],T=g[4],Ce=g[5],Qe=g[6],Ke=g[7],Be=b[0],Ge=b[1],ze=b[2],Er=b[3],sr=b[4],xr=b[5],yr=b[6],mr=b[7],Br=0;l>=128;){for(kt=0;kt<16;kt++)At=8*kt+Br,E[kt]=A[At+0]<<24|A[At+1]<<16|A[At+2]<<8|A[At+3],L[kt]=A[At+4]<<24|A[At+5]<<16|A[At+6]<<8|A[At+7];for(kt=0;kt<80;kt++)if(U=Qt,q=me,lt=Ae,yt=Ee,ht=T,ye=Ce,vt=Qe,Lt=Ke,zt=Be,Jt=Ge,re=ze,jt=Er,Wt=sr,$t=xr,Pt=yr,Rt=mr,J=Ke,Y=mr,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=(T>>>14|sr<<32-14)^(T>>>18|sr<<32-18)^(sr>>>41-32|T<<32-(41-32)),Y=(sr>>>14|T<<32-14)^(sr>>>18|T<<32-18)^(T>>>41-32|sr<<32-(41-32)),ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,J=T&Ce^~T&Qe,Y=sr&xr^~sr&yr,ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,J=Re[kt*2],Y=Re[kt*2+1],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,J=E[kt%16],Y=L[kt%16],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,Ft=st&65535|dt<<16,St=ut&65535|nt<<16,J=Ft,Y=St,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=(Qt>>>28|Be<<32-28)^(Be>>>34-32|Qt<<32-(34-32))^(Be>>>39-32|Qt<<32-(39-32)),Y=(Be>>>28|Qt<<32-28)^(Qt>>>34-32|Be<<32-(34-32))^(Qt>>>39-32|Be<<32-(39-32)),ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,J=Qt&me^Qt&Ae^me&Ae,Y=Be&Ge^Be&ze^Ge&ze,ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,Lt=st&65535|dt<<16,Rt=ut&65535|nt<<16,J=yt,Y=jt,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=Ft,Y=St,ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,yt=st&65535|dt<<16,jt=ut&65535|nt<<16,me=U,Ae=q,Ee=lt,T=yt,Ce=ht,Qe=ye,Ke=vt,Qt=Lt,Ge=zt,ze=Jt,Er=re,sr=jt,xr=Wt,yr=$t,mr=Pt,Be=Rt,kt%16===15)for(At=0;At<16;At++)J=E[At],Y=L[At],ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=E[(At+9)%16],Y=L[(At+9)%16],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,Ft=E[(At+1)%16],St=L[(At+1)%16],J=(Ft>>>1|St<<32-1)^(Ft>>>8|St<<32-8)^Ft>>>7,Y=(St>>>1|Ft<<32-1)^(St>>>8|Ft<<32-8)^(St>>>7|Ft<<32-7),ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,Ft=E[(At+14)%16],St=L[(At+14)%16],J=(Ft>>>19|St<<32-19)^(St>>>61-32|Ft<<32-(61-32))^Ft>>>6,Y=(St>>>19|Ft<<32-19)^(Ft>>>61-32|St<<32-(61-32))^(St>>>6|Ft<<32-6),ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,E[At]=st&65535|dt<<16,L[At]=ut&65535|nt<<16;J=Qt,Y=Be,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[0],Y=b[0],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[0]=Qt=st&65535|dt<<16,b[0]=Be=ut&65535|nt<<16,J=me,Y=Ge,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[1],Y=b[1],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[1]=me=st&65535|dt<<16,b[1]=Ge=ut&65535|nt<<16,J=Ae,Y=ze,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[2],Y=b[2],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[2]=Ae=st&65535|dt<<16,b[2]=ze=ut&65535|nt<<16,J=Ee,Y=Er,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[3],Y=b[3],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[3]=Ee=st&65535|dt<<16,b[3]=Er=ut&65535|nt<<16,J=T,Y=sr,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[4],Y=b[4],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[4]=T=st&65535|dt<<16,b[4]=sr=ut&65535|nt<<16,J=Ce,Y=xr,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[5],Y=b[5],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[5]=Ce=st&65535|dt<<16,b[5]=xr=ut&65535|nt<<16,J=Qe,Y=yr,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[6],Y=b[6],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[6]=Qe=st&65535|dt<<16,b[6]=yr=ut&65535|nt<<16,J=Ke,Y=mr,ut=Y&65535,nt=Y>>>16,st=J&65535,dt=J>>>16,J=g[7],Y=b[7],ut+=Y&65535,nt+=Y>>>16,st+=J&65535,dt+=J>>>16,nt+=ut>>>16,st+=nt>>>16,dt+=st>>>16,g[7]=Ke=st&65535|dt<<16,b[7]=mr=ut&65535|nt<<16,Br+=128,l-=128}return l}function ur(g,b,A){var l=new Int32Array(8),E=new Int32Array(8),L=new Uint8Array(256),U,q=A;for(l[0]=1779033703,l[1]=3144134277,l[2]=1013904242,l[3]=2773480762,l[4]=1359893119,l[5]=2600822924,l[6]=528734635,l[7]=1541459225,E[0]=4089235720,E[1]=2227873595,E[2]=4271175723,E[3]=1595750129,E[4]=2917565137,E[5]=725511199,E[6]=4215389547,E[7]=327033209,Pe(l,E,b,A),A%=128,U=0;U<A;U++)L[U]=b[q-A+U];for(L[A]=128,A=256-128*(A<112?1:0),L[A-9]=0,F(L,A-8,q/536870912|0,q<<3),Pe(l,E,L,A),U=0;U<8;U++)F(g,8*U,l[U],E[U]);return 0}function ce(g,b){var A=e(),l=e(),E=e(),L=e(),U=e(),q=e(),lt=e(),yt=e(),ht=e();wt(A,g[1],g[0]),wt(ht,b[1],b[0]),y(A,A,ht),N(l,g[0],g[1]),N(ht,b[0],b[1]),y(l,l,ht),y(E,g[3],b[3]),y(E,E,h),y(L,g[2],b[2]),N(L,L,L),wt(U,l,A),wt(q,L,E),N(lt,L,E),N(yt,l,A),y(g[0],U,q),y(g[1],yt,lt),y(g[2],lt,q),y(g[3],U,yt)}function pe(g,b,A){var l;for(l=0;l<4;l++)S(g[l],b[l],A)}function Ot(g,b){var A=e(),l=e(),E=e();tt(E,b[2]),y(A,b[0],E),y(l,b[1],E),R(g,l),g[31]^=P(A)<<7}function bt(g,b,A){var l,E;for(v(g[0],o),v(g[1],a),v(g[2],a),v(g[3],o),E=255;E>=0;--E)l=A[E/8|0]>>(E&7)&1,pe(g,b,l),ce(b,g),ce(g,g),pe(g,b,l)}function Dt(g,b){var A=[e(),e(),e(),e()];v(A[0],d),v(A[1],m),v(A[2],a),y(A[3],d,m),bt(g,A,b)}function _e(g,b,A){var l=new Uint8Array(64),E=[e(),e(),e(),e()],L;for(A||n(b,32),ur(l,b,32),l[0]&=248,l[31]&=127,l[31]|=64,Dt(E,l),Ot(g,E),L=0;L<32;L++)b[L+32]=g[L];return 0}var ge=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(g,b){var A,l,E,L;for(l=63;l>=32;--l){for(A=0,E=l-32,L=l-12;E<L;++E)b[E]+=A-16*b[l]*ge[E-(l-32)],A=Math.floor((b[E]+128)/256),b[E]-=A*256;b[E]+=A,b[l]=0}for(A=0,E=0;E<32;E++)b[E]+=A-(b[31]>>4)*ge[E],A=b[E]>>8,b[E]&=255;for(E=0;E<32;E++)b[E]-=A*ge[E];for(l=0;l<32;l++)b[l+1]+=b[l]>>8,g[l]=b[l]&255}function nr(g){var b=new Float64Array(64),A;for(A=0;A<64;A++)b[A]=g[A];for(A=0;A<64;A++)g[A]=0;ie(g,b)}function ue(g,b,A,l){var E=new Uint8Array(64),L=new Uint8Array(64),U=new Uint8Array(64),q,lt,yt=new Float64Array(64),ht=[e(),e(),e(),e()];ur(E,l,32),E[0]&=248,E[31]&=127,E[31]|=64;var ye=A+64;for(q=0;q<A;q++)g[64+q]=b[q];for(q=0;q<32;q++)g[32+q]=E[32+q];for(ur(U,g.subarray(32),A+32),nr(U),Dt(ht,U),Ot(g,ht),q=32;q<64;q++)g[q]=l[q];for(ur(L,g,A+64),nr(L),q=0;q<64;q++)yt[q]=0;for(q=0;q<32;q++)yt[q]=U[q];for(q=0;q<32;q++)for(lt=0;lt<32;lt++)yt[q+lt]+=L[q]*E[lt];return ie(g.subarray(32),yt),ye}function fe(g,b){var A=e(),l=e(),E=e(),L=e(),U=e(),q=e(),lt=e();return v(g[2],a),p(g[1],b),z(E,g[1]),y(L,E,c),wt(E,E,g[2]),N(L,g[2],L),z(U,L),z(q,U),y(lt,q,U),y(A,lt,E),y(A,A,L),O(A,A),y(A,A,E),y(A,A,L),y(A,A,L),y(g[0],A,L),z(l,g[0]),y(l,l,L),G(l,E)&&y(g[0],g[0],w),z(l,g[0]),y(l,l,L),G(l,E)?-1:(P(g[0])===b[31]>>7&&wt(g[0],o,g[0]),y(g[3],g[0],g[1]),0)}function Ve(g,b,A,l){var E,L=new Uint8Array(32),U=new Uint8Array(64),q=[e(),e(),e(),e()],lt=[e(),e(),e(),e()];if(A<64||fe(lt,l))return-1;for(E=0;E<A;E++)g[E]=b[E];for(E=0;E<32;E++)g[E+32]=l[E];if(ur(U,g,A),nr(U),bt(q,lt,U),Dt(lt,b.subarray(32)),ce(q,lt),Ot(L,q),A-=64,D(b,0,L,0)){for(E=0;E<A;E++)g[E]=0;return-1}for(E=0;E<A;E++)g[E]=b[E+64];return A}var oe=32,se=24,He=32,qt=16,Xt=32,Xe=32,te=32,ee=32,ir=32,le=se,he=He,or=qt,Se=64,Me=32,Hr=64,qe=32,Ze=64;t.lowlevel={crypto_core_hsalsa20:X,crypto_stream_xor:Ct,crypto_stream:ft,crypto_stream_salsa20_xor:at,crypto_stream_salsa20:it,crypto_onetimeauth:Gt,crypto_onetimeauth_verify:_,crypto_verify_16:K,crypto_verify_32:D,crypto_secretbox:u,crypto_secretbox_open:x,crypto_scalarmult:V,crypto_scalarmult_base:W,crypto_box_beforenm:mt,crypto_box_afternm:Ye,crypto_box:Yt,crypto_box_open:kr,crypto_box_keypair:rt,crypto_hash:ur,crypto_sign:ue,crypto_sign_keypair:_e,crypto_sign_open:Ve,crypto_secretbox_KEYBYTES:oe,crypto_secretbox_NONCEBYTES:se,crypto_secretbox_ZEROBYTES:He,crypto_secretbox_BOXZEROBYTES:qt,crypto_scalarmult_BYTES:Xt,crypto_scalarmult_SCALARBYTES:Xe,crypto_box_PUBLICKEYBYTES:te,crypto_box_SECRETKEYBYTES:ee,crypto_box_BEFORENMBYTES:ir,crypto_box_NONCEBYTES:le,crypto_box_ZEROBYTES:he,crypto_box_BOXZEROBYTES:or,crypto_sign_BYTES:Se,crypto_sign_PUBLICKEYBYTES:Me,crypto_sign_SECRETKEYBYTES:Hr,crypto_sign_SEEDBYTES:qe,crypto_hash_BYTES:Ze,gf:e,D:c,L:ge,pack25519:R,unpack25519:p,M:y,A:N,S:z,Z:wt,pow2523:O,add:ce,set25519:v,modL:ie,scalarmult:bt,scalarbase:Dt};function Sn(g,b){if(g.length!==oe)throw new Error("bad key size");if(b.length!==se)throw new Error("bad nonce size")}function er(g,b){if(g.length!==te)throw new Error("bad public key size");if(b.length!==ee)throw new Error("bad secret key size")}function Ne(){for(var g=0;g<arguments.length;g++)if(!(arguments[g]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function xn(g){for(var b=0;b<g.length;b++)g[b]=0}t.randomBytes=function(g){var b=new Uint8Array(g);return n(b,g),b},t.secretbox=function(g,b,A){Ne(g,b,A),Sn(A,b);for(var l=new Uint8Array(He+g.length),E=new Uint8Array(l.length),L=0;L<g.length;L++)l[L+He]=g[L];return u(E,l,l.length,b,A),E.subarray(qt)},t.secretbox.open=function(g,b,A){Ne(g,b,A),Sn(A,b);for(var l=new Uint8Array(qt+g.length),E=new Uint8Array(l.length),L=0;L<g.length;L++)l[L+qt]=g[L];return l.length<32||x(E,l,l.length,b,A)!==0?null:E.subarray(He)},t.secretbox.keyLength=oe,t.secretbox.nonceLength=se,t.secretbox.overheadLength=qt,t.scalarMult=function(g,b){if(Ne(g,b),g.length!==Xe)throw new Error("bad n size");if(b.length!==Xt)throw new Error("bad p size");var A=new Uint8Array(Xt);return V(A,g,b),A},t.scalarMult.base=function(g){if(Ne(g),g.length!==Xe)throw new Error("bad n size");var b=new Uint8Array(Xt);return W(b,g),b},t.scalarMult.scalarLength=Xe,t.scalarMult.groupElementLength=Xt,t.box=function(g,b,A,l){var E=t.box.before(A,l);return t.secretbox(g,b,E)},t.box.before=function(g,b){Ne(g,b),er(g,b);var A=new Uint8Array(ir);return mt(A,g,b),A},t.box.after=t.secretbox,t.box.open=function(g,b,A,l){var E=t.box.before(A,l);return t.secretbox.open(g,b,E)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var g=new Uint8Array(te),b=new Uint8Array(ee);return rt(g,b),{publicKey:g,secretKey:b}},t.box.keyPair.fromSecretKey=function(g){if(Ne(g),g.length!==ee)throw new Error("bad secret key size");var b=new Uint8Array(te);return W(b,g),{publicKey:b,secretKey:new Uint8Array(g)}},t.box.publicKeyLength=te,t.box.secretKeyLength=ee,t.box.sharedKeyLength=ir,t.box.nonceLength=le,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(g,b){if(Ne(g,b),b.length!==Hr)throw new Error("bad secret key size");var A=new Uint8Array(Se+g.length);return ue(A,g,g.length,b),A},t.sign.open=function(g,b){if(Ne(g,b),b.length!==Me)throw new Error("bad public key size");var A=new Uint8Array(g.length),l=Ve(A,g,g.length,b);if(l<0)return null;for(var E=new Uint8Array(l),L=0;L<E.length;L++)E[L]=A[L];return E},t.sign.detached=function(g,b){for(var A=t.sign(g,b),l=new Uint8Array(Se),E=0;E<l.length;E++)l[E]=A[E];return l},t.sign.detached.verify=function(g,b,A){if(Ne(g,b,A),b.length!==Se)throw new Error("bad signature size");if(A.length!==Me)throw new Error("bad public key size");var l=new Uint8Array(Se+g.length),E=new Uint8Array(Se+g.length),L;for(L=0;L<Se;L++)l[L]=b[L];for(L=0;L<g.length;L++)l[L+Se]=g[L];return Ve(E,l,l.length,A)>=0},t.sign.keyPair=function(){var g=new Uint8Array(Me),b=new Uint8Array(Hr);return _e(g,b),{publicKey:g,secretKey:b}},t.sign.keyPair.fromSecretKey=function(g){if(Ne(g),g.length!==Hr)throw new Error("bad secret key size");for(var b=new Uint8Array(Me),A=0;A<b.length;A++)b[A]=g[32+A];return{publicKey:b,secretKey:new Uint8Array(g)}},t.sign.keyPair.fromSeed=function(g){if(Ne(g),g.length!==qe)throw new Error("bad seed size");for(var b=new Uint8Array(Me),A=new Uint8Array(Hr),l=0;l<32;l++)A[l]=g[l];return _e(b,A,!0),{publicKey:b,secretKey:A}},t.sign.publicKeyLength=Me,t.sign.secretKeyLength=Hr,t.sign.seedLength=qe,t.sign.signatureLength=Se,t.hash=function(g){Ne(g);var b=new Uint8Array(Ze);return ur(b,g,g.length),b},t.hash.hashLength=Ze,t.verify=function(g,b){return Ne(g,b),g.length===0||b.length===0||g.length!==b.length?!1:I(g,0,b,0,g.length)===0},t.setPRNG=function(g){n=g},function(){var g=typeof self<"u"?self.crypto||self.msCrypto:null;if(g&&g.getRandomValues){var b=65536;t.setPRNG(function(A,l){var E,L=new Uint8Array(l);for(E=0;E<l;E+=b)g.getRandomValues(L.subarray(E,E+Math.min(l-E,b)));for(E=0;E<l;E++)A[E]=L[E];xn(L)})}else typeof J6<"u"&&(g=xg,g&&g.randomBytes&&t.setPRNG(function(A,l){var E,L=g.randomBytes(l);for(E=0;E<l;E++)A[E]=L[E];xn(L)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(jx);var j6=jx.exports;const Kc=tf(j6);var en=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})},Ya;(function(r){r[r.Plain=0]="Plain",r[r.X25519DeoxysII=1]="X25519DeoxysII",r[r.Mock=Number.MAX_SAFE_INTEGER]="Mock"})(Ya||(Ya={}));class Yx{encryptEncode(t){return en(this,void 0,void 0,function*(){const e=yield this.encryptEnvelope(t);return e?de(Oo(e)):""})}encryptEnvelope(t){return en(this,void 0,void 0,function*(){if(t===void 0)return;if(!Ha(t))throw new Error("Attempted to sign tx having non-byteslike data.");if(t.length===0)return;const{data:e,nonce:n}=yield this.encryptCallData(Zt(t)),[i,s]=yield Promise.all([this.kind,this.publicKey]),o=s.length&&n.length?{pk:s,nonce:n,data:e}:e;return i===Ya.Plain?{body:o}:{format:i,body:o}})}encryptCallData(t){return en(this,void 0,void 0,function*(){const e=Oo({body:t}),{ciphertext:n,nonce:i}=yield this.encrypt(e);return{data:n,nonce:i}})}decryptCallData(t,e){return en(this,void 0,void 0,function*(){return x0(yield this.decrypt(t,e)).body})}encryptCallResult(t,e=!1){return en(this,void 0,void 0,function*(){if(t.fail)return Oo(t);const n=Oo(t),{ciphertext:i,nonce:s}=yield this.encrypt(n);return Oo({[e?"unknown":"ok"]:{nonce:s,data:i}})})}decryptEncoded(t){return en(this,void 0,void 0,function*(){return de(yield this.decryptCallResult(x0(Zt(t))))})}decryptCallResult(t){var e;return en(this,void 0,void 0,function*(){function n(a){return a.message?a.message:`Call failed in module '${a.module}' with code '${a.code}'`}if(t.fail)throw new ra(n(t.fail),t.fail);if(t.ok&&(typeof t.ok=="string"||t.ok instanceof Uint8Array))return Zt(t.ok);const{nonce:i,data:s}=(e=t.ok)!==null&&e!==void 0?e:t.unknown,o=x0(yield this.decrypt(i,s));if(o.ok)return Zt(o.ok);throw o.fail?new ra(n(o.fail),o.fail):new ra(`Unexpected inner call result: ${JSON.stringify(o)}`,o)})}}class H0 extends Yx{static ephemeral(t){const e=Kc.box.keyPair();return new H0(e,Zt(t,{allowMissingPrefix:!0}))}static fromSecretKey(t,e){const n=Kc.box.keyPair.fromSecretKey(Zt(t));return new H0(n,Zt(e))}constructor(t,e){super(),this.kind=Ya.X25519DeoxysII,this.publicKey=t.publicKey;const n=K6.sha512_256.hmac.create("MRAE_Box_Deoxys-II-256-128").update(Kc.scalarMult(t.secretKey,e)).arrayBuffer();this.key=new Uint8Array(n),this.cipher=new C1.AEAD(new Uint8Array(this.key))}encrypt(t){return en(this,void 0,void 0,function*(){const e=Kc.randomBytes(C1.NonceSize),n=this.cipher.encrypt(e,t);return{nonce:e,ciphertext:n}})}decrypt(t,e){return en(this,void 0,void 0,function*(){return this.cipher.decrypt(t,e)})}}class G0 extends Yx{constructor(){super(...arguments),this.kind=Ya.Mock,this.publicKey=new Uint8Array([1,2,3])}encrypt(t){return en(this,void 0,void 0,function*(){return{nonce:G0.NONCE,ciphertext:t}})}decrypt(t,e){return en(this,void 0,void 0,function*(){if(de(t)!==de(G0.NONCE))throw new Error("incorrect nonce");return e})}}G0.NONCE=new Uint8Array([10,20,30,40]);function Y6(r){return new Proxy({},{get(t,e){return e==="kind"||e==="publicKey"?(t.inner||(t.inner=Promise.resolve(r())),t.inner.then(n=>Reflect.get(n,e))):(...n)=>en(this,void 0,void 0,function*(){return t.inner||(t.inner=Promise.resolve(r())),t.inner.then(i=>Reflect.get(i,e).apply(i,n))})}})}function sl(r,t){var e;return en(this,void 0,void 0,function*(){const{defaultGateway:n}=DE[r];if(!n)throw new Error(`Unable to fetch runtime public key for network with unknown ID: ${r}.`);const i=(e=globalThis==null?void 0:globalThis.fetch)!==null&&e!==void 0?e:t==null?void 0:t.fetch,s=yield i?W6(n,i):q6(n);return Zt(s.result.key)})}function q6(r){return en(this,void 0,void 0,function*(){const t=yield nv(()=>import(r.split(":")[0]),[]),e=qx();return new Promise((n,i)=>{const s={method:"POST",headers:{"content-type":"application/json","content-length":e.length}},o=t.request(r,s,a=>{const f=[];a.on("error",c=>i(c)),a.on("data",c=>f.push(c)),a.on("end",()=>{n(JSON.parse(Buffer.concat(f).toString()))})});o.on("error",a=>i(a)),o.write(e),o.end()})})}function W6(r,t){return en(this,void 0,void 0,function*(){const e=yield t(r,{method:"POST",headers:{"content-type":"application/json"},body:qx()});if(!e.ok)throw new ra("Failed to fetch runtime public key.",e);return yield e.json()})}function qx(){return JSON.stringify({jsonrpc:"2.0",id:Math.floor(Math.random()*1e9),method:mh,params:[]})}const $6="6.7.1";function X6(r,t,e){const n=t.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${e}`,i.value=r,i}async function cn(r){const t=Object.keys(r);return(await Promise.all(t.map(n=>Promise.resolve(r[n])))).reduce((n,i,s)=>(n[t[s]]=i,n),{})}function ae(r,t,e){for(let n in t){let i=t[n];const s=e?e[n]:null;s&&X6(i,s,n),Object.defineProperty(r,n,{enumerable:!0,value:i,writable:!1})}}function Ho(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(Ho).join(", ")+" ]";if(r instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let n=0;n<r.length;n++)e+=t[r[n]>>4],e+=t[r[n]&15];return e}if(typeof r=="object"&&typeof r.toJSON=="function")return Ho(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{const t=Object.keys(r);return t.sort(),"{ "+t.map(e=>`${Ho(e)}: ${Ho(r[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ai(r,t){return r&&r.code===t}function Yh(r){return ai(r,"CALL_EXCEPTION")}function qa(r,t,e){{const i=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Ho(e)}`);for(const s in e){const o=e[s];i.push(s+"="+Ho(o))}}i.push(`code=${t}`),i.push(`version=${$6}`),i.length&&(r+=" ("+i.join(", ")+")")}let n;switch(t){case"INVALID_ARGUMENT":n=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(r);break;default:n=new Error(r)}return ae(n,{code:t}),e&&Object.assign(n,e),n}function pt(r,t,e,n){if(!r)throw qa(t,e,n)}function Q(r,t,e,n){pt(r,t,"INVALID_ARGUMENT",{argument:e,value:n})}function Wx(r,t,e){e==null&&(e=""),e&&(e=": "+e),pt(r>=t,"missing arguemnt"+e,"MISSING_ARGUMENT",{count:r,expectedCount:t}),pt(r<=t,"too many arguemnts"+e,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:t})}const Z6=["NFD","NFC","NFKD","NFKC"].reduce((r,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(e!==n)throw new Error("broken")}r.push(t)}catch{}return r},[]);function t3(r){pt(Z6.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function Bu(r,t,e){if(e==null&&(e=""),r!==t){let n=e,i="new";e&&(n+=".",i+=" "+e),pt(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function $x(r,t,e){if(r instanceof Uint8Array)return e?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(r.substring(i,i+2),16),i+=2;return n}Q(!1,"invalid BytesLike value",t||"value",r)}function De(r,t){return $x(r,t,!1)}function $r(r,t){return $x(r,t,!0)}function Ar(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&r.length!==2+2*t||t===!0&&r.length%2!==0)}function e3(r){return Ar(r,!0)||r instanceof Uint8Array}const P1="0123456789abcdef";function Vt(r){const t=De(r);let e="0x";for(let n=0;n<t.length;n++){const i=t[n];e+=P1[(i&240)>>4]+P1[i&15]}return e}function Nr(r){return"0x"+r.map(t=>Vt(t).substring(2)).join("")}function Xo(r){return Ar(r,!0)?(r.length-2)/2:De(r).length}function wr(r,t,e){const n=De(r);return e!=null&&e>n.length&&pt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:e}),Vt(n.slice(t??0,e??n.length))}function Xx(r,t,e){const n=De(r);pt(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),e?i.set(n,t-n.length):i.set(n,0),Vt(i)}function vo(r,t){return Xx(r,t,!0)}function r3(r,t){return Xx(r,t,!1)}const Cu=BigInt(0),ii=BigInt(1),Go=9007199254740991;function n3(r,t){const e=Pu(r,"value"),n=BigInt(Te(t,"width"));if(pt(e>>n===Cu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),e>>n-ii){const i=(ii<<n)-ii;return-((~e&i)+ii)}return e}function Zx(r,t){let e=ne(r,"value");const n=BigInt(Te(t,"width")),i=ii<<n-ii;if(e<Cu){e=-e,pt(e<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const s=(ii<<n)-ii;return(~e&s)+ii}else pt(e<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return e}function Ff(r,t){const e=Pu(r,"value"),n=BigInt(Te(t,"bits"));return e&(ii<<n)-ii}function ne(r,t){switch(typeof r){case"bigint":return r;case"number":return Q(Number.isInteger(r),"underflow",t||"value",r),Q(r>=-Go&&r<=Go,"overflow",t||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(e){Q(!1,`invalid BigNumberish string: ${e.message}`,t||"value",r)}}Q(!1,"invalid BigNumberish value",t||"value",r)}function Pu(r,t){const e=ne(r,t);return pt(e>=Cu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),e}const S1="0123456789abcdef";function qh(r){if(r instanceof Uint8Array){let t="0x0";for(const e of r)t+=S1[e>>4],t+=S1[e&15];return BigInt(t)}return ne(r)}function Te(r,t){switch(typeof r){case"bigint":return Q(r>=-Go&&r<=Go,"overflow",t||"value",r),Number(r);case"number":return Q(Number.isInteger(r),"underflow",t||"value",r),Q(r>=-Go&&r<=Go,"overflow",t||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Te(BigInt(r),t)}catch(e){Q(!1,`invalid numeric string: ${e.message}`,t||"value",r)}}Q(!1,"invalid numeric value",t||"value",r)}function i3(r){return Te(qh(r))}function Gs(r,t){let n=Pu(r,"value").toString(16);if(t==null)n.length%2&&(n="0"+n);else{const i=Te(t,"width");for(pt(i*2>=n.length,`value exceeds width (${i} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<i*2;)n="0"+n}return"0x"+n}function Nn(r){const t=Pu(r,"value");if(t===Cu)return new Uint8Array([]);let e=t.toString(16);e.length%2&&(e="0"+e);const n=new Uint8Array(e.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(e.substring(s,s+2),16)}return n}function Ws(r){let t=Vt(e3(r)?r:Nn(r)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const s3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const k1=BigInt(58);function o3(r){let t=qh(De(r)),e="";for(;t;)e=s3[Number(t%k1)]+e,t/=k1;return e}function a3(r){r=atob(r);const t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return De(t)}function f3(r){const t=De(r);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}var na;class t2{constructor(t,e,n){j(this,"filter");j(this,"emitter");ot(this,na,void 0);H(this,na,e),ae(this,{emitter:t,filter:n})}async removeListener(){B(this,na)!=null&&await this.emitter.off(this.filter,B(this,na))}}na=new WeakMap;function c3(r,t,e,n,i){Q(!1,`invalid codepoint at offset ${t}; ${r}`,"bytes",e)}function e2(r,t,e,n,i){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let s=0;for(let o=t+1;o<e.length&&e[o]>>6===2;o++)s++;return s}return r==="OVERRUN"?e.length-t-1:0}function u3(r,t,e,n,i){return r==="OVERLONG"?(Q(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),e2(r,t,e))}const l3=Object.freeze({error:c3,ignore:e2,replace:u3});function h3(r,t){t==null&&(t=l3.error);const e=De(r,"bytes"),n=[];let i=0;for(;i<e.length;){const s=e[i++];if(!(s>>7)){n.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=t("UNEXPECTED_CONTINUE",i-1,e,n):i+=t("BAD_PREFIX",i-1,e,n);continue}if(i-1+o>=e.length){i+=t("OVERRUN",i-1,e,n);continue}let f=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let h=e[i];if((h&192)!=128){i+=t("MISSING_CONTINUE",i,e,n),f=null;break}f=f<<6|h&63,i++}if(f!==null){if(f>1114111){i+=t("OUT_OF_RANGE",i-1-o,e,n,f);continue}if(f>=55296&&f<=57343){i+=t("UTF16_SURROGATE",i-1-o,e,n,f);continue}if(f<=a){i+=t("OVERLONG",i-1-o,e,n,f);continue}n.push(f)}}return n}function xo(r,t){t!=null&&(t3(t),r=r.normalize(t));let e=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192),e.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);Q(n<r.length&&(s&64512)===56320,"invalid surrogate pair","str",r);const o=65536+((i&1023)<<10)+(s&1023);e.push(o>>18|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(o&63|128)}else e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128)}return new Uint8Array(e)}function d3(r){return r.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Wh(r,t){return d3(h3(r,t))}async function p3(r,t){const e=r.url.split(":")[0].toLowerCase();pt(e==="http"||e==="https",`unsupported protocol ${e}`,"UNSUPPORTED_OPERATION",{info:{protocol:e},operation:"request"}),pt(e==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n;if(t){const c=new AbortController;n=c.signal,t.addListener(()=>{c.abort()})}const i={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:n},s=await fetch(r.url,i),o={};s.headers.forEach((c,h)=>{o[h.toLowerCase()]=c});const a=await s.arrayBuffer(),f=a==null?null:new Uint8Array(a);return{statusCode:s.status,statusMessage:s.statusText,headers:o,body:f}}const g3=12,x3=250;let I1=p3;const y3=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m3=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ol=!1;async function r2(r,t){try{const e=r.match(y3);if(!e)throw new Error("invalid data");return new Us(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?a3(e[3]):w3(e[3]))}catch{return new Us(599,"BAD REQUEST (invalid data: URI)",{},null,new zs(r))}}function n2(r){async function t(e,n){try{const i=e.match(m3);if(!i)throw new Error("invalid link");return new zs(`${r}${i[2]}`)}catch{return new Us(599,"BAD REQUEST (invalid IPFS URI)",{},null,new zs(e))}}return t}const Jc={data:r2,ipfs:n2("https://gateway.ipfs.io/ipfs/")},i2=new WeakMap;var Zs,ws;class b3{constructor(t){ot(this,Zs,void 0);ot(this,ws,void 0);H(this,Zs,[]),H(this,ws,!1),i2.set(t,()=>{if(!B(this,ws)){H(this,ws,!0);for(const e of B(this,Zs))setTimeout(()=>{e()},0);H(this,Zs,[])}})}addListener(t){pt(!B(this,ws),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),B(this,Zs).push(t)}get cancelled(){return B(this,ws)}checkSignal(){pt(!this.cancelled,"cancelled","CANCELLED",{})}}Zs=new WeakMap,ws=new WeakMap;function jc(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var ia,sa,ei,Vi,oa,aa,Cr,bn,Qi,to,eo,ro,yi,Ki,no,_f;const nu=class nu{constructor(t){ot(this,no);ot(this,ia,void 0);ot(this,sa,void 0);ot(this,ei,void 0);ot(this,Vi,void 0);ot(this,oa,void 0);ot(this,aa,void 0);ot(this,Cr,void 0);ot(this,bn,void 0);ot(this,Qi,void 0);ot(this,to,void 0);ot(this,eo,void 0);ot(this,ro,void 0);ot(this,yi,void 0);ot(this,Ki,void 0);H(this,aa,String(t)),H(this,ia,!1),H(this,sa,!0),H(this,ei,{}),H(this,Vi,""),H(this,oa,3e5),H(this,Ki,{slotInterval:x3,maxAttempts:g3})}get url(){return B(this,aa)}set url(t){H(this,aa,String(t))}get body(){return B(this,Cr)==null?null:new Uint8Array(B(this,Cr))}set body(t){if(t==null)H(this,Cr,void 0),H(this,bn,void 0);else if(typeof t=="string")H(this,Cr,xo(t)),H(this,bn,"text/plain");else if(t instanceof Uint8Array)H(this,Cr,t),H(this,bn,"application/octet-stream");else if(typeof t=="object")H(this,Cr,xo(JSON.stringify(t))),H(this,bn,"application/json");else throw new Error("invalid body")}hasBody(){return B(this,Cr)!=null}get method(){return B(this,Vi)?B(this,Vi):this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),H(this,Vi,String(t).toUpperCase())}get headers(){const t=Object.assign({},B(this,ei));return B(this,Qi)&&(t.authorization=`Basic ${f3(xo(B(this,Qi)))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&B(this,bn)&&(t["content-type"]=B(this,bn)),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){B(this,ei)[String(t).toLowerCase()]=String(e)}clearHeaders(){H(this,ei,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const i=e[n++];return{value:[i,t[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return B(this,Qi)||null}setCredentials(t,e){Q(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),H(this,Qi,`${t}:${e}`)}get allowGzip(){return B(this,sa)}set allowGzip(t){H(this,sa,!!t)}get allowInsecureAuthentication(){return!!B(this,ia)}set allowInsecureAuthentication(t){H(this,ia,!!t)}get timeout(){return B(this,oa)}set timeout(t){Q(t>=0,"timeout must be non-zero","timeout",t),H(this,oa,t)}get preflightFunc(){return B(this,to)||null}set preflightFunc(t){H(this,to,t)}get processFunc(){return B(this,eo)||null}set processFunc(t){H(this,eo,t)}get retryFunc(){return B(this,ro)||null}set retryFunc(t){H(this,ro,t)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${B(this,Cr)?Vt(B(this,Cr)):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(B(this,Ki).slotInterval=t.slotInterval),t.maxAttempts!=null&&(B(this,Ki).maxAttempts=t.maxAttempts)}send(){return pt(B(this,yi)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),H(this,yi,new b3(this)),Mt(this,no,_f).call(this,0,T1()+this.timeout,0,this,new Us(0,"",{},null,this))}cancel(){pt(B(this,yi)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=i2.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();pt(this.method==="GET"&&(e!=="https"||n!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const i=new nu(t);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,H(i,ei,Object.assign({},B(this,ei))),B(this,Cr)&&H(i,Cr,new Uint8Array(B(this,Cr))),H(i,bn,B(this,bn)),i}clone(){const t=new nu(this.url);return H(t,Vi,B(this,Vi)),B(this,Cr)&&H(t,Cr,B(this,Cr)),H(t,bn,B(this,bn)),H(t,ei,Object.assign({},B(this,ei))),H(t,Qi,B(this,Qi)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),H(t,to,B(this,to)),H(t,eo,B(this,eo)),H(t,ro,B(this,ro)),t}static lockConfig(){ol=!0}static getGateway(t){return Jc[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(ol)throw new Error("gateways locked");Jc[t]=e}static registerGetUrl(t){if(ol)throw new Error("gateways locked");I1=t}static createDataGateway(){return r2}static createIpfsGatewayFunc(t){return n2(t)}};ia=new WeakMap,sa=new WeakMap,ei=new WeakMap,Vi=new WeakMap,oa=new WeakMap,aa=new WeakMap,Cr=new WeakMap,bn=new WeakMap,Qi=new WeakMap,to=new WeakMap,eo=new WeakMap,ro=new WeakMap,yi=new WeakMap,Ki=new WeakMap,no=new WeakSet,_f=async function(t,e,n,i,s){var h,d,m;if(t>=B(this,Ki).maxAttempts)return s.makeServerError("exceeded maximum retry limit");pt(T1()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await A3(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Jc){const w=await Jc[a](o.url,jc(B(i,yi)));if(w instanceof Us){let F=w;if(this.processFunc){jc(B(i,yi));try{F=await this.processFunc(o,F)}catch(I){(I.throttle==null||typeof I.stall!="number")&&F.makeServerError("error in post-processing function",I).assertOk()}}return F}o=w}this.preflightFunc&&(o=await this.preflightFunc(o));const f=await I1(o,jc(B(i,yi)));let c=new Us(f.statusCode,f.statusMessage,f.headers,f.body,i);if(c.statusCode===301||c.statusCode===302){try{const w=c.headers.location||"";return Mt(h=o.redirect(w),no,_f).call(h,t+1,e,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,t))){const w=c.headers["retry-after"];let F=B(this,Ki).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof w=="string"&&w.match(/^[1-9][0-9]*$/)&&(F=parseInt(w)),Mt(d=o.clone(),no,_f).call(d,t+1,e,F,i,c)}if(this.processFunc){jc(B(i,yi));try{c=await this.processFunc(o,c)}catch(w){(w.throttle==null||typeof w.stall!="number")&&c.makeServerError("error in post-processing function",w).assertOk();let F=B(this,Ki).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return w.stall>=0&&(F=w.stall),Mt(m=o.clone(),no,_f).call(m,t+1,e,F,i,c)}}return c};let zs=nu;var fc,cc,uc,ri,fa,io;const hd=class hd{constructor(t,e,n,i,s){ot(this,fc,void 0);ot(this,cc,void 0);ot(this,uc,void 0);ot(this,ri,void 0);ot(this,fa,void 0);ot(this,io,void 0);H(this,fc,t),H(this,cc,e),H(this,uc,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),H(this,ri,i==null?null:new Uint8Array(i)),H(this,fa,s||null),H(this,io,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${B(this,ri)?Vt(B(this,ri)):"null"}>`}get statusCode(){return B(this,fc)}get statusMessage(){return B(this,cc)}get headers(){return Object.assign({},B(this,uc))}get body(){return B(this,ri)==null?null:new Uint8Array(B(this,ri))}get bodyText(){try{return B(this,ri)==null?"":Wh(B(this,ri))}catch{pt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{pt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const i=e[n++];return{value:[i,t[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const i=new hd(599,n,this.headers,this.body,B(this,fa)||void 0);return H(i,io,{message:t,error:e}),i}throwThrottleError(t,e){e==null?e=-1:Q(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const n=new Error(t||"throttling requests");throw ae(n,{stall:e,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return B(this,ri)!=null}get request(){return B(this,fa)}ok(){return B(this,io).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=B(this,io);t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`),pt(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}};fc=new WeakMap,cc=new WeakMap,uc=new WeakMap,ri=new WeakMap,fa=new WeakMap,io=new WeakMap;let Us=hd;function T1(){return new Date().getTime()}function w3(r){return xo(r.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function A3(r){return new Promise(t=>setTimeout(t,r))}function v3(r){let t=r.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function R1(r,t,e){let n=0;for(let i=0;i<e;i++)n=n*256+r[t+i];return n}function M1(r,t,e,n){const i=[];for(;e<t+1+n;){const s=s2(r,e);i.push(s.result),e+=s.consumed,pt(e<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:t})}return{consumed:1+n,result:i}}function s2(r,t){pt(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const e=n=>{pt(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[t]>=248){const n=r[t]-247;e(t+1+n);const i=R1(r,t+1,n);return e(t+1+n+i),M1(r,t,t+1+n,n+i)}else if(r[t]>=192){const n=r[t]-192;return e(t+1+n),M1(r,t,t+1,n)}else if(r[t]>=184){const n=r[t]-183;e(t+1+n);const i=R1(r,t+1,n);e(t+1+n+i);const s=Vt(r.slice(t+1+n,t+1+n+i));return{consumed:1+n+i,result:s}}else if(r[t]>=128){const n=r[t]-128;e(t+1+n);const i=Vt(r.slice(t+1,t+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:v3(r[t])}}function $h(r){const t=De(r,"data"),e=s2(t,0);return Q(e.consumed===t.length,"unexpected junk after rlp payload","data",r),e.result}function O1(r){const t=[];for(;r;)t.unshift(r&255),r>>=8;return t}function o2(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(o2(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=O1(n.length);return i.unshift(247+i.length),i.concat(n)}const t=Array.prototype.slice.call(De(r,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=O1(t.length);return e.unshift(183+e.length),e.concat(t)}const U1="0123456789abcdef";function jf(r){let t="0x";for(const e of o2(r))t+=U1[e>>4],t+=U1[e&15];return t}const sn=32,Vl=new Uint8Array(sn),E3=["then"],Yc={};function mf(r,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw e.error=t,e}var As;const Lf=class Lf extends Array{constructor(...e){const n=e[0];let i=e[1],s=(e[2]||[]).slice(),o=!0;n!==Yc&&(i=e,s=[],o=!1);super(i.length);ot(this,As,void 0);i.forEach((f,c)=>{this[c]=f});const a=s.reduce((f,c)=>(typeof c=="string"&&f.set(c,(f.get(c)||0)+1),f),new Map);if(H(this,As,Object.freeze(i.map((f,c)=>{const h=s[c];return h!=null&&a.get(h)===1?h:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(f,c,h)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const m=Te(c,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const w=f[m];return w instanceof Error&&mf(`index ${m}`,w),w}if(E3.indexOf(c)>=0)return Reflect.get(f,c,h);const d=f[c];if(d instanceof Function)return function(...m){return d.apply(this===h?f:this,m)};if(!(c in f))return f.getValue.apply(this===h?f:this,[c])}return Reflect.get(f,c,h)}})}toArray(){const e=[];return this.forEach((n,i)=>{n instanceof Error&&mf(`index ${i}`,n),e.push(n)}),e}toObject(){return B(this,As).reduce((e,n,i)=>(pt(n!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in e||(e[n]=this.getValue(n)),e),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=[],s=[];for(let o=e;o<n;o++)i.push(this[o]),s.push(B(this,As)[o]);return new Lf(Yc,i,s)}filter(e,n){const i=[],s=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&mf(`index ${o}`,a),e.call(n,a,o,this)&&(i.push(a),s.push(B(this,As)[o]))}return new Lf(Yc,i,s)}map(e,n){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&mf(`index ${s}`,o),i.push(e.call(n,o,s,this))}return i}getValue(e){const n=B(this,As).indexOf(e);if(n===-1)return;const i=this[n];return i instanceof Error&&mf(`property ${JSON.stringify(e)}`,i.error),i}static fromItems(e,n){return new Lf(Yc,e,n)}};As=new WeakMap;let z0=Lf;function D1(r){let t=Nn(r);return pt(t.length<=sn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:sn,offset:t.length}),t.length!==sn&&(t=$r(Nr([Vl.slice(t.length%sn),t]))),t}class cs{constructor(t,e,n,i){j(this,"name");j(this,"type");j(this,"localName");j(this,"dynamic");ae(this,{name:t,type:e,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){Q(!1,t,this.localName,e)}}var Ji,so,ca,m0;class Ql{constructor(){ot(this,ca);ot(this,Ji,void 0);ot(this,so,void 0);H(this,Ji,[]),H(this,so,0)}get data(){return Nr(B(this,Ji))}get length(){return B(this,so)}appendWriter(t){return Mt(this,ca,m0).call(this,$r(t.data))}writeBytes(t){let e=$r(t);const n=e.length%sn;return n&&(e=$r(Nr([e,Vl.slice(n)]))),Mt(this,ca,m0).call(this,e)}writeValue(t){return Mt(this,ca,m0).call(this,D1(t))}writeUpdatableValue(){const t=B(this,Ji).length;return B(this,Ji).push(Vl),H(this,so,B(this,so)+sn),e=>{B(this,Ji)[t]=D1(e)}}}Ji=new WeakMap,so=new WeakMap,ca=new WeakSet,m0=function(t){return B(this,Ji).push(t),H(this,so,B(this,so)+t.length),t.length};var wn,Dn,iu,a2;const dd=class dd{constructor(t,e){ot(this,iu);j(this,"allowLoose");ot(this,wn,void 0);ot(this,Dn,void 0);ae(this,{allowLoose:!!e}),H(this,wn,$r(t)),H(this,Dn,0)}get data(){return Vt(B(this,wn))}get dataLength(){return B(this,wn).length}get consumed(){return B(this,Dn)}get bytes(){return new Uint8Array(B(this,wn))}subReader(t){return new dd(B(this,wn).slice(B(this,Dn)+t),this.allowLoose)}readBytes(t,e){let n=Mt(this,iu,a2).call(this,0,t,!!e);return H(this,Dn,B(this,Dn)+n.length),n.slice(0,t)}readValue(){return qh(this.readBytes(sn))}readIndex(){return i3(this.readBytes(sn))}};wn=new WeakMap,Dn=new WeakMap,iu=new WeakSet,a2=function(t,e,n){let i=Math.ceil(e/sn)*sn;return B(this,Dn)+i>B(this,wn).length&&(this.allowLoose&&n&&B(this,Dn)+e<=B(this,wn).length?i=e:pt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:$r(B(this,wn)),length:B(this,wn).length,offset:B(this,Dn)+i})),B(this,wn).slice(B(this,Dn),B(this,Dn)+i)};let Kl=dd;function Jl(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function F3(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function f2(r,...t){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function _3(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jl(r.outputLen),Jl(r.blockLen)}function N3(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function B3(r,t){f2(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Fn={number:Jl,bool:F3,bytes:f2,hash:_3,exists:N3,output:B3};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C3=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),al=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),di=(r,t)=>r<<32-t|r>>>t,P3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!P3)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function S3(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Bc(r){if(typeof r=="string"&&(r=S3(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}class V0{clone(){return this._cloneInto()}}function Cc(r){const t=n=>r().update(Bc(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function k3(r){const t=(n,i)=>r(i).update(Bc(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}class c2 extends V0{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Fn.hash(t);const n=Bc(e);if(this.iHash=t.create(),!(this.iHash instanceof V0))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(n.length>this.iHash.blockLen?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return Fn.exists(this),this.iHash.update(t),this}digestInto(t){Fn.exists(this),Fn.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const u2=(r,t,e)=>new c2(r,t).update(e).digest();u2.create=(r,t)=>new c2(r,t);function I3(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(e>>i&s),a=Number(e&s),f=n?4:0,c=n?0:4;r.setUint32(t+f,o,n),r.setUint32(t+c,a,n)}class l2 extends V0{constructor(t,e,n,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=al(this.buffer)}update(t){Fn.exists(this);const{view:e,buffer:n,blockLen:i}=this;t=Bc(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const f=al(t);for(;i<=s-o;o+=i)this.process(f,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Fn.exists(this),Fn.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)e[f]=0;I3(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=al(t);this.get().forEach((f,c)=>a.setUint32(4*c,f,s))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%e&&t.buffer.set(n),t}}const T3=(r,t,e)=>r&t^~r&e,R3=(r,t,e)=>r&t^r&e^t&e,M3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ds=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ps=new Uint32Array(64);class O3 extends l2{constructor(){super(64,32,8,!1),this.A=ds[0]|0,this.B=ds[1]|0,this.C=ds[2]|0,this.D=ds[3]|0,this.E=ds[4]|0,this.F=ds[5]|0,this.G=ds[6]|0,this.H=ds[7]|0}get(){const{A:t,B:e,C:n,D:i,E:s,F:o,G:a,H:f}=this;return[t,e,n,i,s,o,a,f]}set(t,e,n,i,s,o,a,f){this.A=t|0,this.B=e|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=f|0}process(t,e){for(let d=0;d<16;d++,e+=4)ps[d]=t.getUint32(e,!1);for(let d=16;d<64;d++){const m=ps[d-15],w=ps[d-2],F=di(m,7)^di(m,18)^m>>>3,I=di(w,17)^di(w,19)^w>>>10;ps[d]=I+ps[d-7]+F+ps[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:f,G:c,H:h}=this;for(let d=0;d<64;d++){const m=di(a,6)^di(a,11)^di(a,25),w=h+m+T3(a,f,c)+M3[d]+ps[d]|0,I=(di(n,2)^di(n,13)^di(n,22))+R3(n,i,s)|0;h=c,c=f,f=a,a=o+w|0,o=s,s=i,i=n,n=w+I|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,f=f+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,f,c,h)}roundClean(){ps.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const U3=Cc(()=>new O3),qc=BigInt(2**32-1),jl=BigInt(32);function h2(r,t=!1){return t?{h:Number(r&qc),l:Number(r>>jl&qc)}:{h:Number(r>>jl&qc)|0,l:Number(r&qc)|0}}function D3(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:o}=h2(r[i],t);[e[i],n[i]]=[s,o]}return[e,n]}const L3=(r,t)=>BigInt(r>>>0)<<jl|BigInt(t>>>0),H3=(r,t,e)=>r>>>e,G3=(r,t,e)=>r<<32-e|t>>>e,z3=(r,t,e)=>r>>>e|t<<32-e,V3=(r,t,e)=>r<<32-e|t>>>e,Q3=(r,t,e)=>r<<64-e|t>>>e-32,K3=(r,t,e)=>r>>>e-32|t<<64-e,J3=(r,t)=>t,j3=(r,t)=>r,Y3=(r,t,e)=>r<<e|t>>>32-e,q3=(r,t,e)=>t<<e|r>>>32-e,W3=(r,t,e)=>t<<e-32|r>>>64-e,$3=(r,t,e)=>r<<e-32|t>>>64-e;function X3(r,t,e,n){const i=(t>>>0)+(n>>>0);return{h:r+e+(i/2**32|0)|0,l:i|0}}const Z3=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),t8=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,e8=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),r8=(r,t,e,n,i)=>t+e+n+i+(r/2**32|0)|0,n8=(r,t,e,n,i)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),i8=(r,t,e,n,i,s)=>t+e+n+i+s+(r/2**32|0)|0,xe={fromBig:h2,split:D3,toBig:L3,shrSH:H3,shrSL:G3,rotrSH:z3,rotrSL:V3,rotrBH:Q3,rotrBL:K3,rotr32H:J3,rotr32L:j3,rotlSH:Y3,rotlSL:q3,rotlBH:W3,rotlBL:$3,add:X3,add3L:Z3,add3H:t8,add4L:e8,add4H:r8,add5H:i8,add5L:n8},[s8,o8]=xe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),gs=new Uint32Array(80),xs=new Uint32Array(80);class Xh extends l2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:f,Eh:c,El:h,Fh:d,Fl:m,Gh:w,Gl:F,Hh:I,Hl:K}=this;return[t,e,n,i,s,o,a,f,c,h,d,m,w,F,I,K]}set(t,e,n,i,s,o,a,f,c,h,d,m,w,F,I,K){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=f|0,this.Eh=c|0,this.El=h|0,this.Fh=d|0,this.Fl=m|0,this.Gh=w|0,this.Gl=F|0,this.Hh=I|0,this.Hl=K|0}process(t,e){for(let $=0;$<16;$++,e+=4)gs[$]=t.getUint32(e),xs[$]=t.getUint32(e+=4);for(let $=16;$<80;$++){const xt=gs[$-15]|0,X=xs[$-15]|0,M=xe.rotrSH(xt,X,1)^xe.rotrSH(xt,X,8)^xe.shrSH(xt,X,7),at=xe.rotrSL(xt,X,1)^xe.rotrSL(xt,X,8)^xe.shrSL(xt,X,7),it=gs[$-2]|0,ft=xs[$-2]|0,Ct=xe.rotrSH(it,ft,19)^xe.rotrBH(it,ft,61)^xe.shrSH(it,ft,6),gt=xe.rotrSL(it,ft,19)^xe.rotrBL(it,ft,61)^xe.shrSL(it,ft,6),Gt=xe.add4L(at,gt,xs[$-7],xs[$-16]),_=xe.add4H(Gt,M,Ct,gs[$-7],gs[$-16]);gs[$]=_|0,xs[$]=Gt|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:f,Dh:c,Dl:h,Eh:d,El:m,Fh:w,Fl:F,Gh:I,Gl:K,Hh:D,Hl:Z}=this;for(let $=0;$<80;$++){const xt=xe.rotrSH(d,m,14)^xe.rotrSH(d,m,18)^xe.rotrBH(d,m,41),X=xe.rotrSL(d,m,14)^xe.rotrSL(d,m,18)^xe.rotrBL(d,m,41),M=d&w^~d&I,at=m&F^~m&K,it=xe.add5L(Z,X,at,o8[$],xs[$]),ft=xe.add5H(it,D,xt,M,s8[$],gs[$]),Ct=it|0,gt=xe.rotrSH(n,i,28)^xe.rotrBH(n,i,34)^xe.rotrBH(n,i,39),Gt=xe.rotrSL(n,i,28)^xe.rotrBL(n,i,34)^xe.rotrBL(n,i,39),_=n&s^n&a^s&a,u=i&o^i&f^o&f;D=I|0,Z=K|0,I=w|0,K=F|0,w=d|0,F=m|0,{h:d,l:m}=xe.add(c|0,h|0,ft|0,Ct|0),c=a|0,h=f|0,a=s|0,f=o|0,s=n|0,o=i|0;const x=xe.add3L(Ct,Gt,u);n=xe.add3H(x,ft,gt,_),i=x|0}({h:n,l:i}=xe.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=xe.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:f}=xe.add(this.Ch|0,this.Cl|0,a|0,f|0),{h:c,l:h}=xe.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:d,l:m}=xe.add(this.Eh|0,this.El|0,d|0,m|0),{h:w,l:F}=xe.add(this.Fh|0,this.Fl|0,w|0,F|0),{h:I,l:K}=xe.add(this.Gh|0,this.Gl|0,I|0,K|0),{h:D,l:Z}=xe.add(this.Hh|0,this.Hl|0,D|0,Z|0),this.set(n,i,s,o,a,f,c,h,d,m,w,F,I,K,D,Z)}roundClean(){gs.fill(0),xs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class a8 extends Xh{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f8 extends Xh{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const c8=Cc(()=>new Xh);Cc(()=>new a8);Cc(()=>new f8);function u8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const L1=u8();L1.crypto||L1.msCrypto;function l8(r,t){const e={sha256:U3,sha512:c8}[r];return Q(e!=null,"invalid hmac algorithm","algorithm",r),u2.create(e,t)}let d2=!1;const p2=function(r,t,e){return l8(r,t).update(e).digest()};let g2=p2;function Pc(r,t,e){const n=De(t,"key"),i=De(e,"data");return Vt(g2(r,n,i))}Pc._=p2;Pc.lock=function(){d2=!0};Pc.register=function(r){if(d2)throw new Error("computeHmac is locked");g2=r};Object.freeze(Pc);const[x2,y2,m2]=[[],[],[]],h8=BigInt(0),bf=BigInt(1),d8=BigInt(2),p8=BigInt(7),g8=BigInt(256),x8=BigInt(113);for(let r=0,t=bf,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],x2.push(2*(5*n+e)),y2.push((r+1)*(r+2)/2%64);let i=h8;for(let s=0;s<7;s++)t=(t<<bf^(t>>p8)*x8)%g8,t&d8&&(i^=bf<<(bf<<BigInt(s))-bf);m2.push(i)}const[y8,m8]=xe.split(m2,!0),H1=(r,t,e)=>e>32?xe.rotlBH(r,t,e):xe.rotlSH(r,t,e),G1=(r,t,e)=>e>32?xe.rotlBL(r,t,e):xe.rotlSL(r,t,e);function b8(r,t=24){const e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)e[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,f=(o+2)%10,c=e[f],h=e[f+1],d=H1(c,h,1)^e[a],m=G1(c,h,1)^e[a+1];for(let w=0;w<50;w+=10)r[o+w]^=d,r[o+w+1]^=m}let i=r[2],s=r[3];for(let o=0;o<24;o++){const a=y2[o],f=H1(i,s,a),c=G1(i,s,a),h=x2[o];i=r[h],s=r[h+1],r[h]=f,r[h+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)e[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~e[(a+2)%10]&e[(a+4)%10]}r[0]^=y8[n],r[1]^=m8[n]}e.fill(0)}class Su extends V0{constructor(t,e,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Fn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=C3(this.state)}keccak(){b8(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Fn.exists(this);const{blockLen:e,state:n}=this;t=Bc(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(e-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:i}=this;t[n]^=e,e&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Fn.exists(this,!1),Fn.bytes(t),this.finish();const e=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(e.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Fn.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Fn.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Su(e,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ks=(r,t,e)=>Cc(()=>new Su(t,r,e));Ks(6,144,224/8);Ks(6,136,256/8);Ks(6,104,384/8);Ks(6,72,512/8);Ks(1,144,224/8);const w8=Ks(1,136,256/8);Ks(1,104,384/8);Ks(1,72,512/8);const b2=(r,t,e)=>k3((n={})=>new Su(t,r,n.dkLen===void 0?e:n.dkLen,!0));b2(31,168,128/8);b2(31,136,256/8);let w2=!1;const A2=function(r){return w8(r)};let v2=A2;function gr(r){const t=De(r,"data");return Vt(v2(t))}gr._=A2;gr.lock=function(){w2=!0};gr.register=function(r){if(w2)throw new TypeError("keccak256 is locked");v2=r};Object.freeze(gr);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const je=BigInt(0),cr=BigInt(1),Ms=BigInt(2),Tf=BigInt(3),z1=BigInt(8),Fr=Object.freeze({a:je,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:cr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),V1=(r,t)=>(r+t/Ms)/t,Wc={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:t}=Fr,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-cr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=e,o=BigInt("0x100000000000000000000000000000000"),a=V1(s*r,t),f=V1(-n*r,t);let c=Tt(r-a*e-f*i,t),h=Tt(-a*n-f*s,t);const d=c>o,m=h>o;if(d&&(c=t-c),m&&(h=t-h),c>o||h>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:d,k1:c,k2neg:m,k2:h}}},oi=32,Wa=32,A8=32,Q0=oi+1,K0=2*oi+1;function Q1(r){const{a:t,b:e}=Fr,n=Tt(r*r),i=Tt(n*r);return Tt(i+t*r+e)}const $c=Fr.a===je;class E2 extends Error{constructor(t){super(t)}}function K1(r){if(!(r instanceof tr))throw new TypeError("JacobianPoint expected")}class tr{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof rr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(rr.ZERO)?tr.ZERO:new tr(t.x,t.y,cr)}static toAffineBatch(t){const e=N8(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(e[i]))}static normalizeZ(t){return tr.toAffineBatch(t).map(tr.fromAffine)}equals(t){K1(t);const{x:e,y:n,z:i}=this,{x:s,y:o,z:a}=t,f=Tt(i*i),c=Tt(a*a),h=Tt(e*c),d=Tt(s*f),m=Tt(Tt(n*a)*c),w=Tt(Tt(o*i)*f);return h===d&&m===w}negate(){return new tr(this.x,Tt(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,i=Tt(t*t),s=Tt(e*e),o=Tt(s*s),a=t+s,f=Tt(Ms*(Tt(a*a)-i-o)),c=Tt(Tf*i),h=Tt(c*c),d=Tt(h-Ms*f),m=Tt(c*(f-d)-z1*o),w=Tt(Ms*e*n);return new tr(d,m,w)}add(t){K1(t);const{x:e,y:n,z:i}=this,{x:s,y:o,z:a}=t;if(s===je||o===je)return this;if(e===je||n===je)return t;const f=Tt(i*i),c=Tt(a*a),h=Tt(e*c),d=Tt(s*f),m=Tt(Tt(n*a)*c),w=Tt(Tt(o*i)*f),F=Tt(d-h),I=Tt(w-m);if(F===je)return I===je?this.double():tr.ZERO;const K=Tt(F*F),D=Tt(F*K),Z=Tt(h*K),$=Tt(I*I-D-Ms*Z),xt=Tt(I*(Z-$)-m*D),X=Tt(i*a*F);return new tr($,xt,X)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=tr.ZERO;if(typeof t=="bigint"&&t===je)return e;let n=Y1(t);if(n===cr)return this;if(!$c){let d=e,m=this;for(;n>je;)n&cr&&(d=d.add(m)),m=m.double(),n>>=cr;return d}let{k1neg:i,k1:s,k2neg:o,k2:a}=Wc.splitScalar(n),f=e,c=e,h=this;for(;s>je||a>je;)s&cr&&(f=f.add(h)),a&cr&&(c=c.add(h)),h=h.double(),s>>=cr,a>>=cr;return i&&(f=f.negate()),o&&(c=c.negate()),c=new tr(Tt(c.x*Wc.beta),c.y,c.z),f.add(c)}precomputeWindow(t){const e=$c?128/t+1:256/t+1,n=[];let i=this,s=i;for(let o=0;o<e;o++){s=i,n.push(s);for(let a=1;a<2**(t-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(t,e){!e&&this.equals(tr.BASE)&&(e=rr.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&Yl.get(e);i||(i=this.precomputeWindow(n),e&&n!==1&&(i=tr.normalizeZ(i),Yl.set(e,i)));let s=tr.ZERO,o=tr.BASE;const a=1+($c?128/n:256/n),f=2**(n-1),c=BigInt(2**n-1),h=2**n,d=BigInt(n);for(let m=0;m<a;m++){const w=m*f;let F=Number(t&c);t>>=d,F>f&&(F-=h,t+=cr);const I=w,K=w+Math.abs(F)-1,D=m%2!==0,Z=F<0;F===0?o=o.add(Xc(D,i[I])):s=s.add(Xc(Z,i[K]))}return{p:s,f:o}}multiply(t,e){let n=Y1(t),i,s;if($c){const{k1neg:o,k1:a,k2neg:f,k2:c}=Wc.splitScalar(n);let{p:h,f:d}=this.wNAF(a,e),{p:m,f:w}=this.wNAF(c,e);h=Xc(o,h),m=Xc(f,m),m=new tr(Tt(m.x*Wc.beta),m.y,m.z),i=h.add(m),s=d.add(w)}else{const{p:o,f:a}=this.wNAF(n,e);i=o,s=a}return tr.normalizeZ([i,s])[0]}toAffine(t){const{x:e,y:n,z:i}=this,s=this.equals(tr.ZERO);t==null&&(t=s?z1:Sc(i));const o=t,a=Tt(o*o),f=Tt(a*o),c=Tt(e*a),h=Tt(n*f),d=Tt(i*o);if(s)return rr.ZERO;if(d!==cr)throw new Error("invZ was invalid");return new rr(c,h)}}tr.BASE=new tr(Fr.Gx,Fr.Gy,cr);tr.ZERO=new tr(je,cr,je);function Xc(r,t){const e=t.negate();return r?e:t}const Yl=new WeakMap;class rr{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Yl.delete(this)}hasEvenY(){return this.y%Ms===je}static fromCompressedHex(t){const e=t.length===32,n=Ds(e?t:t.subarray(1));if(!fl(n))throw new Error("Point is not on curve");const i=Q1(n);let s=_8(i);const o=(s&cr)===cr;e?o&&(s=Tt(-s)):(t[0]&1)===1!==o&&(s=Tt(-s));const a=new rr(n,s);return a.assertValidity(),a}static fromUncompressedHex(t){const e=Ds(t.subarray(1,oi+1)),n=Ds(t.subarray(oi+1,oi*2+1)),i=new rr(e,n);return i.assertValidity(),i}static fromHex(t){const e=Yf(t),n=e.length,i=e[0];if(n===oi)return this.fromCompressedHex(e);if(n===Q0&&(i===2||i===3))return this.fromCompressedHex(e);if(n===K0&&i===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Q0} compressed bytes or ${K0} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return rr.BASE.multiply(Wf(t))}static fromSignature(t,e,n){const{r:i,s}=k8(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=F2(Yf(t)),{n:a}=Fr,f=n===2||n===3?i+a:i,c=Sc(f,a),h=Tt(-o*c,a),d=Tt(s*c,a),m=n&1?"03":"02",w=rr.fromHex(m+ta(f)),F=rr.BASE.multiplyAndAddUnsafe(w,h,d);if(!F)throw new Error("Cannot recover signature: point at infinify");return F.assertValidity(),F}toRawBytes(t=!1){return yo(this.toHex(t))}toHex(t=!1){const e=ta(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${ta(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!fl(e)||!fl(n))throw new Error(t);const i=Tt(n*n),s=Q1(e);if(Tt(i-s)!==je)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new rr(this.x,Tt(-this.y))}double(){return tr.fromAffine(this).double().toAffine()}add(t){return tr.fromAffine(this).add(tr.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return tr.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const i=tr.fromAffine(this),s=e===je||e===cr||this!==rr.BASE?i.multiplyUnsafe(e):i.multiply(e),o=tr.fromAffine(t).multiplyUnsafe(n),a=s.add(o);return a.equals(tr.ZERO)?void 0:a.toAffine()}}rr.BASE=new rr(Fr.Gx,Fr.Gy);rr.ZERO=new rr(je,je);function J1(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function j1(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${$a(r)}`);const t=r[1],e=r.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ds(e),left:r.subarray(t+2)}}function v8(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${$a(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=j1(r.subarray(2)),{data:n,left:i}=j1(e);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${$a(i)}`);return{r:t,s:n}}let Zo=class b0{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const i=e?$a(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new b0(J0(i.slice(0,64)),J0(i.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:i}=v8(e?t:yo(t));return new b0(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!qf(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!qf(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=Fr.n>>cr;return this.s>t}normalizeS(){return this.hasHighS()?new b0(this.r,Tt(-this.s,Fr.n)):this}toDERRawBytes(){return yo(this.toDERHex())}toDERHex(){const t=J1(wf(this.s)),e=J1(wf(this.r)),n=t.length/2,i=e.length/2,s=wf(n),o=wf(i);return`30${wf(i+n+4)}02${o}${e}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return yo(this.toCompactHex())}toCompactHex(){return ta(this.r)+ta(this.s)}};function bs(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const t=r.reduce((n,i)=>n+i.length,0),e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){const s=r[n];e.set(s,i),i+=s.length}return e}const E8=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function $a(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<r.length;e++)t+=E8[r[e]];return t}const F8=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function ta(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(je<=r&&r<F8))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function ql(r){const t=yo(ta(r));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function wf(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function J0(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function yo(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,i=r.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[e]=s}return t}function Ds(r){return J0($a(r))}function Yf(r){return r instanceof Uint8Array?Uint8Array.from(r):yo(r)}function Y1(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&qf(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Tt(r,t=Fr.P){const e=r%t;return e>=je?e:t+e}function In(r,t){const{P:e}=Fr;let n=r;for(;t-- >je;)n*=n,n%=e;return n}function _8(r){const{P:t}=Fr,e=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),f=r*r*r%t,c=f*f*r%t,h=In(c,Tf)*c%t,d=In(h,Tf)*c%t,m=In(d,Ms)*f%t,w=In(m,n)*m%t,F=In(w,i)*w%t,I=In(F,o)*F%t,K=In(I,a)*I%t,D=In(K,o)*F%t,Z=In(D,Tf)*c%t,$=In(Z,s)*w%t,xt=In($,e)*f%t,X=In(xt,Ms);if(X*X%t!==r)throw new Error("Cannot find square root");return X}function Sc(r,t=Fr.P){if(r===je||t<=je)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Tt(r,t),n=t,i=je,s=cr;for(;e!==je;){const a=n/e,f=n%e,c=i-s*a;n=e,e=f,i=s,s=c}if(n!==cr)throw new Error("invert: does not exist");return Tt(i,t)}function N8(r,t=Fr.P){const e=new Array(r.length),n=r.reduce((s,o,a)=>o===je?s:(e[a]=s,Tt(s*o,t)),cr),i=Sc(n,t);return r.reduceRight((s,o,a)=>o===je?s:(e[a]=Tt(s*e[a],t),Tt(s*o,t)),i),e}function B8(r){const t=r.length*8-Wa*8,e=Ds(r);return t>0?e>>BigInt(t):e}function F2(r,t=!1){const e=B8(r);if(t)return e;const{n}=Fr;return e>=n?e-n:e}let ea,Rf;class C8{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Os.hmacSha256(this.k,...t)}hmacSync(...t){return Rf(this.k,...t)}checkSync(){if(typeof Rf!="function")throw new E2("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return bs(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return bs(...e)}}function qf(r){return je<r&&r<Fr.n}function fl(r){return je<r&&r<Fr.P}function P8(r,t,e,n=!0){const{n:i}=Fr,s=F2(r,!0);if(!qf(s))return;const o=Sc(s,i),a=rr.BASE.multiply(s),f=Tt(a.x,i);if(f===je)return;const c=Tt(o*Tt(t+e*f,i),i);if(c===je)return;let h=new Zo(f,c),d=(a.x===h.r?0:2)|Number(a.y&cr);return n&&h.hasHighS()&&(h=h.normalizeS(),d^=1),{sig:h,recovery:d}}function Wf(r){let t;if(typeof r=="bigint")t=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)t=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Wa)throw new Error("Expected 32 bytes of private key");t=J0(r)}else if(r instanceof Uint8Array){if(r.length!==Wa)throw new Error("Expected 32 bytes of private key");t=Ds(r)}else throw new TypeError("Expected valid private key");if(!qf(t))throw new Error("Expected private key: 0 < key < n");return t}function S8(r){return r instanceof rr?(r.assertValidity(),r):rr.fromHex(r)}function k8(r){if(r instanceof Zo)return r.assertValidity(),r;try{return Zo.fromDER(r)}catch{return Zo.fromCompact(r)}}function I8(r,t=!1){return rr.fromPrivateKey(r).toRawBytes(t)}function T8(r,t,e,n=!1){return rr.fromSignature(r,t,e).toRawBytes(n)}function q1(r){const t=r instanceof Uint8Array,e=typeof r=="string",n=(t||e)&&r.length;return t?n===Q0||n===K0:e?n===Q0*2||n===K0*2:r instanceof rr}function R8(r,t,e=!1){if(q1(r))throw new TypeError("getSharedSecret: first arg must be private key");if(!q1(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=S8(t);return n.assertValidity(),n.multiply(Wf(r)).toRawBytes(e)}function _2(r){const t=r.length>oi?r.slice(0,oi):r;return Ds(t)}function M8(r){const t=_2(r),e=Tt(t,Fr.n);return N2(e<je?t:e)}function N2(r){return ql(r)}function O8(r,t,e){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);const n=Yf(r),i=Wf(t),s=[N2(i),M8(n)];if(e!=null){e===!0&&(e=Os.randomBytes(oi));const f=Yf(e);if(f.length!==oi)throw new Error(`sign: Expected ${oi} bytes of extra data`);s.push(f)}const o=bs(...s),a=_2(n);return{seed:o,m:a,d:i}}function U8(r,t){const{sig:e,recovery:n}=r,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},t),o=i?e.toDERRawBytes():e.toCompactRawBytes();return s?[o,n]:o}function D8(r,t,e={}){const{seed:n,m:i,d:s}=O8(r,t,e.extraEntropy),o=new C8(A8,Wa);o.reseedSync(n);let a;for(;!(a=P8(o.generateSync(),i,s,e.canonical));)o.reseedSync();return U8(a,e)}rr.BASE._setWindowSize(8);const yn={node:gg,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Zc={},Os={bytesToHex:$a,hexToBytes:yo,concatBytes:bs,mod:Tt,invert:Sc,isValidPrivateKey(r){try{return Wf(r),!0}catch{return!1}},_bigintTo32Bytes:ql,_normalizePrivateKey:Wf,hashToPrivateKey:r=>{r=Yf(r);const t=Wa+8;if(r.length<t||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=Tt(Ds(r),Fr.n-cr)+cr;return ql(e)},randomBytes:(r=32)=>{if(yn.web)return yn.web.getRandomValues(new Uint8Array(r));if(yn.node){const{randomBytes:t}=yn.node;return Uint8Array.from(t(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Os.hashToPrivateKey(Os.randomBytes(Wa+8)),precompute(r=8,t=rr.BASE){const e=t===rr.BASE?t:new rr(t.x,t.y);return e._setWindowSize(r),e.multiply(Tf),e},sha256:async(...r)=>{if(yn.web){const t=await yn.web.subtle.digest("SHA-256",bs(...r));return new Uint8Array(t)}else if(yn.node){const{createHash:t}=yn.node,e=t("sha256");return r.forEach(n=>e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...t)=>{if(yn.web){const e=await yn.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=bs(...t),i=await yn.web.subtle.sign("HMAC",e,n);return new Uint8Array(i)}else if(yn.node){const{createHmac:e}=yn.node,n=e("sha256",r);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...t)=>{let e=Zc[r];if(e===void 0){const n=await Os.sha256(Uint8Array.from(r,i=>i.charCodeAt(0)));e=bs(n,n),Zc[r]=e}return Os.sha256(e,...t)},taggedHashSync:(r,...t)=>{if(typeof ea!="function")throw new E2("sha256Sync is undefined, you need to set it");let e=Zc[r];if(e===void 0){const n=ea(Uint8Array.from(r,i=>i.charCodeAt(0)));e=bs(n,n),Zc[r]=e}return ea(e,...t)},_JacobianPoint:tr};Object.defineProperties(Os,{sha256Sync:{configurable:!1,get(){return ea},set(r){ea||(ea=r)}},hmacSha256Sync:{configurable:!1,get(){return Rf},set(r){Rf||(Rf=r)}}});const Wl="0x0000000000000000000000000000000000000000",W1="0x0000000000000000000000000000000000000000000000000000000000000000",$1=BigInt(0),X1=BigInt(1),Z1=BigInt(2),tp=BigInt(27),ep=BigInt(28),t0=BigInt(35),Ro={};function rp(r){return vo(Nn(r),32)}var ua,la,ha,oo;const Zn=class Zn{constructor(t,e,n,i){ot(this,ua,void 0);ot(this,la,void 0);ot(this,ha,void 0);ot(this,oo,void 0);Bu(t,Ro,"Signature"),H(this,ua,e),H(this,la,n),H(this,ha,i),H(this,oo,null)}get r(){return B(this,ua)}set r(t){Q(Xo(t)===32,"invalid r","value",t),H(this,ua,Vt(t))}get s(){return B(this,la)}set s(t){Q(Xo(t)===32,"invalid s","value",t);const e=Vt(t);Q(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),H(this,la,e)}get v(){return B(this,ha)}set v(t){const e=Te(t,"value");Q(e===27||e===28,"invalid v","v",t),H(this,ha,e)}get networkV(){return B(this,oo)}get legacyChainId(){const t=this.networkV;return t==null?null:Zn.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=De(this.s);return this.yParity&&(t[0]|=128),Vt(t)}get compactSerialized(){return Nr([this.r,this.yParityAndS])}get serialized(){return Nr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Zn(Ro,this.r,this.s,this.v);return this.networkV&&H(t,oo,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=ne(t,"v");return e==tp||e==ep?$1:(Q(e>=t0,"invalid EIP-155 v","v",t),(e-t0)/Z1)}static getChainIdV(t,e){return ne(t)*Z1+BigInt(35+e-27)}static getNormalizedV(t){const e=ne(t);return e===$1||e===tp?27:e===X1||e===ep?28:(Q(e>=t0,"invalid v","v",t),e&X1?27:28)}static from(t){function e(c,h){Q(c,h,"signature",t)}if(t==null)return new Zn(Ro,W1,W1,27);if(typeof t=="string"){const c=De(t,"signature");if(c.length===64){const h=Vt(c.slice(0,32)),d=c.slice(32,64),m=d[0]&128?28:27;return d[0]&=127,new Zn(Ro,h,Vt(d),m)}if(c.length===65){const h=Vt(c.slice(0,32)),d=c.slice(32,64);e((d[0]&128)===0,"non-canonical s");const m=Zn.getNormalizedV(c[64]);return new Zn(Ro,h,Vt(d),m)}e(!1,"invalid raw signature length")}if(t instanceof Zn)return t.clone();const n=t.r;e(n!=null,"missing r");const i=rp(n),s=function(c,h){if(c!=null)return rp(c);if(h!=null){e(Ar(h,32),"invalid yParityAndS");const d=De(h);return d[0]&=127,Vt(d)}e(!1,"missing s")}(t.s,t.yParityAndS);e((De(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(c,h,d){if(c!=null){const m=ne(c);return{networkV:m>=t0?m:void 0,v:Zn.getNormalizedV(m)}}if(h!=null)return e(Ar(h,32),"invalid yParityAndS"),{v:De(h)[0]&128?28:27};if(d!=null){switch(Te(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),f=new Zn(Ro,i,s,a);return o&&H(f,oo,o),e(t.yParity==null||Te(t.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};ua=new WeakMap,la=new WeakMap,ha=new WeakMap,oo=new WeakMap;let ci=Zn;Os.hmacSha256Sync=function(r,...t){return De(Pc("sha256",r,Nr(t)))};var ji;const Ys=class Ys{constructor(t){ot(this,ji,void 0);Q(Xo(t)===32,"invalid private key","privateKey","[REDACTED]"),H(this,ji,Vt(t))}get privateKey(){return B(this,ji)}get publicKey(){return Ys.computePublicKey(B(this,ji))}get compressedPublicKey(){return Ys.computePublicKey(B(this,ji),!0)}sign(t){Q(Xo(t)===32,"invalid digest length","digest",t);const[e,n]=D8($r(t),$r(B(this,ji)),{recovered:!0,canonical:!0}),i=Zo.fromHex(e);return ci.from({r:Gs("0x"+i.r.toString(16),32),s:Gs("0x"+i.s.toString(16),32),v:n?28:27})}computeSharedSecret(t){const e=Ys.computePublicKey(t);return Vt(R8($r(B(this,ji)),De(e)))}static computePublicKey(t,e){let n=De(t,"key");if(n.length===32){const s=I8(n,!!e);return Vt(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=rr.fromHex(n);return Vt(i.toRawBytes(e))}static recoverPublicKey(t,e){Q(Xo(t)===32,"invalid digest length","digest",t);const n=ci.from(e),i=Zo.fromCompact($r(Nr([n.r,n.s]))).toDERRawBytes(),s=T8($r(t),i,n.yParity);return Q(s!=null,"invalid signature for digest","signature",e),Vt(s)}static addPoints(t,e,n){const i=rr.fromHex(Ys.computePublicKey(t).substring(2)),s=rr.fromHex(Ys.computePublicKey(e).substring(2));return"0x"+i.add(s).toHex(!!n)}};ji=new WeakMap;let $f=Ys;const L8=BigInt(0),H8=BigInt(36);function np(r){r=r.toLowerCase();const t=r.substring(2).split(""),e=new Uint8Array(40);for(let i=0;i<40;i++)e[i]=t[i].charCodeAt(0);const n=De(gr(e));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Zh={};for(let r=0;r<10;r++)Zh[String(r)]=String(r);for(let r=0;r<26;r++)Zh[String.fromCharCode(65+r)]=String(10+r);const ip=15;function G8(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let t=r.split("").map(n=>Zh[n]).join("");for(;t.length>=ip;){let n=t.substring(0,ip);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const z8=function(){const r={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];r[e]=BigInt(t)}return r}();function V8(r){r=r.toLowerCase();let t=L8;for(let e=0;e<r.length;e++)t=t*H8+z8[r[e]];return t}function ar(r){if(Q(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const t=np(r);return Q(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===r,"bad address checksum","address",r),t}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Q(r.substring(2,4)===G8(r),"bad icap checksum","address",r);let t=V8(r.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return np("0x"+t)}Q(!1,"invalid address","address",r)}function Q8(r){const t=ar(r.from);let n=ne(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ar(wr(gr(jf([t,n])),12))}function B2(r){return r&&typeof r.getAddress=="function"}async function cl(r,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(pt(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),Q(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),ar(e)}function Si(r,t){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?ar(r):(pt(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),cl(r,t.resolveName(r)));if(B2(r))return cl(r,r.getAddress());if(r&&typeof r.then=="function")return cl(r,r);Q(!1,"unsupported addressable value","target",r)}const Li={};function It(r,t){let e=!1;return t<0&&(e=!0,t*=-1),new Zr(Li,`${e?"":"u"}int${t}`,r,{signed:e,width:t})}function We(r,t){return new Zr(Li,`bytes${t||""}`,r,{size:t})}const sp=Symbol.for("_ethers_typed");var ao;const Hi=class Hi{constructor(t,e,n,i){j(this,"type");j(this,"value");ot(this,ao,void 0);j(this,"_typedSymbol");i==null&&(i=null),Bu(Li,t,"Typed"),ae(this,{_typedSymbol:sp,type:e,value:n}),H(this,ao,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return B(this,ao)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return B(this,ao)===!0?-1:B(this,ao)===!1?this.value.length:null}static from(t,e){return new Hi(Li,t,e)}static uint8(t){return It(t,8)}static uint16(t){return It(t,16)}static uint24(t){return It(t,24)}static uint32(t){return It(t,32)}static uint40(t){return It(t,40)}static uint48(t){return It(t,48)}static uint56(t){return It(t,56)}static uint64(t){return It(t,64)}static uint72(t){return It(t,72)}static uint80(t){return It(t,80)}static uint88(t){return It(t,88)}static uint96(t){return It(t,96)}static uint104(t){return It(t,104)}static uint112(t){return It(t,112)}static uint120(t){return It(t,120)}static uint128(t){return It(t,128)}static uint136(t){return It(t,136)}static uint144(t){return It(t,144)}static uint152(t){return It(t,152)}static uint160(t){return It(t,160)}static uint168(t){return It(t,168)}static uint176(t){return It(t,176)}static uint184(t){return It(t,184)}static uint192(t){return It(t,192)}static uint200(t){return It(t,200)}static uint208(t){return It(t,208)}static uint216(t){return It(t,216)}static uint224(t){return It(t,224)}static uint232(t){return It(t,232)}static uint240(t){return It(t,240)}static uint248(t){return It(t,248)}static uint256(t){return It(t,256)}static uint(t){return It(t,256)}static int8(t){return It(t,-8)}static int16(t){return It(t,-16)}static int24(t){return It(t,-24)}static int32(t){return It(t,-32)}static int40(t){return It(t,-40)}static int48(t){return It(t,-48)}static int56(t){return It(t,-56)}static int64(t){return It(t,-64)}static int72(t){return It(t,-72)}static int80(t){return It(t,-80)}static int88(t){return It(t,-88)}static int96(t){return It(t,-96)}static int104(t){return It(t,-104)}static int112(t){return It(t,-112)}static int120(t){return It(t,-120)}static int128(t){return It(t,-128)}static int136(t){return It(t,-136)}static int144(t){return It(t,-144)}static int152(t){return It(t,-152)}static int160(t){return It(t,-160)}static int168(t){return It(t,-168)}static int176(t){return It(t,-176)}static int184(t){return It(t,-184)}static int192(t){return It(t,-192)}static int200(t){return It(t,-200)}static int208(t){return It(t,-208)}static int216(t){return It(t,-216)}static int224(t){return It(t,-224)}static int232(t){return It(t,-232)}static int240(t){return It(t,-240)}static int248(t){return It(t,-248)}static int256(t){return It(t,-256)}static int(t){return It(t,-256)}static bytes1(t){return We(t,1)}static bytes2(t){return We(t,2)}static bytes3(t){return We(t,3)}static bytes4(t){return We(t,4)}static bytes5(t){return We(t,5)}static bytes6(t){return We(t,6)}static bytes7(t){return We(t,7)}static bytes8(t){return We(t,8)}static bytes9(t){return We(t,9)}static bytes10(t){return We(t,10)}static bytes11(t){return We(t,11)}static bytes12(t){return We(t,12)}static bytes13(t){return We(t,13)}static bytes14(t){return We(t,14)}static bytes15(t){return We(t,15)}static bytes16(t){return We(t,16)}static bytes17(t){return We(t,17)}static bytes18(t){return We(t,18)}static bytes19(t){return We(t,19)}static bytes20(t){return We(t,20)}static bytes21(t){return We(t,21)}static bytes22(t){return We(t,22)}static bytes23(t){return We(t,23)}static bytes24(t){return We(t,24)}static bytes25(t){return We(t,25)}static bytes26(t){return We(t,26)}static bytes27(t){return We(t,27)}static bytes28(t){return We(t,28)}static bytes29(t){return We(t,29)}static bytes30(t){return We(t,30)}static bytes31(t){return We(t,31)}static bytes32(t){return We(t,32)}static address(t){return new Hi(Li,"address",t)}static bool(t){return new Hi(Li,"bool",!!t)}static bytes(t){return new Hi(Li,"bytes",t)}static string(t){return new Hi(Li,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Hi(Li,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===sp}static dereference(t,e){if(Hi.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};ao=new WeakMap;let Zr=Hi;class K8 extends cs{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=Zr.dereference(e,"string");try{n=ar(n)}catch(i){return this._throwError(i.message,e)}return t.writeValue(n)}decode(t){return ar(Gs(t.readValue(),20))}}class J8 extends cs{constructor(e){super(e.name,e.type,"_",e.dynamic);j(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function C2(r,t,e){let n=[];if(Array.isArray(e))n=e;else if(e&&typeof e=="object"){let f={};n=t.map(c=>{const h=c.localName;return pt(h,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),pt(!f[h],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:e}),f[h]=!0,e[h]})}else Q(!1,"invalid tuple value","tuple",e);Q(t.length===n.length,"types/value length mismatch","tuple",e);let i=new Ql,s=new Ql,o=[];t.forEach((f,c)=>{let h=n[c];if(f.dynamic){let d=s.length;f.encode(s,h);let m=i.writeUpdatableValue();o.push(w=>{m(w+d)})}else f.encode(i,h)}),o.forEach(f=>{f(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(s),a}function P2(r,t){let e=[],n=[],i=r.subReader(0);return t.forEach(s=>{let o=null;if(s.dynamic){let a=r.readIndex(),f=i.subReader(a);try{o=s.decode(f)}catch(c){if(ai(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(ai(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");e.push(o),n.push(s.localName||null)}),z0.fromItems(e,n)}class j8 extends cs{constructor(e,n,i){const s=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",s,i,o);j(this,"coder");j(this,"length");ae(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(e);return n}encode(e,n){const i=Zr.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,e.writeValue(i.length)),Wx(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return C2(e,o,i)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),pt(n*sn<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*sn,length:e.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new J8(this.coder));return P2(e,i)}}class Y8 extends cs{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=Zr.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class S2 extends cs{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=$r(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class q8 extends S2{constructor(t){super("bytes",t)}decode(t){return Vt(super.decode(t))}}class W8 extends cs{constructor(e,n){let i="bytes"+String(e);super(i,i,n,!1);j(this,"size");ae(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let i=$r(Zr.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(i)}decode(e){return Vt(e.readBytes(this.size))}}const $8=new Uint8Array([]);class X8 extends cs{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes($8)}decode(t){return t.readBytes(0),null}}const Z8=BigInt(0),t4=BigInt(1),e4=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class r4 extends cs{constructor(e,n,i){const s=(n?"int":"uint")+e*8;super(s,s,i,!1);j(this,"size");j(this,"signed");ae(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let i=ne(Zr.dereference(n,this.type)),s=Ff(e4,sn*8);if(this.signed){let o=Ff(s,this.size*8-1);(i>o||i<-(o+t4))&&this._throwError("value out-of-bounds",n),i=Zx(i,8*sn)}else(i<Z8||i>Ff(s,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(i)}decode(e){let n=Ff(e.readValue(),this.size*8);return this.signed&&(n=n3(n,this.size*8)),n}}class n4 extends S2{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,xo(Zr.dereference(e,"string")))}decode(t){return Wh(super.decode(t))}}class e0 extends cs{constructor(e,n){let i=!1;const s=[];e.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,n,i);j(this,"coders");ae(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(i=>{e.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[s]))}),Object.freeze(e)}encode(e,n){const i=Zr.dereference(n,"tuple");return C2(e,this.coders,i)}decode(e){return P2(e,this.coders)}}function Eo(r){return gr(xo(r))}function i4(r){let t=0;function e(){return r[t++]<<8|r[t++]}let n=e(),i=1,s=[0,1];for(let X=1;X<n;X++)s.push(i+=e());let o=e(),a=t;t+=o;let f=0,c=0;function h(){return f==0&&(c=c<<8|r[t++],f=8),c>>--f&1}const d=31,m=2**d,w=m>>>1,F=w>>1,I=m-1;let K=0;for(let X=0;X<d;X++)K=K<<1|h();let D=[],Z=0,$=m;for(;;){let X=Math.floor(((K-Z+1)*i-1)/$),M=0,at=n;for(;at-M>1;){let Ct=M+at>>>1;X<s[Ct]?at=Ct:M=Ct}if(M==0)break;D.push(M);let it=Z+Math.floor($*s[M]/i),ft=Z+Math.floor($*s[M+1]/i)-1;for(;!((it^ft)&w);)K=K<<1&I|h(),it=it<<1&I,ft=ft<<1&I|1;for(;it&~ft&F;)K=K&w|K<<1&I>>>1|h(),it=it<<1^w,ft=(ft^w)<<1|w|1;Z=it,$=1+ft-it}let xt=n-4;return D.map(X=>{switch(X-xt){case 3:return xt+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return xt+256+(r[a++]<<8|r[a++]);case 1:return xt+r[a++];default:return X-1}})}function s4(r){let t=0;return()=>r[t++]}function k2(r){return s4(i4(o4(r)))}function o4(r){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>t[i.charCodeAt(0)]=s);let e=r.length,n=new Uint8Array(6*e>>3);for(let i=0,s=0,o=0,a=0;i<e;i++)a=a<<6|t[r.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function a4(r){return r&1?~r>>1:r>>1}function f4(r,t){let e=Array(r);for(let n=0,i=0;n<r;n++)e[n]=i+=a4(t());return e}function Vs(r,t=0){let e=[];for(;;){let n=r(),i=r();if(!i)break;t+=n;for(let s=0;s<i;s++)e.push(t+s);t+=i+1}return e}function I2(r){return Xf(()=>{let t=Vs(r);if(t.length)return t})}function T2(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(c4(e,r))}for(;;){let e=r()-1;if(e<0)break;t.push(u4(e,r))}return t.flat()}function Xf(r){let t=[];for(;;){let e=r(t.length);if(!e)break;t.push(e)}return t}function R2(r,t,e){let n=Array(r).fill().map(()=>[]);for(let i=0;i<t;i++)f4(r,e).forEach((s,o)=>n[o].push(s));return n}function c4(r,t){let e=1+t(),n=t(),i=Xf(t);return R2(i.length,1+r,t).flatMap((o,a)=>{let[f,...c]=o;return Array(i[a]).fill().map((h,d)=>{let m=d*n;return[f+d*e,c.map(w=>w+m)]})})}function u4(r,t){let e=1+t();return R2(e,1+r,t).map(i=>[i[0],i.slice(1)])}var Cn=k2("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");const op=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),ap=4;function l4(r){return r.toString(16).toUpperCase().padStart(2,"0")}function M2(r){return`{${l4(r)}}`}function h4(r){let t=[];for(let e=0,n=r.length;e<n;){let i=r.codePointAt(e);e+=i<65536?1:2,t.push(i)}return t}function Zf(r){let e=r.length;if(e<4096)return String.fromCodePoint(...r);let n=[];for(let i=0;i<e;)n.push(String.fromCodePoint(...r.slice(i,i+=4096)));return n.join("")}var td=k2("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");function Nf(r){return r>>24&255}function O2(r){return r&16777215}const d4=new Map(I2(td).flatMap((r,t)=>r.map(e=>[e,t+1<<24]))),p4=new Set(Vs(td)),U2=new Map,$l=new Map;for(let[r,t]of T2(td)){if(!p4.has(r)&&t.length==2){let[e,n]=t,i=$l.get(e);i||(i=new Map,$l.set(e,i)),i.set(n,r)}U2.set(r,t.reverse())}const tc=44032,j0=4352,Y0=4449,q0=4519,D2=19,L2=21,Xa=28,W0=L2*Xa,g4=D2*W0,x4=tc+g4,y4=j0+D2,m4=Y0+L2,b4=q0+Xa;function H2(r){return r>=tc&&r<x4}function w4(r,t){if(r>=j0&&r<y4&&t>=Y0&&t<m4)return tc+(r-j0)*W0+(t-Y0)*Xa;if(H2(r)&&t>q0&&t<b4&&(r-tc)%Xa==0)return r+(t-q0);{let e=$l.get(r);return e&&(e=e.get(t),e)?e:-1}}function G2(r){let t=[],e=[],n=!1;function i(s){let o=d4.get(s);o&&(n=!0,s|=o),t.push(s)}for(let s of r)for(;;){if(s<128)t.push(s);else if(H2(s)){let o=s-tc,a=o/W0|0,f=o%W0/Xa|0,c=o%Xa;i(j0+a),i(Y0+f),c>0&&i(q0+c)}else{let o=U2.get(s);o?e.push(...o):i(s)}if(!e.length)break;s=e.pop()}if(n&&t.length>1){let s=Nf(t[0]);for(let o=1;o<t.length;o++){let a=Nf(t[o]);if(a==0||s<=a){s=a;continue}let f=o-1;for(;;){let c=t[f+1];if(t[f+1]=t[f],t[f]=c,!f||(s=Nf(t[--f]),s<=a))break}s=Nf(t[o])}}return t}function A4(r){let t=[],e=[],n=-1,i=0;for(let s of r){let o=Nf(s),a=O2(s);if(n==-1)o==0?n=a:t.push(a);else if(i>0&&i>=o)o==0?(t.push(n,...e),e.length=0,n=a):e.push(a),i=o;else{let f=w4(n,a);f>=0?n=f:i==0&&o==0?(t.push(n),n=a):(e.push(a),i=o)}}return n>=0&&t.push(n,...e),t}function z2(r){return G2(r).map(O2)}function v4(r){return A4(G2(r))}const Xl=65039,V2=".",Q2=1,fp=45;function lf(){return new Set(Vs(Cn))}const E4=new Map(T2(Cn)),F4=lf(),$0=lf(),cp=new Set(Vs(Cn).map(function(r){return this[r]},[...$0])),_4=lf();lf();const N4=I2(Cn);function up(){return new Set([Vs(Cn).map(r=>N4[r]),Vs(Cn)].flat(2))}const B4=Cn(),ec=Xf(r=>{let t=Xf(Cn).map(e=>e+96);if(t.length){let e=r>=B4;t[0]-=32,t=Zf(t),e&&(t=`Restricted[${t}]`);let n=up(),i=up(),s=[...n,...i].sort((a,f)=>a-f),o=!Cn();return{N:t,P:n,M:o,R:e,V:new Set(s)}}}),lp=lf(),rc=new Map;[...lp,...lf()].sort((r,t)=>r-t).map((r,t,e)=>{let n=Cn(),i=e[t]=n?e[t-n]:{V:[],M:new Map};i.V.push(r),lp.has(r)||rc.set(r,i)});for(let{V:r,M:t}of new Set(rc.values())){let e=[];for(let i of r){let s=ec.filter(a=>a.V.has(i)),o=e.find(({G:a})=>s.some(f=>a.has(f)));o||(o={G:new Set,V:[]},e.push(o)),o.V.push(i),s.forEach(a=>o.G.add(a))}let n=e.flatMap(({G:i})=>[...i]);for(let{G:i,V:s}of e){let o=new Set(n.filter(a=>!i.has(a)));for(let a of s)t.set(a,o)}}let nc=new Set,K2=new Set;for(let r of ec)for(let t of r.V)(nc.has(t)?K2:nc).add(t);for(let r of nc)!rc.has(r)&&!K2.has(r)&&rc.set(r,Q2);const C4=new Set([...nc,...z2(nc)]),P4=Vs(Cn),S4=J2([]);function J2(r){let t=Xf(()=>{let a=Vs(Cn).map(f=>P4[f]);if(a.length)return J2(a)}).sort((a,f)=>f.Q.size-a.Q.size),e=Cn(),n=e%3;e=e/3|0;let i=e&1;e>>=1;let s=e&1,o=e&2;return{B:t,V:n,F:i,S:s,C:o,Q:new Set(r)}}class k4 extends Array{get is_emoji(){return!0}}function ku(r,t=M2){let e=[];R4(r[0])&&e.push("");let n=0,i=r.length;for(let s=0;s<i;s++){let o=r[s];j2(o)&&(e.push(Zf(r.slice(n,s))),e.push(t(o)),n=s+1)}return e.push(Zf(r.slice(n,i))),e.join("")}function ed(r){return(j2(r)?"":`${rd(ku([r]))} `)+M2(r)}function rd(r){return`"${r}"`}function I4(r){if(r.length>=4&&r[2]==fp&&r[3]==fp)throw new Error("invalid label extension")}function hp(r){for(let e=r.lastIndexOf(95);e>0;)if(r[--e]!==95)throw new Error("underscore allowed only at start")}function T4(r){let t=r[0],e=op.get(t);if(e)throw Mf(`leading ${e}`);let n=r.length,i=-1;for(let s=1;s<n;s++){t=r[s];let o=op.get(t);if(o){if(i==s)throw Mf(`${e} + ${o}`);i=s+1,e=o}}if(i==n)throw Mf(`trailing ${e}`)}function R4(r){return $0.has(r)}function j2(r){return _4.has(r)}function M4(r){return L4(O4(r))}function O4(r,t){let e=0;return r.split(V2).map(n=>{let i=h4(n),s={input:i,offset:e};e+=i.length+1;let o;try{let a=s.tokens=G4(i,v4),f=a.length,c;if(f){let h=a[0],d=f>1||h.is_emoji;if(!d&&h.every(m=>m<128))o=h,hp(o),I4(o),c="ASCII";else if(d&&(s.emoji=!0,h=a.flatMap(m=>m.is_emoji?[]:m)),o=a.flatMap(m=>!t&&m.is_emoji?z4(m):m),hp(o),!h.length)c="Emoji";else{if($0.has(o[0]))throw Mf("leading combining mark");for(let F=1;F<f;F++){let I=a[F];if(!I.is_emoji&&$0.has(I[0]))throw Mf(`emoji + combining mark: "${Zf(a[F-1])} + ${ku([I[0]])}"`)}T4(o);let m=[...new Set(h)],[w]=D4(m);H4(w,h),U4(w,m),c=w.N}}else throw new Error("empty label");s.type=c}catch(a){s.error=a}return s.output=o,s})}function U4(r,t){let e,n=[];for(let i of t){let s=rc.get(i);if(s===Q2)return;if(s){let o=s.M.get(i);if(e=e?e.filter(a=>o.has(a)):[...o],!e.length)return}else n.push(i)}if(e){for(let i of e)if(n.every(s=>i.V.has(s)))throw new Error(`whole-script confusable: ${r.N}/${i.N}`)}}function D4(r){let t=ec;for(let e of r){let n=t.filter(i=>i.V.has(e));if(!n.length)throw t===ec?Y2(e):q2(t[0],e);if(t=n,n.length==1)break}return t}function L4(r){return r.map(({input:t,error:e,output:n})=>{if(e){let i=e.message;throw new Error(r.length==1?i:`Invalid label ${rd(ku(t))}: ${i}`)}return Zf(n)}).join(V2)}function Y2(r){return new Error(`disallowed character: ${ed(r)}`)}function q2(r,t){let e=ed(t),n=ec.find(i=>i.P.has(t));return n&&(e=`${n.N} ${e}`),new Error(`illegal mixture: ${r.N} + ${e}`)}function Mf(r){return new Error(`illegal placement: ${r}`)}function H4(r,t){let{V:e,M:n}=r;for(let i of t)if(!e.has(i))throw q2(r,i);if(n){let i=z2(t);for(let s=1,o=i.length;s<o;s++)if(cp.has(i[s])){let a=s+1;for(let f;a<o&&cp.has(f=i[a]);a++)for(let c=s;c<a;c++)if(i[c]==f)throw new Error(`non-spacing marks: repeated ${ed(f)}`);if(a-s>ap)throw new Error(`non-spacing marks: too many ${rd(ku(i.slice(s-1,a)))} (${a-s}/${ap})`);s=a}}}function G4(r,t){let e=[],n=[];for(r=r.slice().reverse();r.length;){let i=V4(r);if(i)n.length&&(e.push(t(n)),n=[]),e.push(i);else{let s=r.pop();if(C4.has(s))n.push(s);else{let o=E4.get(s);if(o)n.push(...o);else if(!F4.has(s))throw Y2(s)}}}return n.length&&e.push(t(n)),e}function z4(r){return r.filter(t=>t!=Xl)}function V4(r,t){let e=S4,n,i,s=[],o=r.length;for(t&&(t.length=0);o;){let a=r[--o];if(e=e.B.find(f=>f.Q.has(a)),!e)break;if(e.S)i=a;else if(e.C&&a===i)break;s.push(a),e.F&&(s.push(Xl),o>0&&r[o-1]==Xl&&o--),e.V&&(n=Q4(s,e),t&&t.push(...r.slice(o).reverse()),r.length=o)}return n}function Q4(r,t){let e=k4.from(r);return t.V==2&&e.splice(1,1),e}const W2=new Uint8Array(32);W2.fill(0);function dp(r){return Q(r.length!==0,"invalid ENS name; empty component","comp",r),r}function $2(r){const t=xo(K4(r)),e=[];if(r.length===0)return e;let n=0;for(let i=0;i<t.length;i++)t[i]===46&&(e.push(dp(t.slice(n,i))),n=i+1);return Q(n<t.length,"invalid ENS name; empty component","name",r),e.push(dp(t.slice(n))),e}function K4(r){try{return M4(r)}catch(t){Q(!1,`invalid ENS name (${t.message})`,"name",r)}}function Zl(r){Q(typeof r=="string","invalid ENS name; not a string","name",r);let t=W2;const e=$2(r);for(;e.length;)t=gr(Nr([t,gr(e.pop())]));return Vt(t)}function J4(r){return Vt(Nr($2(r).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e})))+"00"}function ul(r,t){return{address:ar(r),storageKeys:t.map((e,n)=>(Q(Ar(e,32),"invalid slot",`storageKeys[${n}]`,e),e.toLowerCase()))}}function hf(r){if(Array.isArray(r))return r.map((e,n)=>Array.isArray(e)?(Q(e.length===2,"invalid slot set",`value[${n}]`,e),ul(e[0],e[1])):(Q(e!=null&&typeof e=="object","invalid address-slot set","value",r),ul(e.address,e.storageKeys)));Q(r!=null&&typeof r=="object","invalid access list","value",r);const t=Object.keys(r).map(e=>{const n=r[e].reduce((i,s)=>(i[s]=!0,i),{});return ul(e,Object.keys(n).sort())});return t.sort((e,n)=>e.address.localeCompare(n.address)),t}function j4(r){let t;return typeof r=="string"?t=$f.computePublicKey(r,!1):t=r.publicKey,ar(gr("0x"+t.substring(4)).substring(26))}function Y4(r,t){return j4($f.recoverPublicKey(r,t))}const un=BigInt(0),q4=BigInt(2),W4=BigInt(27),$4=BigInt(28),X4=BigInt(35),Z4=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function nd(r){return r==="0x"?null:ar(r)}function X2(r,t){try{return hf(r)}catch(e){Q(!1,e.message,t,r)}}function Iu(r,t){return r==="0x"?0:Te(r,t)}function rn(r,t){if(r==="0x")return un;const e=ne(r,t);return Q(e<=Z4,"value exceeds uint size",t,e),e}function Mr(r,t){const e=ne(r,"value"),n=Nn(e);return Q(n.length<=32,"value too large",`tx.${t}`,e),n}function Z2(r){return hf(r).map(t=>[t.address,t.storageKeys])}function t5(r){const t=$h(r);Q(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",r);const e={type:0,nonce:Iu(t[0],"nonce"),gasPrice:rn(t[1],"gasPrice"),gasLimit:rn(t[2],"gasLimit"),to:nd(t[3]),value:rn(t[4],"value"),data:Vt(t[5]),chainId:un};if(t.length===6)return e;const n=rn(t[6],"v"),i=rn(t[7],"r"),s=rn(t[8],"s");if(i===un&&s===un)e.chainId=n;else{let o=(n-X4)/q4;o<un&&(o=un),e.chainId=o,Q(o!==un||n===W4||n===$4,"non-canonical legacy v","v",t[6]),e.signature=ci.from({r:vo(t[7],32),s:vo(t[8],32),v:n}),e.hash=gr(r)}return e}function pp(r,t){const e=[Mr(r.nonce||0,"nonce"),Mr(r.gasPrice||0,"gasPrice"),Mr(r.gasLimit||0,"gasLimit"),r.to!=null?ar(r.to):"0x",Mr(r.value||0,"value"),r.data||"0x"];let n=un;if(r.chainId!=un)n=ne(r.chainId,"tx.chainId"),Q(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(r.signature){const s=r.signature.legacyChainId;s!=null&&(n=s)}if(!t)return n!==un&&(e.push(Nn(n)),e.push("0x"),e.push("0x")),jf(e);let i=BigInt(27+t.yParity);return n!==un?i=ci.getChainIdV(n,t.v):BigInt(t.v)!==i&&Q(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(Nn(i)),e.push(Nn(t.r)),e.push(Nn(t.s)),jf(e)}function ty(r,t){let e;try{if(e=Iu(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{Q(!1,"invalid yParity","yParity",t[0])}const n=vo(t[1],32),i=vo(t[2],32),s=ci.from({r:n,s:i,yParity:e});r.signature=s}function e5(r){const t=$h(De(r).slice(1));Q(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",Vt(r));const e=rn(t[2],"maxPriorityFeePerGas"),n=rn(t[3],"maxFeePerGas"),i={type:2,chainId:rn(t[0],"chainId"),nonce:Iu(t[1],"nonce"),maxPriorityFeePerGas:e,maxFeePerGas:n,gasPrice:null,gasLimit:rn(t[4],"gasLimit"),to:nd(t[5]),value:rn(t[6],"value"),data:Vt(t[7]),accessList:X2(t[8],"accessList")};return t.length===9||(i.hash=gr(r),ty(i,t.slice(9))),i}function gp(r,t){const e=[Mr(r.chainId||0,"chainId"),Mr(r.nonce||0,"nonce"),Mr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Mr(r.maxFeePerGas||0,"maxFeePerGas"),Mr(r.gasLimit||0,"gasLimit"),r.to!=null?ar(r.to):"0x",Mr(r.value||0,"value"),r.data||"0x",Z2(r.accessList||[])];return t&&(e.push(Mr(t.yParity,"yParity")),e.push(Nn(t.r)),e.push(Nn(t.s))),Nr(["0x02",jf(e)])}function r5(r){const t=$h(De(r).slice(1));Q(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",Vt(r));const e={type:1,chainId:rn(t[0],"chainId"),nonce:Iu(t[1],"nonce"),gasPrice:rn(t[2],"gasPrice"),gasLimit:rn(t[3],"gasLimit"),to:nd(t[4]),value:rn(t[5],"value"),data:Vt(t[6]),accessList:X2(t[7],"accessList")};return t.length===8||(e.hash=gr(r),ty(e,t.slice(8))),e}function xp(r,t){const e=[Mr(r.chainId||0,"chainId"),Mr(r.nonce||0,"nonce"),Mr(r.gasPrice||0,"gasPrice"),Mr(r.gasLimit||0,"gasLimit"),r.to!=null?ar(r.to):"0x",Mr(r.value||0,"value"),r.data||"0x",Z2(r.accessList||[])];return t&&(e.push(Mr(t.yParity,"recoveryParam")),e.push(Nn(t.r)),e.push(Nn(t.s))),Nr(["0x01",jf(e)])}var Yi,da,pa,ga,xa,ya,ma,ba,wa,Aa,va,Ea;const ms=class ms{constructor(){ot(this,Yi,void 0);ot(this,da,void 0);ot(this,pa,void 0);ot(this,ga,void 0);ot(this,xa,void 0);ot(this,ya,void 0);ot(this,ma,void 0);ot(this,ba,void 0);ot(this,wa,void 0);ot(this,Aa,void 0);ot(this,va,void 0);ot(this,Ea,void 0);H(this,Yi,null),H(this,da,null),H(this,ga,0),H(this,xa,BigInt(0)),H(this,ya,null),H(this,ma,null),H(this,ba,null),H(this,pa,"0x"),H(this,wa,BigInt(0)),H(this,Aa,BigInt(0)),H(this,va,null),H(this,Ea,null)}get type(){return B(this,Yi)}set type(t){switch(t){case null:H(this,Yi,null);break;case 0:case"legacy":H(this,Yi,0);break;case 1:case"berlin":case"eip-2930":H(this,Yi,1);break;case 2:case"london":case"eip-1559":H(this,Yi,2);break;default:Q(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return B(this,da)}set to(t){H(this,da,t==null?null:ar(t))}get nonce(){return B(this,ga)}set nonce(t){H(this,ga,Te(t,"value"))}get gasLimit(){return B(this,xa)}set gasLimit(t){H(this,xa,ne(t))}get gasPrice(){const t=B(this,ya);return t==null&&(this.type===0||this.type===1)?un:t}set gasPrice(t){H(this,ya,t==null?null:ne(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=B(this,ma);return t??(this.type===2?un:null)}set maxPriorityFeePerGas(t){H(this,ma,t==null?null:ne(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=B(this,ba);return t??(this.type===2?un:null)}set maxFeePerGas(t){H(this,ba,t==null?null:ne(t,"maxFeePerGas"))}get data(){return B(this,pa)}set data(t){H(this,pa,Vt(t))}get value(){return B(this,wa)}set value(t){H(this,wa,ne(t,"value"))}get chainId(){return B(this,Aa)}set chainId(t){H(this,Aa,ne(t))}get signature(){return B(this,va)||null}set signature(t){H(this,va,t==null?null:ci.from(t))}get accessList(){const t=B(this,Ea)||null;return t??(this.type===1||this.type===2?[]:null)}set accessList(t){H(this,Ea,t==null?null:hf(t))}get hash(){return this.signature==null?null:gr(this.serialized)}get unsignedHash(){return gr(this.unsignedSerialized)}get from(){return this.signature==null?null:Y4(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:$f.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(pt(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return pp(this,this.signature);case 1:return xp(this,this.signature);case 2:return gp(this,this.signature)}pt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return pp(this);case 1:return xp(this);case 2:return gp(this)}pt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&pt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),pt(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),pt(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):e?i.push(2):t?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return ms.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new ms;if(typeof t=="string"){const n=De(t);if(n[0]>=127)return ms.from(t5(n));switch(n[0]){case 1:return ms.from(r5(n));case 2:return ms.from(e5(n))}pt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new ms;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=ci.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.hash!=null&&(Q(e.isSigned(),"unsigned transaction cannot define hash","tx",t),Q(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(Q(e.isSigned(),"unsigned transaction cannot define from","tx",t),Q(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};Yi=new WeakMap,da=new WeakMap,pa=new WeakMap,ga=new WeakMap,xa=new WeakMap,ya=new WeakMap,ma=new WeakMap,ba=new WeakMap,wa=new WeakMap,Aa=new WeakMap,va=new WeakMap,Ea=new WeakMap;let ic=ms;const ey=new Uint8Array(32);ey.fill(0);const n5=BigInt(-1),ry=BigInt(0),ny=BigInt(1),i5=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function s5(r){const t=De(r),e=t.length%32;return e?Nr([t,ey.slice(e)]):Vt(t)}const o5=Gs(ny,32),a5=Gs(ry,32),yp={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ll=["name","version","chainId","verifyingContract","salt"];function mp(r){return function(t){return Q(typeof t=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const f5={name:mp("name"),version:mp("version"),chainId:function(r){const t=ne(r,"domain.chainId");return Q(t>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(t)?Number(t):Ws(t)},verifyingContract:function(r){try{return ar(r).toLowerCase()}catch{}Q(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const t=De(r,"domain.salt");return Q(t.length===32,'invalid domain value "salt"',"domain.salt",r),Vt(t)}};function hl(r){{const t=r.match(/^(u?)int(\d*)$/);if(t){const e=t[1]==="",n=parseInt(t[2]||"256");Q(n%8===0&&n!==0&&n<=256&&(t[2]==null||t[2]===String(n)),"invalid numeric width","type",r);const i=Ff(i5,e?n-1:n),s=e?(i+ny)*n5:ry;return function(o){const a=ne(o,"value");return Q(a>=s&&a<=i,`value out-of-bounds for ${r}`,"value",a),Gs(e?Zx(a,256):a,32)}}}{const t=r.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return Q(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",r),function(n){const i=De(n);return Q(i.length===e,`invalid length for ${r}`,"value",n),s5(n)}}}switch(r){case"address":return function(t){return vo(ar(t),32)};case"bool":return function(t){return t?o5:a5};case"bytes":return function(t){return gr(t)};case"string":return function(t){return Eo(t)}}return null}function bp(r,t){return`${r}(${t.map(({name:e,type:n})=>n+" "+e).join(",")})`}var lc,qi,Fa,su,iy;const On=class On{constructor(t){ot(this,su);j(this,"primaryType");ot(this,lc,void 0);ot(this,qi,void 0);ot(this,Fa,void 0);H(this,lc,JSON.stringify(t)),H(this,qi,new Map),H(this,Fa,new Map);const e=new Map,n=new Map,i=new Map;Object.keys(t).forEach(a=>{e.set(a,new Set),n.set(a,[]),i.set(a,new Set)});for(const a in t){const f=new Set;for(const c of t[a]){Q(!f.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",t),f.add(c.name);const h=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;Q(h!==a,`circular type reference to ${JSON.stringify(h)}`,"types",t),!hl(h)&&(Q(n.has(h),`unknown type ${JSON.stringify(h)}`,"types",t),n.get(h).push(a),e.get(a).add(h))}}const s=Array.from(n.keys()).filter(a=>n.get(a).length===0);Q(s.length!==0,"missing primary type","types",t),Q(s.length===1,`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",t),ae(this,{primaryType:s[0]});function o(a,f){Q(!f.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",t),f.add(a);for(const c of e.get(a))if(n.has(c)){o(c,f);for(const h of f)i.get(h).add(c)}f.delete(a)}o(this.primaryType,new Set);for(const[a,f]of i){const c=Array.from(f);c.sort(),B(this,qi).set(a,bp(a,t[a])+c.map(h=>bp(h,t[h])).join(""))}}get types(){return JSON.parse(B(this,lc))}getEncoder(t){let e=B(this,Fa).get(t);return e||(e=Mt(this,su,iy).call(this,t),B(this,Fa).set(t,e)),e}encodeType(t){const e=B(this,qi).get(t);return Q(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return gr(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(hl(t))return n(t,e);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return Q(!i[3]||parseInt(i[3])===e.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",e),e.map(o=>this._visit(i[1],o,n));const s=this.types[t];if(s)return s.reduce((o,{name:a,type:f})=>(o[a]=this._visit(f,e[a],n),o),{});Q(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new On(t)}static getPrimaryType(t){return On.from(t).primaryType}static hashStruct(t,e,n){return On.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){if(t[n]==null)continue;const i=yp[n];Q(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:i})}return e.sort((n,i)=>ll.indexOf(n.name)-ll.indexOf(i.name)),On.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return Nr(["0x1901",On.hashDomain(t),On.from(e).hash(n)])}static hash(t,e,n){return gr(On.encode(t,e,n))}static async resolveNames(t,e,n,i){t=Object.assign({},t);for(const a in t)t[a]==null&&delete t[a];const s={};t.verifyingContract&&!Ar(t.verifyingContract,20)&&(s[t.verifyingContract]="0x");const o=On.from(e);o.visit(n,(a,f)=>(a==="address"&&!Ar(f,20)&&(s[f]="0x"),f));for(const a in s)s[a]=await i(a);return t.verifyingContract&&s[t.verifyingContract]&&(t.verifyingContract=s[t.verifyingContract]),n=o.visit(n,(a,f)=>a==="address"&&s[f]?s[f]:f),{domain:t,value:n}}static getPayload(t,e,n){On.hashDomain(t);const i={},s=[];ll.forEach(f=>{const c=t[f];c!=null&&(i[f]=f5[f](c),s.push({name:f,type:yp[f]}))});const o=On.from(e),a=Object.assign({},e);return Q(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(f,c)=>{if(f.match(/^bytes(\d*)/))return Vt(De(c));if(f.match(/^u?int/))return ne(c).toString();switch(f){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return Q(typeof c=="string","invalid string","value",c),c}Q(!1,"unsupported type","type",f)})}}};lc=new WeakMap,qi=new WeakMap,Fa=new WeakMap,su=new WeakSet,iy=function(t){{const i=hl(t);if(i)return i}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const i=e[1],s=this.getEncoder(i);return o=>{Q(!e[3]||parseInt(e[3])===o.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",o);let a=o.map(s);return B(this,qi).has(i)&&(a=a.map(gr)),gr(Nr(a))}}const n=this.types[t];if(n){const i=Eo(B(this,qi).get(t));return s=>{const o=n.map(({name:a,type:f})=>{const c=this.getEncoder(f)(s[a]);return B(this,qi).has(f)?gr(c):c});return o.unshift(i),Nr(o)}}Q(!1,`unknown type: ${t}`,"type",t)};let th=On;function on(r){const t=new Set;return r.forEach(e=>t.add(e)),Object.freeze(t)}const c5="external public payable",u5=on(c5.split(" ")),sy="constant external internal payable private public pure view",l5=on(sy.split(" ")),oy="constructor error event fallback function receive struct",ay=on(oy.split(" ")),fy="calldata memory storage payable indexed",h5=on(fy.split(" ")),d5="tuple returns",p5=[oy,fy,d5,sy].join(" "),g5=on(p5.split(" ")),x5={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},y5=new RegExp("^(\\s*)"),m5=new RegExp("^([0-9]+)"),b5=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cy=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),uy=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Tr,ni,hc,eh;const ou=class ou{constructor(t){ot(this,hc);ot(this,Tr,void 0);ot(this,ni,void 0);H(this,Tr,0),H(this,ni,t.slice())}get offset(){return B(this,Tr)}get length(){return B(this,ni).length-B(this,Tr)}clone(){return new ou(B(this,ni))}reset(){H(this,Tr,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=Mt(this,hc,eh).call(this,B(this,Tr)+1,t.match+1);return H(this,Tr,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;B(this,Tr)<t.match-1;){const n=this.peek().linkNext;e.push(Mt(this,hc,eh).call(this,B(this,Tr)+1,n)),H(this,Tr,n)}return H(this,Tr,t.match+1),e}peek(){if(B(this,Tr)>=B(this,ni).length)throw new Error("out-of-bounds");return B(this,ni)[B(this,Tr)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return Lu(this,Tr)._++,t}toString(){const t=[];for(let e=B(this,Tr);e<B(this,ni).length;e++){const n=B(this,ni)[e];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}};Tr=new WeakMap,ni=new WeakMap,hc=new WeakSet,eh=function(t=0,e=0){return new ou(B(this,ni).slice(t,e).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))};let ui=ou;function Js(r){const t=[],e=o=>{const a=s<r.length?JSON.stringify(r[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let n=[],i=[],s=0;for(;s<r.length;){let o=r.substring(s),a=o.match(y5);a&&(s+=a[1].length,o=r.substring(s));const f={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(f);let c=x5[o[0]]||"";if(c){if(f.type=c,f.text=o[0],s++,c==="OPEN_PAREN")n.push(t.length-1),i.push(t.length-1);else if(c=="CLOSE_PAREN")n.length===0&&e("no matching open bracket"),f.match=n.pop(),t[f.match].match=t.length-1,f.depth--,f.linkBack=i.pop(),t[f.linkBack].linkNext=t.length-1;else if(c==="COMMA")f.linkBack=i.pop(),t[f.linkBack].linkNext=t.length-1,i.push(t.length-1);else if(c==="OPEN_BRACKET")f.type="BRACKET";else if(c==="CLOSE_BRACKET"){let h=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const d=t.pop().text;h=d+h,t[t.length-1].value=Te(d)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=h}continue}if(a=o.match(b5),a){if(f.text=a[1],s+=f.text.length,g5.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(uy)){f.type="TYPE";continue}f.type="ID";continue}if(a=o.match(m5),a){f.text=a[1],f.type="NUMBER",s+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new ui(t.map(o=>Object.freeze(o)))}function wp(r,t){let e=[];for(const n in t.keys())r.has(n)&&e.push(n);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function Tu(r,t){if(t.peekKeyword(ay)){const e=t.pop().text;if(e!==r)throw new Error(`expected ${r}, got ${e}`)}return t.popType("ID")}function os(r,t){const e=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||t&&!t.has(n))break;if(r.pop(),e.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);e.add(n)}return Object.freeze(e)}function ly(r){let t=os(r,l5);return wp(t,on("constant payable nonpayable".split(" "))),wp(t,on("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function es(r,t){return r.popParams().map(e=>Dr.from(e,t))}function hy(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return ne(r.pop().text);throw new Error("invalid gas")}return null}function Fo(r){if(r.length)throw new Error(`unexpected tokens: ${r.toString()}`)}const w5=new RegExp(/^(.*)\[([0-9]*)\]$/);function Ap(r){const t=r.match(uy);if(Q(t,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(t[2]){const e=parseInt(t[2]);Q(e!==0&&e<=32,"invalid bytes length","type",r)}else if(t[3]){const e=parseInt(t[3]);Q(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",r)}return r}const pr={},gn=Symbol.for("_ethers_internal"),vp="_ParamTypeInternal",Ep="_ErrorInternal",Fp="_EventInternal",_p="_ConstructorInternal",Np="_FallbackInternal",Bp="_FunctionInternal",Cp="_StructInternal";var _a,w0;const Un=class Un{constructor(t,e,n,i,s,o,a,f){ot(this,_a);j(this,"name");j(this,"type");j(this,"baseType");j(this,"indexed");j(this,"components");j(this,"arrayLength");j(this,"arrayChildren");if(Bu(t,pr,"ParamType"),Object.defineProperty(this,gn,{value:vp}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||f==null)throw new Error("")}else if(a!=null||f!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");ae(this,{name:e,type:n,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:f})}format(t){if(t==null&&(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(t)))),JSON.stringify(i)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(t!=="sighash"&&(e+=this.type),e+="("+this.components.map(n=>n.format(t)).join(t==="full"?", ":",")+")"):e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(i=>n.arrayChildren.walk(i,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((i,s)=>n.components[s].walk(i,e))}return e(this.type,t)}async walkAsync(t,e){const n=[],i=[t];return Mt(this,_a,w0).call(this,n,t,e,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(t,e){if(Un.isParamType(t))return t;if(typeof t=="string")try{return Un.from(Js(t),e)}catch{Q(!1,"invalid param type","obj",t)}else if(t instanceof ui){let a="",f="",c=null;os(t,on(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(f="tuple",c=t.popParams().map(I=>Un.from(I)),a=`tuple(${c.map(I=>I.format()).join(",")})`):(a=Ap(t.popType("TYPE")),f=a);let h=null,d=null;for(;t.length&&t.peekType("BRACKET");){const I=t.pop();h=new Un(pr,"",a,f,null,c,d,h),d=I.value,a+=I.text,f="array",c=null}let m=null;if(os(t,h5).has("indexed")){if(!e)throw new Error("");m=!0}const F=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Un(pr,F,a,f,m,c,d,h)}const n=t.name;Q(!n||typeof n=="string"&&n.match(cy),"invalid name","obj.name",n);let i=t.indexed;i!=null&&(Q(e,"parameter cannot be indexed","obj.indexed",t.indexed),i=!!i);let s=t.type,o=s.match(w5);if(o){const a=parseInt(o[2]||"-1"),f=Un.from({type:o[1],components:t.components});return new Un(pr,n||"",s,"array",i,null,a,f)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=t.components!=null?t.components.map(c=>Un.from(c)):null;return new Un(pr,n||"",s,"tuple",i,a,null,null)}return s=Ap(t.type),new Un(pr,n||"",s,s,i,null,null,null)}static isParamType(t){return t&&t[gn]===vp}};_a=new WeakSet,w0=function(t,e,n,i){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=e.slice();a.forEach((f,c)=>{var h;Mt(h=o,_a,w0).call(h,t,f,n,d=>{a[c]=d})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");a=o.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in e))throw new Error(`missing value for component ${f.name}`);return e[f.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((f,c)=>{var h;Mt(h=o[c],_a,w0).call(h,t,f,n,d=>{a[c]=d})}),i(a);return}const s=n(this.type,e);s.then?t.push(async function(){i(await s)}()):i(s)};let Dr=Un;class _o{constructor(t,e,n){j(this,"type");j(this,"inputs");Bu(t,pr,"Fragment"),n=Object.freeze(n.slice()),ae(this,{type:e,inputs:n})}static from(t){if(typeof t=="string"){try{_o.from(JSON.parse(t))}catch{}return _o.from(Js(t))}if(t instanceof ui)switch(t.peekKeyword(ay)){case"constructor":return ts.from(t);case"error":return ln.from(t);case"event":return Fi.from(t);case"fallback":case"receive":return zi.from(t);case"function":return _i.from(t);case"struct":return mo.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return ts.from(t);case"error":return ln.from(t);case"event":return Fi.from(t);case"fallback":case"receive":return zi.from(t);case"function":return _i.from(t);case"struct":return mo.from(t)}pt(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Q(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return ts.isFragment(t)}static isError(t){return ln.isFragment(t)}static isEvent(t){return Fi.isFragment(t)}static isFunction(t){return _i.isFragment(t)}static isStruct(t){return mo.isFragment(t)}}class Ru extends _o{constructor(e,n,i,s){super(e,n,s);j(this,"name");Q(typeof i=="string"&&i.match(cy),"invalid identifier","name",i),s=Object.freeze(s.slice()),ae(this,{name:i})}}function sc(r,t){return"("+t.map(e=>e.format(r)).join(r==="full"?", ":",")+")"}class ln extends Ru{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,gn,{value:Ep})}get selector(){return Eo(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+sc(t,this.inputs)),e.join(" ")}static from(t){if(ln.isFragment(t))return t;if(typeof t=="string")return ln.from(Js(t));if(t instanceof ui){const e=Tu("error",t),n=es(t);return Fo(t),new ln(pr,e,n)}return new ln(pr,t.name,t.inputs?t.inputs.map(Dr.from):[])}static isFragment(t){return t&&t[gn]===Ep}}class Fi extends Ru{constructor(e,n,i,s){super(e,"event",n,i);j(this,"anonymous");Object.defineProperty(this,gn,{value:Fp}),ae(this,{anonymous:s})}get topicHash(){return Eo(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+sc(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(s=>Dr.from(s)),new Fi(pr,e,n,!1).topicHash}static from(e){if(Fi.isFragment(e))return e;if(typeof e=="string")try{return Fi.from(Js(e))}catch{Q(!1,"invalid event fragment","obj",e)}else if(e instanceof ui){const n=Tu("event",e),i=es(e,!0),s=!!os(e,on(["anonymous"])).has("anonymous");return Fo(e),new Fi(pr,n,i,s)}return new Fi(pr,e.name,e.inputs?e.inputs.map(n=>Dr.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[gn]===Fp}}class ts extends _o{constructor(e,n,i,s,o){super(e,n,i);j(this,"payable");j(this,"gas");Object.defineProperty(this,gn,{value:_p}),ae(this,{payable:s,gas:o})}format(e){if(pt(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});const n=[`constructor${sc(e,this.inputs)}`];return n.push(this.payable?"payable":"nonpayable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(ts.isFragment(e))return e;if(typeof e=="string")try{return ts.from(Js(e))}catch{Q(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof ui){os(e,on(["constructor"]));const n=es(e),i=!!os(e,u5).has("payable"),s=hy(e);return Fo(e),new ts(pr,"constructor",n,i,s)}return new ts(pr,"constructor",e.inputs?e.inputs.map(Dr.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[gn]===_p}}class zi extends _o{constructor(e,n,i){super(e,"fallback",n);j(this,"payable");Object.defineProperty(this,gn,{value:Np}),ae(this,{payable:i})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(e){if(zi.isFragment(e))return e;if(typeof e=="string")try{return zi.from(Js(e))}catch{Q(!1,"invalid fallback fragment","obj",e)}else if(e instanceof ui){const n=e.toString(),i=e.peekKeyword(on(["fallback","receive"]));if(Q(i,"type must be fallback or receive","obj",n),e.popKeyword(on(["fallback","receive"]))==="receive"){const f=es(e);return Q(f.length===0,"receive cannot have arguments","obj.inputs",f),os(e,on(["payable"])),Fo(e),new zi(pr,[],!0)}let o=es(e);o.length?Q(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(f=>f.format("minimal")).join(", ")):o=[Dr.from("bytes")];const a=ly(e);if(Q(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),os(e,on(["returns"])).has("returns")){const f=es(e);Q(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(c=>c.format("minimal")).join(", "))}return Fo(e),new zi(pr,o,a==="payable")}if(e.type==="receive")return new zi(pr,[],!0);if(e.type==="fallback"){const n=[Dr.from("bytes")],i=e.stateMutability==="payable";return new zi(pr,n,i)}Q(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[gn]===Np}}class _i extends Ru{constructor(e,n,i,s,o,a){super(e,"function",n,s);j(this,"constant");j(this,"outputs");j(this,"stateMutability");j(this,"payable");j(this,"gas");Object.defineProperty(this,gn,{value:Bp}),o=Object.freeze(o.slice()),ae(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return Eo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e))),outputs:this.outputs.map(i=>JSON.parse(i.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+sc(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(sc(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(s=>Dr.from(s)),new _i(pr,e,"view",n,[],null).selector}static from(e){if(_i.isFragment(e))return e;if(typeof e=="string")try{return _i.from(Js(e))}catch{Q(!1,"invalid function fragment","obj",e)}else if(e instanceof ui){const i=Tu("function",e),s=es(e),o=ly(e);let a=[];os(e,on(["returns"])).has("returns")&&(a=es(e));const f=hy(e);return Fo(e),new _i(pr,i,o,s,a,f)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new _i(pr,e.name,n,e.inputs?e.inputs.map(Dr.from):[],e.outputs?e.outputs.map(Dr.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[gn]===Bp}}class mo extends Ru{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,gn,{value:Cp})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return mo.from(Js(t))}catch{Q(!1,"invalid struct fragment","obj",t)}else if(t instanceof ui){const e=Tu("struct",t),n=es(t);return Fo(t),new mo(pr,e,n)}return new mo(pr,t.name,t.inputs?t.inputs.map(Dr.from):[])}static isFragment(t){return t&&t[gn]===Cp}}const li=new Map;li.set(0,"GENERIC_PANIC");li.set(1,"ASSERT_FALSE");li.set(17,"OVERFLOW");li.set(18,"DIVIDE_BY_ZERO");li.set(33,"ENUM_RANGE_ERROR");li.set(34,"BAD_STORAGE_DATA");li.set(49,"STACK_UNDERFLOW");li.set(50,"ARRAY_RANGE_ERROR");li.set(65,"OUT_OF_MEMORY");li.set(81,"UNINITIALIZED_FUNCTION_CALL");const A5=new RegExp(/^bytes([0-9]*)$/),v5=new RegExp(/^(u?int)([0-9]*)$/);let dl=null;function E5(r,t,e,n){let i="missing revert data",s=null;const o=null;let a=null;if(e){i="execution reverted";const c=De(e);if(e=Vt(e),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Vt(c.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Vt(c.slice(0,4))==="0x4e487b71")try{const h=Number(n.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[h]},s=`Panic due to ${li.get(h)||"UNKNOWN"}(${h})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const f={to:t.to?ar(t.to):null,data:t.data||"0x"};return t.from&&(f.from=ar(t.from)),qa(i,"CALL_EXCEPTION",{action:r,data:e,reason:s,transaction:f,invocation:o,revert:a})}var vs,Uo;const au=class au{constructor(){ot(this,vs)}getDefaultValue(t){const e=t.map(i=>Mt(this,vs,Uo).call(this,Dr.from(i)));return new e0(e,"_").defaultValue()}encode(t,e){Wx(e.length,t.length,"types/values length mismatch");const n=t.map(o=>Mt(this,vs,Uo).call(this,Dr.from(o))),i=new e0(n,"_"),s=new Ql;return i.encode(s,e),s.data}decode(t,e,n){const i=t.map(o=>Mt(this,vs,Uo).call(this,Dr.from(o)));return new e0(i,"_").decode(new Kl(e,n))}static defaultAbiCoder(){return dl==null&&(dl=new au),dl}static getBuiltinCallException(t,e,n){return E5(t,e,n,au.defaultAbiCoder())}};vs=new WeakSet,Uo=function(t){if(t.isArray())return new j8(Mt(this,vs,Uo).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new e0(t.components.map(n=>Mt(this,vs,Uo).call(this,n)),t.name);switch(t.baseType){case"address":return new K8(t.name);case"bool":return new Y8(t.name);case"string":return new n4(t.name);case"bytes":return new q8(t.name);case"":return new X8(t.name)}let e=t.type.match(v5);if(e){let n=parseInt(e[2]||"256");return Q(n!==0&&n<=256&&n%8===0,"invalid "+e[1]+" bit length","param",t),new r4(n/8,e[1]==="int",t.name)}if(e=t.type.match(A5),e){let n=parseInt(e[1]);return Q(n!==0&&n<=32,"invalid bytes length","param",t),new W8(n,t.name)}Q(!1,"invalid type","type",t.type)};let X0=au;class F5{constructor(t,e,n){j(this,"fragment");j(this,"name");j(this,"signature");j(this,"topic");j(this,"args");const i=t.name,s=t.format();ae(this,{fragment:t,name:i,signature:s,topic:e,args:n})}}class _5{constructor(t,e,n,i){j(this,"fragment");j(this,"name");j(this,"args");j(this,"signature");j(this,"selector");j(this,"value");const s=t.name,o=t.format();ae(this,{fragment:t,name:s,args:n,signature:o,selector:e,value:i})}}class N5{constructor(t,e,n){j(this,"fragment");j(this,"name");j(this,"args");j(this,"signature");j(this,"selector");const i=t.name,s=t.format();ae(this,{fragment:t,name:i,args:n,signature:s,selector:e})}}class Pp{constructor(t){j(this,"hash");j(this,"_isIndexed");ae(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&&t._isIndexed)}}const Sp={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},kp={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let t="unknown panic code";return r>=0&&r<=255&&Sp[r.toString()]&&(t=Sp[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${t})`}}};var mi,bi,wi,Kr,Na,A0,Ba,v0;const Vo=class Vo{constructor(t){ot(this,Na);ot(this,Ba);j(this,"fragments");j(this,"deploy");j(this,"fallback");j(this,"receive");ot(this,mi,void 0);ot(this,bi,void 0);ot(this,wi,void 0);ot(this,Kr,void 0);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,H(this,wi,new Map),H(this,mi,new Map),H(this,bi,new Map);const n=[];for(const o of e)try{n.push(_o.from(o))}catch(a){console.log("EE",a)}ae(this,{fragments:Object.freeze(n)});let i=null,s=!1;H(this,Kr,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let f;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ae(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(Q(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":f=B(this,wi);break;case"event":f=B(this,bi);break;case"error":f=B(this,mi);break;default:return}const c=o.format();f.has(c)||f.set(c,o)}),this.deploy||ae(this,{deploy:ts.from("constructor()")}),ae(this,{fallback:i,receive:s})}format(t){const e=t?"minimal":"full";return this.fragments.map(i=>i.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return X0.defaultAbiCoder()}getFunctionName(t){const e=Mt(this,Na,A0).call(this,t,null,!1);return Q(e,"no matching function","key",t),e.name}hasFunction(t){return!!Mt(this,Na,A0).call(this,t,null,!1)}getFunction(t,e){return Mt(this,Na,A0).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(B(this,wi).keys());e.sort((n,i)=>n.localeCompare(i));for(let n=0;n<e.length;n++){const i=e[n];t(B(this,wi).get(i),n)}}getEventName(t){const e=Mt(this,Ba,v0).call(this,t,null,!1);return Q(e,"no matching event","key",t),e.name}hasEvent(t){return!!Mt(this,Ba,v0).call(this,t,null,!1)}getEvent(t,e){return Mt(this,Ba,v0).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(B(this,bi).keys());e.sort((n,i)=>n.localeCompare(i));for(let n=0;n<e.length;n++){const i=e[n];t(B(this,bi).get(i),n)}}getError(t,e){if(Ar(t)){const i=t.toLowerCase();if(kp[i])return ln.from(kp[i].signature);for(const s of B(this,mi).values())if(i===s.selector)return s;return null}if(t.indexOf("(")===-1){const i=[];for(const[s,o]of B(this,mi))s.split("(")[0]===t&&i.push(o);if(i.length===0)return t==="Error"?ln.from("error Error(string)"):t==="Panic"?ln.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");Q(!1,`ambiguous error description (i.e. ${s})`,"name",t)}return i[0]}if(t=ln.from(t).format(),t==="Error(string)")return ln.from("error Error(string)");if(t==="Panic(uint256)")return ln.from("error Panic(uint256)");const n=B(this,mi).get(t);return n||null}forEachError(t){const e=Array.from(B(this,mi).keys());e.sort((n,i)=>n.localeCompare(i));for(let n=0;n<e.length;n++){const i=e[n];t(B(this,mi).get(i),n)}}_decodeParams(t,e){return B(this,Kr).decode(t,e)}_encodeParams(t,e){return B(this,Kr).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);Q(n,"unknown error","fragment",t),t=n}return Q(wr(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,wr(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);Q(n,"unknown error","fragment",t),t=n}return Nr([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);Q(n,"unknown function","fragment",t),t=n}return Q(wr(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,wr(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);Q(n,"unknown function","fragment",t),t=n}return Nr([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const s=this.getFunction(t);Q(s,"unknown function","fragment",t),t=s}let n="invalid length for result data";const i=$r(e);if(i.length%32===0)try{return B(this,Kr).decode(t.outputs,i)}catch{n="could not decode result data"}pt(!1,n,"BAD_DATA",{value:Vt(i),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=De(t,"data"),i=X0.getBuiltinCallException("call",e,n),s="execution reverted (unknown custom error)";if(i.message.startsWith(s)){const a=Vt(n.slice(0,4)),f=this.getError(a);if(f)try{const c=B(this,Kr).decode(f.inputs,n.slice(4));i.revert={name:f.name,signature:f.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(e);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(t,e){if(typeof t=="string"){const n=this.getFunction(t);Q(n,"unknown function","fragment",t),t=n}return Vt(B(this,Kr).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const s=this.getEvent(t);Q(s,"unknown event","eventFragment",t),t=s}pt(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const i=(s,o)=>s.type==="string"?Eo(o):s.type==="bytes"?gr(Vt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=Gs(o):s.type.match(/^bytes/)?o=r3(o,32):s.type==="address"&&B(this,Kr).encode(["address"],[o]),vo(Vt(o),32));for(e.forEach((s,o)=>{const a=t.inputs[o];if(!a.indexed){Q(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Q(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(f=>i(a,f))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,e){if(typeof t=="string"){const o=this.getEvent(t);Q(o,"unknown event","eventFragment",t),t=o}const n=[],i=[],s=[];return t.anonymous||n.push(t.topicHash),Q(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((o,a)=>{const f=e[a];if(o.indexed)if(o.type==="string")n.push(Eo(f));else if(o.type==="bytes")n.push(gr(f));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(B(this,Kr).encode([o.type],[f]))}else i.push(o),s.push(f)}),{data:B(this,Kr).encode(i,s),topics:n}}decodeEventLog(t,e,n){if(typeof t=="string"){const w=this.getEvent(t);Q(w,"unknown event","eventFragment",t),t=w}if(n!=null&&!t.anonymous){const w=t.topicHash;Q(Ar(n[0],32)&&n[0].toLowerCase()===w,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],o=[];t.inputs.forEach((w,F)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(i.push(Dr.from({type:"bytes32",name:w.name})),o.push(!0)):(i.push(w),o.push(!1)):(s.push(w),o.push(!1))});const a=n!=null?B(this,Kr).decode(i,Nr(n)):null,f=B(this,Kr).decode(s,e,!0),c=[],h=[];let d=0,m=0;return t.inputs.forEach((w,F)=>{let I=null;if(w.indexed)if(a==null)I=new Pp(null);else if(o[F])I=new Pp(a[m++]);else try{I=a[m++]}catch(K){I=K}else try{I=f[d++]}catch(K){I=K}c.push(I),h.push(w.name||null)}),z0.fromItems(c,h)}parseTransaction(t){const e=De(t.data,"tx.data"),n=ne(t.value!=null?t.value:0,"tx.value"),i=this.getFunction(Vt(e.slice(0,4)));if(!i)return null;const s=B(this,Kr).decode(i.inputs,e.slice(4));return new _5(i,i.selector,s,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new F5(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Vt(t),n=this.getError(wr(e,0,4));if(!n)return null;const i=B(this,Kr).decode(n.inputs,wr(e,4));return new N5(n,n.selector,i)}static from(t){return t instanceof Vo?t:typeof t=="string"?new Vo(JSON.parse(t)):typeof t.format=="function"?new Vo(t.format("json")):new Vo(t)}};mi=new WeakMap,bi=new WeakMap,wi=new WeakMap,Kr=new WeakMap,Na=new WeakSet,A0=function(t,e,n){if(Ar(t)){const s=t.toLowerCase();for(const o of B(this,wi).values())if(s===o.selector)return o;return null}if(t.indexOf("(")===-1){const s=[];for(const[o,a]of B(this,wi))o.split("(")[0]===t&&s.push(a);if(e){const o=e.length>0?e[e.length-1]:null;let a=e.length,f=!0;Zr.isTyped(o)&&o.type==="overrides"&&(f=!1,a--);for(let c=s.length-1;c>=0;c--){const h=s[c].inputs.length;h!==a&&(!f||h!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const h=s[c].inputs;for(let d=0;d<e.length;d++)if(Zr.isTyped(e[d])){if(d>=h.length){if(e[d].type==="overrides")continue;s.splice(c,1);break}if(e[d].type!==h[d].baseType){s.splice(c,1);break}}}}if(s.length===1&&e&&e.length!==s[0].inputs.length){const o=e[e.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");Q(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return s[0]}const i=B(this,wi).get(_i.from(t).format());return i||null},Ba=new WeakSet,v0=function(t,e,n){if(Ar(t)){const s=t.toLowerCase();for(const o of B(this,bi).values())if(s===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const s=[];for(const[o,a]of B(this,bi))o.split("(")[0]===t&&s.push(a);if(e){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<e.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let f=0;f<e.length;f++)if(Zr.isTyped(e[f])&&e[f].type!==a[f].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");Q(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return s[0]}const i=B(this,bi).get(Fi.from(t).format());return i||null};let rh=Vo;const dy=BigInt(0);function Of(r){return r??null}function Wr(r){return r==null?null:r.toString()}class Ip{constructor(t,e,n){j(this,"gasPrice");j(this,"maxFeePerGas");j(this,"maxPriorityFeePerGas");ae(this,{gasPrice:Of(t),maxFeePerGas:Of(e),maxPriorityFeePerGas:Of(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Wr(t),maxFeePerGas:Wr(e),maxPriorityFeePerGas:Wr(n)}}}function Z0(r){const t={};r.to&&(t.to=r.to),r.from&&(t.from=r.from),r.data&&(t.data=Vt(r.data));const e="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of e)!(i in r)||r[i]==null||(t[i]=ne(r[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in r)||r[i]==null||(t[i]=Te(r[i],`request.${i}`));return r.accessList&&(t.accessList=hf(r.accessList)),"blockTag"in r&&(t.blockTag=r.blockTag),"enableCcipRead"in r&&(t.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(t.customData=r.customData),t}var Wi;class B5{constructor(t,e){j(this,"provider");j(this,"number");j(this,"hash");j(this,"timestamp");j(this,"parentHash");j(this,"nonce");j(this,"difficulty");j(this,"gasLimit");j(this,"gasUsed");j(this,"miner");j(this,"extraData");j(this,"baseFeePerGas");ot(this,Wi,void 0);H(this,Wi,t.transactions.map(n=>typeof n!="string"?new oc(n,e):n)),ae(this,{provider:e,hash:Of(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:Of(t.baseFeePerGas)})}get transactions(){return B(this,Wi).map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=B(this,Wi).slice();return t.length===0?[]:(pt(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:n,gasLimit:i,gasUsed:s,hash:o,miner:a,nonce:f,number:c,parentHash:h,timestamp:d,transactions:m}=this;return{_type:"Block",baseFeePerGas:Wr(t),difficulty:Wr(e),extraData:n,gasLimit:Wr(i),gasUsed:Wr(s),hash:o,miner:a,nonce:f,number:c,parentHash:h,timestamp:d,transactions:m}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return B(this,Wi).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=B(this,Wi)[t];else{const n=t.toLowerCase();for(const i of B(this,Wi))if(typeof i=="string"){if(i!==n)continue;e=i;break}else{if(i.hash===n)continue;e=i;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const n of e)if(n.hash===t)return n;Q(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return C5(this)}}Wi=new WeakMap;class kc{constructor(t,e){j(this,"provider");j(this,"transactionHash");j(this,"blockHash");j(this,"blockNumber");j(this,"removed");j(this,"address");j(this,"data");j(this,"topics");j(this,"index");j(this,"transactionIndex");this.provider=e;const n=Object.freeze(t.topics.slice());ae(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:f,transactionIndex:c}=this;return{_type:"log",address:t,blockHash:e,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:f,transactionIndex:c}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return pt(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return pt(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return pt(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return P5(this)}}var dc;class py{constructor(t,e){j(this,"provider");j(this,"to");j(this,"from");j(this,"contractAddress");j(this,"hash");j(this,"index");j(this,"blockHash");j(this,"blockNumber");j(this,"logsBloom");j(this,"gasUsed");j(this,"cumulativeGasUsed");j(this,"gasPrice");j(this,"type");j(this,"status");j(this,"root");ot(this,dc,void 0);H(this,dc,Object.freeze(t.logs.map(i=>new kc(i,e))));let n=dy;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&&(n=t.gasPrice),ae(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:n,type:t.type,status:t.status,root:t.root})}get logs(){return B(this,dc)}toJSON(){const{to:t,from:e,contractAddress:n,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:f,logs:c,status:h,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Wr(this.cumulativeGasUsed),from:e,gasPrice:Wr(this.gasPrice),gasUsed:Wr(this.gasUsed),hash:i,index:s,logs:c,logsBloom:f,root:d,status:h,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return xy(this)}reorderedEvent(t){return pt(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),gy(this,t)}}dc=new WeakMap;var Es;const pd=class pd{constructor(t,e){j(this,"provider");j(this,"blockNumber");j(this,"blockHash");j(this,"index");j(this,"hash");j(this,"type");j(this,"to");j(this,"from");j(this,"nonce");j(this,"gasLimit");j(this,"gasPrice");j(this,"maxPriorityFeePerGas");j(this,"maxFeePerGas");j(this,"data");j(this,"value");j(this,"chainId");j(this,"signature");j(this,"accessList");ot(this,Es,void 0);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,H(this,Es,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:n,hash:i,type:s,to:o,from:a,nonce:f,data:c,signature:h,accessList:d}=this;return{_type:"TransactionReceipt",accessList:d,blockNumber:t,blockHash:e,chainId:Wr(this.chainId),data:c,from:a,gasLimit:Wr(this.gasLimit),gasPrice:Wr(this.gasPrice),hash:i,maxFeePerGas:Wr(this.maxFeePerGas),maxPriorityFeePerGas:Wr(this.maxPriorityFeePerGas),nonce:f,signature:h,to:o,index:n,type:s,value:Wr(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&&(t=n.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:n}=await cn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:n-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const n=t??1,i=e??0;let s=B(this,Es),o=-1,a=s===-1;const f=async()=>{if(a)return null;const{blockNumber:m,nonce:w}=await cn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(w<this.nonce){s=m;return}if(a)return null;const F=await this.getTransaction();if(!(F&&F.blockNumber!=null))for(o===-1&&(o=s-3,o<B(this,Es)&&(o=B(this,Es)));o<=m;){if(a)return null;const I=await this.provider.getBlock(o,!0);if(I==null)return;for(const K of I)if(K===this.hash)return;for(let K=0;K<I.length;K++){const D=await I.getTransaction(K);if(D.from===this.from&&D.nonce===this.nonce){if(a)return null;const Z=await this.provider.getTransactionReceipt(D.hash);if(Z==null||m-Z.blockNumber+1<n)return;let $="replaced";D.data===this.data&&D.to===this.to&&D.value===this.value?$="repriced":D.data==="0x"&&D.from===D.to&&D.value===dy&&($="cancelled"),pt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:$==="replaced"||$==="cancelled",reason:$,replacement:D.replaceableTransaction(s),hash:D.hash,receipt:Z})}}o++}},c=m=>{if(m==null||m.status!==0)return m;pt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:m.to,from:m.from,data:""},receipt:m})},h=await this.provider.getTransactionReceipt(this.hash);if(n===0)return c(h);if(h){if(await h.confirmations()>=n)return c(h)}else if(await f(),n===0)return null;return await new Promise((m,w)=>{const F=[],I=()=>{F.forEach(D=>D())};if(F.push(()=>{a=!0}),i>0){const D=setTimeout(()=>{I(),w(qa("wait for transaction timeout","TIMEOUT"))},i);F.push(()=>{clearTimeout(D)})}const K=async D=>{if(await D.confirmations()>=n){I();try{m(c(D))}catch(Z){w(Z)}}};if(F.push(()=>{this.provider.off(this.hash,K)}),this.provider.on(this.hash,K),s>=0){const D=async()=>{try{await f()}catch(Z){if(ai(Z,"TRANSACTION_REPLACED")){I(),w(Z);return}}a||this.provider.once("block",D)};F.push(()=>{this.provider.off("block",D)}),this.provider.once("block",D)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return pt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),xy(this)}reorderedEvent(t){return pt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),pt(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gy(this,t)}replaceableTransaction(t){Q(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new pd(this,this.provider);return H(e,Es,t),e}};Es=new WeakMap;let oc=pd;function C5(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function gy(r,t){return{orphan:"reorder-transaction",tx:r,other:t}}function xy(r){return{orphan:"drop-transaction",tx:r}}function P5(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class id extends kc{constructor(e,n,i){super(e,e.provider);j(this,"interface");j(this,"fragment");j(this,"args");const s=n.decodeEventLog(i,e.data,e.topics);ae(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yy extends kc{constructor(e,n){super(e,e.provider);j(this,"error");ae(this,{error:n})}}var Ca;class S5 extends py{constructor(e,n,i){super(i,n);ot(this,Ca,void 0);H(this,Ca,e)}get logs(){return super.logs.map(e=>{const n=e.topics.length?B(this,Ca).getEvent(e.topics[0]):null;if(n)try{return new id(e,B(this,Ca),n)}catch(i){return new yy(e,i)}return e})}}Ca=new WeakMap;var pc;class sd extends oc{constructor(e,n,i){super(i,n);ot(this,pc,void 0);H(this,pc,e)}async wait(e){const n=await super.wait(e);return n==null?null:new S5(B(this,pc),this.provider,n)}}pc=new WeakMap;class my extends t2{constructor(e,n,i,s){super(e,n,i);j(this,"log");ae(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class k5 extends my{constructor(t,e,n,i,s){super(t,e,n,new id(s,t.interface,i));const o=t.interface.decodeEventLog(i,this.log.data,this.log.topics);ae(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Tp=BigInt(0);function by(r){return r&&typeof r.call=="function"}function wy(r){return r&&typeof r.estimateGas=="function"}function od(r){return r&&typeof r.resolveName=="function"}function Ay(r){return r&&typeof r.sendTransaction=="function"}var gc;class I5{constructor(t,e,n){ot(this,gc,void 0);j(this,"fragment");if(ae(this,{fragment:e}),e.inputs.length<n.length)throw new Error("too many arguments");const i=No(t.runner,"resolveName"),s=od(i)?i:null;H(this,gc,async function(){const o=await Promise.all(e.inputs.map((a,f)=>n[f]==null?null:a.walkAsync(n[f],(h,d)=>h==="address"?Array.isArray(d)?Promise.all(d.map(m=>Si(m,s))):Si(d,s):d)));return t.interface.encodeFilterTopics(e,o)}())}getTopicFilter(){return B(this,gc)}}gc=new WeakMap;function No(r,t){return r==null?null:typeof r[t]=="function"?r:r.provider&&typeof r.provider[t]=="function"?r.provider:null}function $s(r){return r==null?null:r.provider||null}async function vy(r,t){const e=Zr.dereference(r,"overrides");Q(typeof e=="object","invalid overrides parameter","overrides",r);const n=Z0(e);return Q(n.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Q(n.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=await Si(n.from)),n}async function T5(r,t,e){const n=No(r,"resolveName"),i=od(n)?n:null;return await Promise.all(t.map((s,o)=>s.walkAsync(e[o],(a,f)=>(f=Zr.dereference(f,a),a==="address"?Si(f,i):f))))}function R5(r){const t=async function(o){const a=await vy(o,["data"]);a.to=await r.getAddress();const f=r.interface,c=ne(a.value||Tp,"overrides.value")===Tp,h=(a.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!h&&!c&&Q(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),Q(f.fallback||h,"cannot send data to receive-only contract","overrides.data",a.data);const d=f.receive||f.fallback&&f.fallback.payable;return Q(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),Q(f.fallback||h,"cannot send data to receive-only contract","overrides.data",a.data),a},e=async function(o){const a=No(r.runner,"call");pt(by(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await t(o);try{return await a.call(f)}catch(c){throw Yh(c)&&c.data?r.interface.makeError(c.data,f):c}},n=async function(o){const a=r.runner;pt(Ay(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await a.sendTransaction(await t(o)),c=$s(r.runner);return new sd(r.interface,c,f)},i=async function(o){const a=No(r.runner,"estimateGas");return pt(wy(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await t(o))},s=async o=>await n(o);return ae(s,{_contract:r,estimateGas:i,populateTransaction:t,send:n,staticCall:e}),s}function M5(r,t){const e=function(...c){const h=r.interface.getFunction(t,c);return pt(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:c}}),h},n=async function(...c){const h=e(...c);let d={};if(h.inputs.length+1===c.length&&(d=await vy(c.pop())),h.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const m=await T5(r.runner,h.inputs,c);return Object.assign({},d,await cn({to:r.getAddress(),data:r.interface.encodeFunctionData(h,m)}))},i=async function(...c){const h=await a(...c);return h.length===1?h[0]:h},s=async function(...c){const h=r.runner;pt(Ay(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await h.sendTransaction(await n(...c)),m=$s(r.runner);return new sd(r.interface,m,d)},o=async function(...c){const h=No(r.runner,"estimateGas");return pt(wy(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await n(...c))},a=async function(...c){const h=No(r.runner,"call");pt(by(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await n(...c);let m="0x";try{m=await h.call(d)}catch(F){throw Yh(F)&&F.data?r.interface.makeError(F.data,d):F}const w=e(...c);return r.interface.decodeFunctionResult(w,m)},f=async(...c)=>e(...c).constant?await i(...c):await s(...c);return ae(f,{name:r.interface.getFunctionName(t),_contract:r,_key:t,getFragment:e,estimateGas:o,populateTransaction:n,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=r.interface.getFunction(t);return pt(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),c}}),f}function O5(r,t){const e=function(...i){const s=r.interface.getEvent(t,i);return pt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:i}}),s},n=function(...i){return new I5(r,e(...i),i)};return ae(n,{name:r.interface.getEventName(t),_contract:r,_key:t,getFragment:e}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=r.interface.getEvent(t);return pt(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),i}}),n}const tu=Symbol.for("_ethersInternal_contract"),Ey=new WeakMap;function U5(r,t){Ey.set(r[tu],t)}function mn(r){return Ey.get(r[tu])}function D5(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function ad(r,t){let e,n=null;if(Array.isArray(t)){const s=function(o){if(Ar(o,32))return o;const a=r.interface.getEvent(o);return Q(a,"unknown fragment","name",o),a.topicHash};e=t.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else t==="*"?e=[null]:typeof t=="string"?Ar(t,32)?e=[t]:(n=r.interface.getEvent(t),Q(n,"unknown fragment","event",t),e=[n.topicHash]):D5(t)?e=await t.getTopicFilter():"fragment"in t?(n=t.fragment,e=[n.topicHash]):Q(!1,"unknown event name","event",t);e=e.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=e.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:e}}async function Bf(r,t){const{subs:e}=mn(r);return e.get((await ad(r,t)).tag)||null}async function Rp(r,t,e){const n=$s(r.runner);pt(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await ad(r,e),{addr:a,subs:f}=mn(r);let c=f.get(s);if(!c){const d={address:a||r,topics:o},m=K=>{let D=i;if(D==null)try{D=r.interface.getEvent(K.topics[0])}catch{}if(D){const Z=D,$=i?r.interface.decodeEventLog(i,K.data,K.topics):[];ih(r,e,$,xt=>new k5(r,xt,e,Z,K))}else ih(r,e,[],Z=>new my(r,Z,e,K))};let w=[];c={tag:s,listeners:[],start:()=>{w.length||w.push(n.on(d,m))},stop:async()=>{if(w.length==0)return;let K=w;w=[],await Promise.all(K),n.off(d,m)}},f.set(s,c)}return c}let nh=Promise.resolve();async function L5(r,t,e,n){await nh;const i=await Bf(r,t);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const f=Array.from(e);n&&f.push(n(a?null:o));try{o.call(r,...f)}catch{}return!a}),i.listeners.length===0&&(i.stop(),mn(r).subs.delete(i.tag)),s>0}async function ih(r,t,e,n){try{await nh}catch{}const i=L5(r,t,e,n);return nh=i,await i}const r0=["then"];var iF;const Hf=class Hf{constructor(t,e,n,i){j(this,"target");j(this,"interface");j(this,"runner");j(this,"filters");j(this,iF);j(this,"fallback");Q(typeof t=="string"||B2(t),"invalid value for Contract target","target",t),n==null&&(n=null);const s=rh.from(e);ae(this,{target:t,runner:n,interface:s}),Object.defineProperty(this,tu,{value:{}});let o,a=null,f=null;if(i){const d=$s(n);f=new sd(this.interface,d,i)}let c=new Map;if(typeof t=="string")if(Ar(t))a=t,o=Promise.resolve(t);else{const d=No(n,"resolveName");if(!od(d))throw qa("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(t).then(m=>{if(m==null)throw qa("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return mn(this).addr=m,m})}else o=t.getAddress().then(d=>{if(d==null)throw new Error("TODO");return mn(this).addr=d,d});U5(this,{addrPromise:o,addr:a,deployTx:f,subs:c});const h=new Proxy({},{get:(d,m,w)=>{if(typeof m=="symbol"||r0.indexOf(m)>=0)return Reflect.get(d,m,w);try{return this.getEvent(m)}catch(F){if(!ai(F,"INVALID_ARGUMENT")||F.argument!=="key")throw F}},has:(d,m)=>r0.indexOf(m)>=0?Reflect.has(d,m):Reflect.has(d,m)||this.interface.hasEvent(String(m))});return ae(this,{filters:h}),ae(this,{fallback:s.receive||s.fallback?R5(this):null}),new Proxy(this,{get:(d,m,w)=>{if(typeof m=="symbol"||m in d||r0.indexOf(m)>=0)return Reflect.get(d,m,w);try{return d.getFunction(m)}catch(F){if(!ai(F,"INVALID_ARGUMENT")||F.argument!=="key")throw F}},has:(d,m)=>typeof m=="symbol"||m in d||r0.indexOf(m)>=0?Reflect.has(d,m):d.interface.hasFunction(m)})}connect(t){return new Hf(this.target,this.interface,t)}attach(t){return new Hf(t,this.interface,this.runner)}async getAddress(){return await mn(this).addrPromise}async getDeployedCode(){const t=$s(this.runner);pt(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=$s(this.runner);return pt(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return mn(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),M5(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),O5(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,n){e==null&&(e=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=mn(this),o=i||await s,{fragment:a,topics:f}=await ad(this,t),c={address:o,topics:f,fromBlock:e,toBlock:n},h=$s(this.runner);return pt(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(c)).map(d=>{let m=a;if(m==null)try{m=this.interface.getEvent(d.topics[0])}catch{}if(m)try{return new id(d,this.interface,m)}catch(w){return new yy(d,w)}return new kc(d,h)})}async on(t,e){const n=await Rp(this,"on",t);return n.listeners.push({listener:e,once:!1}),n.start(),this}async once(t,e){const n=await Rp(this,"once",t);return n.listeners.push({listener:e,once:!0}),n.start(),this}async emit(t,...e){return await ih(this,t,e,null)}async listenerCount(t){if(t){const i=await Bf(this,t);return i?i.listeners.length:0}const{subs:e}=mn(this);let n=0;for(const{listeners:i}of e.values())n+=i.length;return n}async listeners(t){if(t){const i=await Bf(this,t);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:e}=mn(this);let n=[];for(const{listeners:i}of e.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(t,e){const n=await Bf(this,t);if(!n)return this;if(e){const i=n.listeners.map(({listener:s})=>s).indexOf(e);i>=0&&n.listeners.splice(i,1)}return(e==null||n.listeners.length===0)&&(n.stop(),mn(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const e=await Bf(this,t);if(!e)return this;e.stop(),mn(this).subs.delete(e.tag)}else{const{subs:e}=mn(this);for(const{tag:n,stop:i}of e.values())i(),e.delete(n)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends Hf{constructor(i,s=null){super(i,t,s)}}return e}static from(t,e,n){return n==null&&(n=null),new this(t,e,n)}};iF=tu;let sh=Hf;function H5(){return sh}class Uf extends H5(){}function pl(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Q(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class G5{constructor(t){j(this,"name");ae(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const Fy=new RegExp("^(ipfs)://(.*)$","i"),Mp=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Fy,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Fs,fo,_s,Do,fu,_y;const Qo=class Qo{constructor(t,e,n){ot(this,_s);j(this,"provider");j(this,"address");j(this,"name");ot(this,Fs,void 0);ot(this,fo,void 0);ae(this,{provider:t,address:e,name:n}),H(this,Fs,null),H(this,fo,new Uf(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return B(this,Fs)==null&&H(this,Fs,(async()=>{try{return await B(this,fo).supportsInterface("0x9061b923")}catch(t){if(ai(t,"CALL_EXCEPTION"))return!1;throw H(this,Fs,null),t}})()),await B(this,Fs)}async getAddress(t){if(t==null&&(t=60),t===60)try{const s=await Mt(this,_s,Do).call(this,"addr(bytes32)");return s==null||s===Wl?null:s}catch(s){if(ai(s,"CALL_EXCEPTION"))return null;throw s}if(t>=0&&t<2147483648){let s=t+2147483648;const o=await Mt(this,_s,Do).call(this,"addr(bytes32,uint)",[s]);if(Ar(o,20))return ar(o)}let e=null;for(const s of this.provider.plugins)if(s instanceof G5&&s.supportsCoinType(t)){e=s;break}if(e==null)return null;const n=await Mt(this,_s,Do).call(this,"addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const i=await e.decodeAddress(t,n);if(i!=null)return i;pt(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const e=await Mt(this,_s,Do).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await Mt(this,_s,Do).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const i=e[1]==="e3010170"?"ipfs":"ipns",s=parseInt(e[4],16);if(e[5].length===s*2)return`${i}://${o3("0x"+e[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;pt(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let n=0;n<Mp.length;n++){const i=e.match(Mp[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=pl(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:s,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const f=(i[2]||"").split("/");if(f.length!==2)return t.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:t};const c=f[1],h=new Uf(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const I=await h.ownerOf(c);if(a!==I)return t.push({type:"!owner",value:I}),{url:null,linkage:t};t.push({type:"owner",value:I})}else if(s==="erc1155"){const I=await h.balanceOf(a,c);if(!I)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:I.toString()})}let d=await h[o](c);if(d==null||d==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:d}),s==="erc1155"&&(d=d.replace("{id}",Gs(c,32).substring(2)),t.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=pl(d)),t.push({type:"metadata-url",value:d});let m={};const w=await new zs(d).send();w.assertOk();try{m=w.bodyJson}catch{try{t.push({type:"!metadata",value:w.bodyText})}catch{const D=w.body;return D&&t.push({type:"!metadata",value:Vt(D)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!m)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(m)});let F=m.image;if(typeof F!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!F.match(/^(https:\/\/|data:)/i)){if(F.match(Fy)==null)return t.push({type:"!imageUrl-ipfs",value:F}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:F}),F=pl(F)}return t.push({type:"url",value:F}),{linkage:t,url:F}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),n=e.getPlugin("org.ethers.plugins.network.Ens");return pt(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),n.address}static async fromName(t,e){var i;let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const s=await Mt(i=Qo,fu,_y).call(i,t,n);if(s!=null){const o=new Qo(t,s,e);return n!==e&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Fs=new WeakMap,fo=new WeakMap,_s=new WeakSet,Do=async function(t,e){e=(e||[]).slice();const n=B(this,fo).interface;e.unshift(Zl(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(t),pt(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[J4(this.name),n.encodeFunctionData(i,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const s=await B(this,fo)[t](...e);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!ai(s,"CALL_EXCEPTION"))throw s}return null},fu=new WeakSet,_y=async function(t,e){const n=await Qo.getEnsAddress(t);try{const s=await new Uf(n,["function resolver(bytes32) view returns (address)"],t).resolver(Zl(e),{enableCcipRead:!0});return s===Wl?null:s}catch(i){throw i}return null},ot(Qo,fu);let eu=Qo;const Op=BigInt(0);function hr(r,t){return function(e){return e==null?t:r(e)}}function fd(r){return t=>{if(!Array.isArray(t))throw new Error("not an array");return t.map(e=>r(e))}}function Ic(r,t){return e=>{const n={};for(const i in r){let s=i;if(t&&i in t&&!(s in e)){for(const o of t[i])if(o in e){s=o;break}}try{const o=r[i](e[s]);o!==void 0&&(n[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";pt(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:e})}}return n}}function z5(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}Q(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function Za(r){return Q(Ar(r,!0),"invalid data","value",r),r}function Vn(r){return Q(Ar(r,32),"invalid hash","value",r),r}const V5=Ic({address:ar,blockHash:Vn,blockNumber:Te,data:Za,index:Te,removed:hr(z5,!1),topics:fd(Vn),transactionHash:Vn,transactionIndex:Te},{index:["logIndex"]});function Q5(r){return V5(r)}const K5=Ic({hash:hr(Vn),parentHash:Vn,number:Te,timestamp:Te,nonce:hr(Za),difficulty:ne,gasLimit:ne,gasUsed:ne,miner:hr(ar),extraData:Za,baseFeePerGas:hr(ne)});function J5(r){const t=K5(r);return t.transactions=r.transactions.map(e=>typeof e=="string"?e:Ny(e)),t}const j5=Ic({transactionIndex:Te,blockNumber:Te,transactionHash:Vn,address:ar,topics:fd(Vn),data:Za,index:Te,blockHash:Vn},{index:["logIndex"]});function Y5(r){return j5(r)}const q5=Ic({to:hr(ar,null),from:hr(ar,null),contractAddress:hr(ar,null),index:Te,root:hr(Vt),gasUsed:ne,logsBloom:hr(Za),blockHash:Vn,hash:Vn,logs:fd(Y5),blockNumber:Te,cumulativeGasUsed:ne,effectiveGasPrice:hr(ne),status:hr(Te),type:hr(Te,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function W5(r){return q5(r)}function Ny(r){r.to&&ne(r.to)===Op&&(r.to="0x0000000000000000000000000000000000000000");const t=Ic({hash:Vn,type:e=>e==="0x"||e==null?0:Te(e),accessList:hr(hf,null),blockHash:hr(Vn,null),blockNumber:hr(Te,null),transactionIndex:hr(Te,null),from:ar,gasPrice:hr(ne),maxPriorityFeePerGas:hr(ne),maxFeePerGas:hr(ne),gasLimit:ne,to:hr(ar,null),value:ne,nonce:Te,data:Za,creates:hr(ar,null),chainId:hr(ne,null)},{data:["input"],gasLimit:["gas"]})(r);if(t.to==null&&t.creates==null&&(t.creates=Q8(t)),(r.type===1||r.type===2)&&r.accessList==null&&(t.accessList=[]),r.signature?t.signature=ci.from(r.signature):t.signature=ci.from(r),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&ne(t.blockHash)===Op&&(t.blockHash=null),t}const $5="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Tc{constructor(t){j(this,"name");ae(this,{name:t})}clone(){return new Tc(this.name)}}class Mu extends Tc{constructor(e,n){e==null&&(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);j(this,"effectiveBlock");j(this,"txBase");j(this,"txCreate");j(this,"txDataZero");j(this,"txDataNonzero");j(this,"txAccessListStorageKey");j(this,"txAccessListAddress");const i={effectiveBlock:e};function s(o,a){let f=(n||{})[o];f==null&&(f=a),Q(typeof f=="number",`invalud value for ${o}`,"costs",n),i[o]=f}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),ae(this,i)}clone(){return new Mu(this.effectiveBlock,this)}}class Ou extends Tc{constructor(e,n){super("org.ethers.plugins.network.Ens");j(this,"address");j(this,"targetNetwork");ae(this,{address:e||$5,targetNetwork:n??1})}clone(){return new Ou(this.address,this.targetNetwork)}}var xc,yc;class By extends Tc{constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ot(this,xc,void 0);ot(this,yc,void 0);H(this,xc,e),H(this,yc,n)}get url(){return B(this,xc)}get processFunc(){return B(this,yc)}clone(){return this}}xc=new WeakMap,yc=new WeakMap;const gl=new Map;var Pa,Sa,Ns;const Ko=class Ko{constructor(t,e){ot(this,Pa,void 0);ot(this,Sa,void 0);ot(this,Ns,void 0);H(this,Pa,t),H(this,Sa,ne(e)),H(this,Ns,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return B(this,Pa)}set name(t){H(this,Pa,t)}get chainId(){return B(this,Sa)}set chainId(t){H(this,Sa,ne(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===ne(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===ne(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===ne(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(B(this,Ns).values())}attachPlugin(t){if(B(this,Ns).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return B(this,Ns).set(t.name,t.clone()),this}getPlugin(t){return B(this,Ns).get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new Ko(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Mu;let n=e.txBase;if(t.to==null&&(n+=e.txCreate),t.data)for(let i=2;i<t.data.length;i+=2)t.data.substring(i,i+2)==="00"?n+=e.txDataZero:n+=e.txDataNonzero;if(t.accessList){const i=hf(t.accessList);for(const s in i)n+=e.txAccessListAddress+e.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(t){if(Z5(),t==null)return Ko.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=gl.get(t);if(e)return e();if(typeof t=="bigint")return new Ko("unknown",t);Q(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){Q(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new Ko(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new Ou(t.ensAddress,t.ensNetwork)),e}Q(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const n=gl.get(t);n&&Q(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),gl.set(t,e)}};Pa=new WeakMap,Sa=new WeakMap,Ns=new WeakMap;let Xs=Ko;function Up(r,t){const e=String(r);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=e.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function Dp(r){return new By(r,async(t,e,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([n.send(),t()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Up(a.maxFee,9),maxPriorityFeePerGas:Up(a.maxPriorityFee,9)}}catch(s){pt(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}function X5(r){return new By("data:",async(t,e,n)=>{const i=await t();if(i.maxFeePerGas==null||i.maxPriorityFeePerGas==null)return i;const s=i.maxFeePerGas-i.maxPriorityFeePerGas;return{gasPrice:i.gasPrice,maxFeePerGas:s+r,maxPriorityFeePerGas:r}})}let Lp=!1;function Z5(){if(Lp)return;Lp=!0;function r(t,e,n){const i=function(){const s=new Xs(t,e);return n.ensNetwork!=null&&s.attachPlugin(new Ou(null,n.ensNetwork)),s.attachPlugin(new Mu),(n.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};Xs.register(t,i),Xs.register(e,i),n.altNames&&n.altNames.forEach(s=>{Xs.register(s,i)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("matic",137,{ensNetwork:1,plugins:[Dp("https://gasstation.polygon.technology/v2")]}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Dp("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[X5(BigInt("1000000"))]}),r("optimism-goerli",420,{}),r("xdai",100,{ensNetwork:1})}function oh(r){return JSON.parse(JSON.stringify(r))}var $i,Ln,Bs,Ai,ka,E0;class tE{constructor(t){ot(this,ka);ot(this,$i,void 0);ot(this,Ln,void 0);ot(this,Bs,void 0);ot(this,Ai,void 0);H(this,$i,t),H(this,Ln,null),H(this,Bs,4e3),H(this,Ai,-2)}get pollingInterval(){return B(this,Bs)}set pollingInterval(t){H(this,Bs,t)}start(){B(this,Ln)||(H(this,Ln,B(this,$i)._setTimeout(Mt(this,ka,E0).bind(this),B(this,Bs))),Mt(this,ka,E0).call(this))}stop(){B(this,Ln)&&(B(this,$i)._clearTimeout(B(this,Ln)),H(this,Ln,null))}pause(t){this.stop(),t&&H(this,Ai,-2)}resume(){this.start()}}$i=new WeakMap,Ln=new WeakMap,Bs=new WeakMap,Ai=new WeakMap,ka=new WeakSet,E0=async function(){try{const t=await B(this,$i).getBlockNumber();if(B(this,Ai)===-2){H(this,Ai,t);return}if(t!==B(this,Ai)){for(let e=B(this,Ai)+1;e<=t;e++){if(B(this,Ln)==null)return;await B(this,$i).emit("block",e)}H(this,Ai,t)}}catch{}B(this,Ln)!=null&&H(this,Ln,B(this,$i)._setTimeout(Mt(this,ka,E0).bind(this),B(this,Bs)))};var co,uo,Cs;class Cy{constructor(t){ot(this,co,void 0);ot(this,uo,void 0);ot(this,Cs,void 0);H(this,co,t),H(this,Cs,!1),H(this,uo,e=>{this._poll(e,B(this,co))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){B(this,Cs)||(H(this,Cs,!0),B(this,uo).call(this,-2),B(this,co).on("block",B(this,uo)))}stop(){B(this,Cs)&&(H(this,Cs,!1),B(this,co).off("block",B(this,uo)))}pause(t){this.stop()}resume(){this.start()}}co=new WeakMap,uo=new WeakMap,Cs=new WeakMap;var cu;class eE extends Cy{constructor(e,n){super(e);ot(this,cu,void 0);H(this,cu,oh(n))}async _poll(e,n){throw new Error("@TODO")}}cu=new WeakMap;var Ia;class rE extends Cy{constructor(e,n){super(e);ot(this,Ia,void 0);H(this,Ia,n)}async _poll(e,n){const i=await n.getTransactionReceipt(B(this,Ia));i&&n.emit(B(this,Ia),i)}}Ia=new WeakMap;var Xi,Ta,Ra,Ps,Hn,uu,Py;class nE{constructor(t,e){ot(this,uu);ot(this,Xi,void 0);ot(this,Ta,void 0);ot(this,Ra,void 0);ot(this,Ps,void 0);ot(this,Hn,void 0);H(this,Xi,t),H(this,Ta,oh(e)),H(this,Ra,Mt(this,uu,Py).bind(this)),H(this,Ps,!1),H(this,Hn,-2)}start(){B(this,Ps)||(H(this,Ps,!0),B(this,Hn)===-2&&B(this,Xi).getBlockNumber().then(t=>{H(this,Hn,t)}),B(this,Xi).on("block",B(this,Ra)))}stop(){B(this,Ps)&&(H(this,Ps,!1),B(this,Xi).off("block",B(this,Ra)))}pause(t){this.stop(),t&&H(this,Hn,-2)}resume(){this.start()}}Xi=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Ps=new WeakMap,Hn=new WeakMap,uu=new WeakSet,Py=async function(t){if(B(this,Hn)===-2)return;const e=oh(B(this,Ta));e.fromBlock=B(this,Hn)+1,e.toBlock=t;const n=await B(this,Xi).getLogs(e);if(n.length===0){B(this,Hn)<t-60&&H(this,Hn,t-60);return}for(const i of n)B(this,Xi).emit(B(this,Ta),i),H(this,Hn,i.blockNumber)};const iE=BigInt(2),sE=10;function n0(r){return r&&typeof r.then=="function"}function F0(r,t){return r+":"+JSON.stringify(t,(e,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,o)=>(s[o]=n[o],s),{})}return n})}class oE{constructor(t){j(this,"name");ae(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function aE(r){return JSON.parse(JSON.stringify(r))}function ah(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function xl(r,t){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"pending":case"debug":case"error":case"network":return{type:r,tag:r}}if(Ar(r,32)){const e=r.toLowerCase();return{type:"transaction",tag:F0("tx",{hash:e}),hash:e}}if(r.orphan){const e=r;return{type:"orphan",tag:F0("orphan",e),filter:aE(e)}}if(r.address||r.topics){const e=r,n={topics:(e.topics||[]).map(i=>i==null?null:Array.isArray(i)?ah(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(e.address){const i=[],s=[],o=a=>{Ar(a)?i.push(a):s.push((async()=>{i.push(await Si(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),s.length&&await Promise.all(s),n.address=ah(i.map(a=>a.toLowerCase()))}return{filter:n,tag:F0("event",n),type:"event"}}Q(!1,"unknown ProviderEvent","event",r)}function yl(){return new Date().getTime()}const fE={cacheTimeout:250,pollingInterval:4e3};var Jr,Ss,jr,Ma,An,lo,ks,Zi,mc,Gn,Oa,Ua,fn,Rn,bc,fh,wc,ch,ho,Cf,Ac,uh,po,Pf,Da,_0;class cE{constructor(t,e){ot(this,fn);ot(this,bc);ot(this,wc);ot(this,ho);ot(this,Ac);ot(this,po);ot(this,Da);ot(this,Jr,void 0);ot(this,Ss,void 0);ot(this,jr,void 0);ot(this,Ma,void 0);ot(this,An,void 0);ot(this,lo,void 0);ot(this,ks,void 0);ot(this,Zi,void 0);ot(this,mc,void 0);ot(this,Gn,void 0);ot(this,Oa,void 0);ot(this,Ua,void 0);if(H(this,Ua,Object.assign({},fE,e||{})),t==="any")H(this,lo,!0),H(this,An,null);else if(t){const n=Xs.from(t);H(this,lo,!1),H(this,An,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else H(this,lo,!1),H(this,An,null);H(this,Zi,-1),H(this,ks,new Map),H(this,Jr,new Map),H(this,Ss,new Map),H(this,jr,null),H(this,Ma,!1),H(this,mc,1),H(this,Gn,new Map),H(this,Oa,!1)}get pollingInterval(){return B(this,Ua).pollingInterval}get provider(){return this}get plugins(){return Array.from(B(this,Ss).values())}attachPlugin(t){if(B(this,Ss).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return B(this,Ss).set(t.name,t.connect(this)),this}getPlugin(t){return B(this,Ss).get(t)||null}get disableCcipRead(){return B(this,Oa)}set disableCcipRead(t){H(this,Oa,!!t)}async ccipReadFetch(t,e,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const i=t.to.toLowerCase(),s=e.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const f=n[a],c=f.replace("{sender}",i).replace("{data}",s),h=new zs(c);f.indexOf("{data}")===-1&&(h.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:h,index:a,urls:n});let d="unknown error";const m=await h.send();try{const w=m.bodyJson;if(w.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:h,result:w}),w.data;w.message&&(d=w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:w})}catch{}pt(m.statusCode<400||m.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:f,errorMessage:d}}),o.push(d)}pt(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:o}})}_wrapBlock(t,e){return new B5(J5(t),this)}_wrapLog(t,e){return new kc(Q5(t),this)}_wrapTransactionReceipt(t,e){return new py(W5(t),this)}_wrapTransactionResponse(t,e){return new oc(Ny(t),this)}_detectNetwork(){pt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){pt(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=Te(await Mt(this,fn,Rn).call(this,{method:"getBlockNumber"}),"%response");return B(this,Zi)>=0&&H(this,Zi,t),t}_getAddress(t){return Si(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(Ar(t))return Ar(t,32)?t:Ws(t);if(typeof t=="bigint"&&(t=Te(t,"blockTag")),typeof t=="number")return t>=0?Ws(t):B(this,Zi)>=0?Ws(B(this,Zi)+t):this.getBlockNumber().then(e=>Ws(e+t));Q(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(f=>f==null?null:Array.isArray(f)?ah(f.map(c=>c.toLowerCase())):f.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,i=(f,c,h)=>{let d;switch(f.length){case 0:break;case 1:d=f[0];break;default:f.sort(),d=f}if(n&&(c!=null||h!=null))throw new Error("invalid filter");const m={};return d&&(m.address=d),e.length&&(m.topics=e),c&&(m.fromBlock=c),h&&(m.toBlock=h),n&&(m.blockHash=n),m};let s=[];if(t.address)if(Array.isArray(t.address))for(const f of t.address)s.push(this._getAddress(f));else s.push(this._getAddress(t.address));let o;"fromBlock"in t&&(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&&(a=this._getBlockTag(t.toBlock)),s.filter(f=>typeof f!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(f=>i(f[0],f[1],f[2])):i(s,o,a)}_getTransactionRequest(t){const e=Z0(t),n=[];if(["to","from"].forEach(i=>{if(e[i]==null)return;const s=Si(e[i]);n0(s)?n.push(async function(){e[i]=await s}()):e[i]=s}),e.blockTag!=null){const i=this._getBlockTag(e.blockTag);n0(i)?n.push(async function(){e.blockTag=await i}()):e.blockTag=i}return n.length?async function(){return await Promise.all(n),e}():e}async getNetwork(){if(B(this,An)==null){const i=this._detectNetwork().then(s=>(this.emit("network",s,null),s),s=>{throw B(this,An)===i&&H(this,An,null),s});return H(this,An,i),(await i).clone()}const t=B(this,An),[e,n]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==n.chainId&&(B(this,lo)?(this.emit("network",n,e),B(this,An)===t&&H(this,An,Promise.resolve(n))):pt(!1,`network changed: ${e.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:i,gasPrice:s}=await cn({_block:Mt(this,Ac,uh).call(this,"latest",!1),gasPrice:(async()=>{try{const c=await Mt(this,fn,Rn).call(this,{method:"getGasPrice"});return ne(c,"%response")}catch{}return null})()});let o=null,a=null;const f=this._wrapBlock(i,t);return f&&f.baseFeePerGas&&(a=BigInt("1000000000"),o=f.baseFeePerGas*iE+a),new Ip(s,o,a)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new zs(n.url),s=await n.processFunc(e,this,i);return new Ip(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return n0(e)&&(e=await e),ne(await Mt(this,fn,Rn).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:n}=await cn({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await Mt(this,wc,ch).call(this,Mt(this,bc,fh).call(this,e,n,t.enableCcipRead?0:-1))}async getBalance(t,e){return ne(await Mt(this,ho,Cf).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return Te(await Mt(this,ho,Cf).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return Vt(await Mt(this,ho,Cf).call(this,{method:"getCode"},t,e))}async getStorage(t,e,n){const i=ne(e,"position");return Vt(await Mt(this,ho,Cf).call(this,{method:"getStorage",position:i},t,n))}async broadcastTransaction(t){const{blockNumber:e,hash:n,network:i}=await cn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),s=ic.from(t);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(e)}async getBlock(t,e){const{network:n,params:i}=await cn({network:this.getNetwork(),params:Mt(this,Ac,uh).call(this,t,!!e)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(t){const{network:e,params:n}=await cn({network:this.getNetwork(),params:Mt(this,fn,Rn).call(this,{method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,e)}async getTransactionReceipt(t){const{network:e,params:n}=await cn({network:this.getNetwork(),params:Mt(this,fn,Rn).call(this,{method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await Mt(this,fn,Rn).call(this,{method:"getTransaction",hash:t});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,e)}async getTransactionResult(t){const{result:e}=await cn({network:this.getNetwork(),result:Mt(this,fn,Rn).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:Vt(e)}async getLogs(t){let e=this._getFilter(t);n0(e)&&(e=await e);const{network:n,params:i}=await cn({network:this.getNetwork(),params:Mt(this,fn,Rn).call(this,{method:"getLogs",filter:e})});return i.map(s=>this._wrapLog(s,n))}_getProvider(t){pt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await eu.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=ar(t);const e=Zl(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await eu.getEnsAddress(this),s=await new Uf(n,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(s==null||s===Wl)return null;const a=await new Uf(s,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(a)!==t?null:a}catch(n){if(ai(n,"BAD_DATA")&&n.value==="0x"||ai(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,e,n){const i=e??1;return i===0?this.getTransactionReceipt(t):new Promise(async(s,o)=>{let a=null;const f=async c=>{try{const h=await this.getTransactionReceipt(t);if(h!=null&&c-h.blockNumber+1>=i){s(h),a&&(clearTimeout(a),a=null);return}}catch(h){console.log("EEE",h)}this.once("block",f)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",f),o(qa("timeout","TIMEOUT",{reason:"timeout"})))},n)),f(await this.getBlockNumber())})}async waitForBlock(t){pt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=B(this,Gn).get(t);e&&(e.timer&&clearTimeout(e.timer),B(this,Gn).delete(t))}_setTimeout(t,e){e==null&&(e=0);const n=Lu(this,mc)._++,i=()=>{B(this,Gn).delete(n),t()};if(this.paused)B(this,Gn).set(n,{timer:null,func:i,time:e});else{const s=setTimeout(i,e);B(this,Gn).set(n,{timer:s,func:i,time:yl()})}return n}_forEachSubscriber(t){for(const e of B(this,Jr).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new oE(t.type);case"block":{const e=new tE(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new nE(this,t.filter);case"transaction":return new rE(this,t.hash);case"orphan":return new eE(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const n of B(this,Jr).values())if(n.subscriber===t){n.started&&n.subscriber.stop(),n.subscriber=e,n.started&&e.start(),B(this,jr)!=null&&e.pause(B(this,jr));break}}async on(t,e){const n=await Mt(this,Da,_0).call(this,t);return n.listeners.push({listener:e,once:!1}),n.started||(n.subscriber.start(),n.started=!0,B(this,jr)!=null&&n.subscriber.pause(B(this,jr))),this}async once(t,e){const n=await Mt(this,Da,_0).call(this,t);return n.listeners.push({listener:e,once:!0}),n.started||(n.subscriber.start(),n.started=!0,B(this,jr)!=null&&n.subscriber.pause(B(this,jr))),this}async emit(t,...e){const n=await Mt(this,po,Pf).call(this,t,e);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:o})=>{const a=new t2(this,o?null:s,t);try{s.call(this,...e,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),B(this,Jr).delete(n.tag)),i>0}async listenerCount(t){if(t){const n=await Mt(this,po,Pf).call(this,t);return n?n.listeners.length:0}let e=0;for(const{listeners:n}of B(this,Jr).values())e+=n.length;return e}async listeners(t){if(t){const n=await Mt(this,po,Pf).call(this,t);return n?n.listeners.map(({listener:i})=>i):[]}let e=[];for(const{listeners:n}of B(this,Jr).values())e=e.concat(n.map(({listener:i})=>i));return e}async off(t,e){const n=await Mt(this,po,Pf).call(this,t);if(!n)return this;if(e){const i=n.listeners.map(({listener:s})=>s).indexOf(e);i>=0&&n.listeners.splice(i,1)}return(!e||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),B(this,Jr).delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:n,subscriber:i}=await Mt(this,Da,_0).call(this,t);n&&i.stop(),B(this,Jr).delete(e)}else for(const[e,{started:n,subscriber:i}]of B(this,Jr))n&&i.stop(),B(this,Jr).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return B(this,Ma)}destroy(){this.removeAllListeners();for(const t of B(this,Gn).keys())this._clearTimeout(t);H(this,Ma,!0)}get paused(){return B(this,jr)!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(H(this,Zi,-1),B(this,jr)!=null){if(B(this,jr)==!!t)return;pt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),H(this,jr,!!t);for(const e of B(this,Gn).values())e.timer&&clearTimeout(e.timer),e.time=yl()-e.time}resume(){if(B(this,jr)!=null){this._forEachSubscriber(t=>t.resume()),H(this,jr,null);for(const t of B(this,Gn).values()){let e=t.time;e<0&&(e=0),t.time=yl(),setTimeout(t.func,e)}}}}Jr=new WeakMap,Ss=new WeakMap,jr=new WeakMap,Ma=new WeakMap,An=new WeakMap,lo=new WeakMap,ks=new WeakMap,Zi=new WeakMap,mc=new WeakMap,Gn=new WeakMap,Oa=new WeakMap,Ua=new WeakMap,fn=new WeakSet,Rn=async function(t){const e=B(this,Ua).cacheTimeout;if(e<0)return await this._perform(t);const n=F0(t.method,t);let i=B(this,ks).get(n);return i||(i=this._perform(t),B(this,ks).set(n,i),setTimeout(()=>{B(this,ks).get(n)===i&&B(this,ks).delete(n)},e)),await i},bc=new WeakSet,fh=async function(t,e,n){pt(n<sE,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const i=Z0(t);try{return Vt(await this._perform({method:"call",transaction:i,blockTag:e}))}catch(s){if(!this.disableCcipRead&&Yh(s)&&s.data&&n>=0&&e==="latest"&&i.to!=null&&wr(s.data,0,4)==="0x556f1830"){const o=s.data,a=await Si(i.to,this);let f;try{f=pE(wr(s.data,4))}catch(d){pt(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}pt(f.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const c=await this.ccipReadFetch(i,f.calldata,f.urls);pt(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:f.errorArgs}});const h={to:a,data:Nr([f.selector,dE([c,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:h});try{const d=await Mt(this,bc,fh).call(this,h,e,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},h),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},h),error:d}),d}}throw s}},wc=new WeakSet,ch=async function(t){const{value:e}=await cn({network:this.getNetwork(),value:t});return e},ho=new WeakSet,Cf=async function(t,e,n){let i=this._getAddress(e),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await Mt(this,wc,ch).call(this,Mt(this,fn,Rn).call(this,Object.assign(t,{address:i,blockTag:s})))},Ac=new WeakSet,uh=async function(t,e){if(Ar(t,32))return await Mt(this,fn,Rn).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let n=this._getBlockTag(t);return typeof n!="string"&&(n=await n),await Mt(this,fn,Rn).call(this,{method:"getBlock",blockTag:n,includeTransactions:e})},po=new WeakSet,Pf=async function(t,e){let n=await xl(t,this);return n.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(n=await xl({orphan:"drop-log",log:e[0]},this)),B(this,Jr).get(n.tag)||null},Da=new WeakSet,_0=async function(t){const e=await xl(t,this),n=e.tag;let i=B(this,Jr).get(n);return i||(i={subscriber:this._getSubscriber(e),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},B(this,Jr).set(n,i)),i};function uE(r,t){try{const e=lh(r,t);if(e)return Wh(e)}catch{}return null}function lh(r,t){if(r==="0x")return null;try{const e=Te(wr(r,t,t+32)),n=Te(wr(r,e,e+32));return wr(r,e+32,e+32+n)}catch{}return null}function Hp(r){const t=Nn(r);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function lE(r){if(r.length%32===0)return r;const t=new Uint8Array(Math.ceil(r.length/32)*32);return t.set(r),t}const hE=new Uint8Array([]);function dE(r){const t=[];let e=0;for(let n=0;n<r.length;n++)t.push(hE),e+=32;for(let n=0;n<r.length;n++){const i=De(r[n]);t[n]=Hp(e),t.push(Hp(i.length)),t.push(lE(i)),e+=32+Math.ceil(i.length/32)*32}return Nr(t)}const Gp="0x0000000000000000000000000000000000000000000000000000000000000000";function pE(r){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};pt(Xo(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=wr(r,0,32);pt(wr(e,0,12)===wr(Gp,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=wr(e,12);try{const n=[],i=Te(wr(r,32,64)),s=Te(wr(r,i,i+32)),o=wr(r,i+32);for(let a=0;a<s;a++){const f=uE(o,a*32);if(f==null)throw new Error("abort");n.push(f)}t.urls=n}catch{pt(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=lh(r,64);if(n==null)throw new Error("abort");t.calldata=n}catch{pt(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}pt(wr(r,100,128)===wr(Gp,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=wr(r,96,100);try{const n=lh(r,128);if(n==null)throw new Error("abort");t.extraData=n}catch{pt(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>t[n]),t}function Mo(r,t){if(r.provider)return r.provider;pt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function zp(r,t){let e=Z0(t);if(e.to!=null&&(e.to=Si(e.to,r)),e.from!=null){const n=e.from;e.from=Promise.all([r.getAddress(),Si(n,r)]).then(([i,s])=>(Q(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else e.from=r.getAddress();return await cn(e)}class gE{constructor(t){j(this,"provider");ae(this,{provider:t||null})}async getNonce(t){return Mo(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await zp(this,t)}async populateTransaction(t){const e=Mo(this,"populateTransaction"),n=await zp(this,t);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const o=ne(n.chainId);Q(o===i.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?Q(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&&s&&Q(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await e.getFeeData();pt(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(pt(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):pt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await cn(n)}async estimateGas(t){return Mo(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return Mo(this,"call").call(await this.populateCall(t))}async resolveName(t){return await Mo(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=Mo(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const i=ic.from(n);return await e.broadcastTransaction(await this.signTransaction(i))}}var ru=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})},Vp=globalThis&&globalThis.__classPrivateFieldGet||function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},N0,hh;const xE=1,yE=3e7,mE=0,bE=20,wE=4e3,AE="0x",vE=()=>`0x${"0".repeat(40)}`;class EE{constructor(){this.cachedSignatures=new Map,this.cachedLeashes=new Map}clear(){this.cachedSignatures.clear(),this.cachedLeashes.clear()}cache(t,e,n,i,s){this.cachedSignatures.has(t)||this.cachedSignatures.set(t,new Map),this.cachedSignatures.get(t).set(i,s),this.cachedLeashes.set(e,{nonce:n.leash.nonce,block_number:n.leash.blockNumber,block_hash:n.leash.blockHash,block_range:n.leash.blockRange})}get(t,e){var n;return(n=this.cachedSignatures.get(t))===null||n===void 0?void 0:n.get(e)}getLeash(t){return this.cachedLeashes.get(t)}}const Df=new EE;function FE(r){return{domain:{name:"oasis-runtime-sdk/evm: signed query",version:"1.0.0",chainId:r},types:{Call:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"gasLimit",type:"uint64"},{name:"gasPrice",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"leash",type:"Leash"}],Leash:[{name:"nonce",type:"uint64"},{name:"blockNumber",type:"uint64"},{name:"blockHash",type:"bytes32"},{name:"blockRange",type:"uint64"}]}}}class Rc{static make(t,e,n){return ru(this,void 0,void 0,function*(){const i=yield NE(e,n==null?void 0:n.leash);return new Rc(i,yield CE(BE(t,i),e,{chainId:n==null?void 0:n.chainId}),t.data?Sy(t.data):void 0)})}constructor(t,e,n){this.leash=t,this.signature=e,this.data=n,N0.add(this)}encode(){return Vp(this,N0,"m",hh).call(this,this.data?{body:this.data}:void 0)}encryptEncode(t){return ru(this,void 0,void 0,function*(){return this.data?Vp(this,N0,"m",hh).call(this,yield t.encryptEnvelope(this.data)):this.encode()})}}N0=new WeakSet,hh=function(t){return Vt(Oo({data:t||void 0,leash:this.leash,signature:this.signature}))};function Sy(r){return Array.isArray(r)?new Uint8Array(r):$r(r)}function _E(r){return Array.isArray(r)?Vt(new Uint8Array(r)):Vt(r)}function NE(r,t){var e;return ru(this,void 0,void 0,function*(){((t==null?void 0:t.nonce)!==void 0||(t==null?void 0:t.block)!==void 0)&&Df.clear();const n=t!=null&&t.nonce?t.nonce:"getNonce"in r?r.getNonce("pending"):r.getTransactionCount("pending");let i;if((t==null?void 0:t.block)!==void 0)i=t.block;else{if(!r.provider)throw new Error("`sapphire.wrap`ped signer was not connected to a provider");const f=yield r.provider.getBlock("latest");if(!f)throw new Error("unable to get latest block");i=r.provider.getBlock(f.number-2)}const[s,o]=yield Promise.all([n,i]),a=(e=t==null?void 0:t.blockRange)!==null&&e!==void 0?e:wE;if((t==null?void 0:t.nonce)===void 0&&(t==null?void 0:t.block)===void 0){if(!r.provider)throw new Error("`sapphire.wrap`ped signer was not connected to a provider");const{chainId:f}=yield r.provider.getNetwork(),c=Df.getLeash(BigInt(f));if(c!==void 0){if(c.nonce>s&&c.block_number+a>o.number+2)return c;Df.clear()}}return{nonce:t!=null&&t.nonce?t.nonce:s+bE,block_number:o.number,block_hash:$r(o.hash),block_range:a}})}function BE(r,t){var e,n,i,s,o;return{from:r.from,to:(e=r.to)!==null&&e!==void 0?e:vE(),gasLimit:Et.from((i=(n=r.gas)!==null&&n!==void 0?n:r.gasLimit)!==null&&i!==void 0?i:yE).toNumber(),gasPrice:Et.from((s=r.gasPrice)!==null&&s!==void 0?s:xE),value:Et.from((o=r.value)!==null&&o!==void 0?o:mE),data:r.data?_E(r.data):AE,leash:{nonce:t.nonce,blockNumber:t.block_number,blockHash:t.block_hash,blockRange:t.block_range}}}function CE(r,t,e){return ru(this,void 0,void 0,function*(){const n=yield t.getAddress();let i;if(e!=null&&e.chainId)i=BigInt(e.chainId);else if(t.provider)({chainId:i}=yield t.provider.getNetwork());else throw new Error("must either connect provider or provide manual chainId override");const{domain:s,types:o}=FE(Number(i)),a=PE(s),f=SE(r),c=th.hash(a,o,f);let h=Df.get(n,c);return"_signTypedData"in t?h=De(yield t._signTypedData(s,o,r)):h=De(yield t.signTypedData(a,o,f)),Df.cache(n,BigInt(i),r,c,h),h})}function PE(r){return Object.assign(Object.assign({},r),{salt:r.salt?Sy(r.salt):void 0,chainId:r.chainId?Et.from(r.chainId).toHexString():void 0})}function SE(r){const t=e=>{if(e!=null)return typeof e=="string"?e:e instanceof Et?e.toHexString():Ws(e)};return Object.assign(Object.assign({},r),{gasPrice:t(r.gasPrice),value:t(r.value),data:r.data?De(r.data):void 0})}var Pr=globalThis&&globalThis.__awaiter||function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(d){o(d)}}function f(h){try{c(n.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,f)}c((n=n.apply(r,t||[])).next())})},kE=globalThis&&globalThis.__rest||function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const Uu="sapphire",as=1e7;function dh(r,t){if(typeof r!="string"&&Reflect.get(r,Uu)!==void 0)return r;if(typeof r=="string"){const n=new Mh(r),i=t??Qp(n),s=TE(n,i),o=qp(s);return zo(n,i,{send:o,sendAsync:o,request:s})}const e=t??Qp(r);if(ud(r)){let n;if(r.provider)try{n=r.connect(Jp(r.provider,e,r))}catch(s){if(s.code!=="UNSUPPORTED_OPERATION")throw s;n=r}else n=r;const i={sendTransaction:Yp(n.sendTransaction.bind(n),e),signTransaction:Yp(n.signTransaction.bind(n),e),call:yh(n,"call",e),estimateGas:()=>Pr(this,void 0,void 0,function*(){return BigInt(as)}),connect(s){return dh(n.connect(s),e)}};return zo(n,e,i)}if(cd(r)){let n;if(r.provider)try{n=r.connect(Kp(r.provider,e,r))}catch(s){if(s.code!=="UNSUPPORTED_OPERATION")throw s;n=r}else n=r;const i={sendTransaction:jp(n.sendTransaction.bind(n),e),signTransaction:jp(n.signTransaction.bind(n),e),call:xh(n,"call",e),estimateGas:()=>Pr(this,void 0,void 0,function*(){return Et.from(as)}),connect(s){return dh(n.connect(s),e)}};return zo(n,e,i)}if(ph(r))return Kp(r,e);if(gh(r))return Jp(r,e);if("request"in r||"send"in r||"sendAsync"in r){const n=Ry(r).getSigner(),i=IE(n,e),s=qp(i);let o=s;return"send"in r&&ky(r.send)&&(o=(a,f)=>i({method:a,params:f})),zo(r,e,{request:i,send:o,sendAsync:s})}throw new TypeError("Unable to wrap unsupported upstream signer.")}function ky(r){if(!r)return!1;try{const t=r();if(t instanceof Promise)return t.catch(()=>{}),!0}catch{}return!1}function Qp(r){return Y6(()=>Pr(this,void 0,void 0,function*(){const t=yield UE(r);return H0.ephemeral(t)}))}function zo(r,t,e){return new Proxy(r,{get(n,i){if(i===Uu)return{cipher:t};if(i in e)return Reflect.get(e,i);const s=Reflect.get(n,i);return typeof s=="function"?s.bind(n):s}})}function Kp(r,t,e){if(Reflect.get(r,Uu)!==void 0)return r;const n=e?{sendTransaction:i=>Pr(this,void 0,void 0,function*(){const s=yield Ty(yield i,t,e);return r.sendTransaction(s)})}:{call:xh(r,"call",t),estimateGas:xh(r,"estimateGas",t)};return zo(r,t,n)}function Jp(r,t,e){if(Reflect.get(r,Uu)!==void 0)return r;const n=e?{}:{call:yh(r,"call",t),estimateGas:yh(r,"estimateGas",t)};return zo(r,t,n)}function ph(r){return mu.isProvider(r)}function cd(r){return vc.isSigner(r)&&"_signTypedData"in r}function ud(r){return r instanceof gE}function gh(r){return r instanceof cE}function xh(r,t,e){const n=(i,s,o)=>Pr(this,void 0,void 0,function*(){return i[t](Object.assign(Object.assign({},s),{data:e.encryptEncode(yield s.data)}),o)});return(i,s)=>Pr(this,void 0,void 0,function*(){let o;if(cd(r)){const a=r;if(yield ld(i)){const f=yield Rc.make(yield Iy(i),a);o=yield a[t](Object.assign(Object.assign({},i),{data:f.encryptEncode(e)}),s)}else{if(!a.provider)throw new Error("unable to sign call");o=yield n(a.provider,i,s)}}else o=yield n(r,i,s);return typeof o=="string"?e.decryptEncoded(o):o})}function yh(r,t,e){const n=(i,s)=>Pr(this,void 0,void 0,function*(){var o;return i[t](Object.assign(Object.assign({},s),{data:yield e.encryptEncode((o=s.data)!==null&&o!==void 0?o:new Uint8Array)}))});return i=>Pr(this,void 0,void 0,function*(){let s;if(ud(r)){const o=r;if(!o.provider)throw new Error("signer not connected to a provider");const a=o.provider;if(yield ld(i)){const f=yield Rc.make(yield Iy(i),o);s=yield a[t](Object.assign(Object.assign({},i),{data:yield f.encryptEncode(e)}))}else s=yield n(a,i)}else s=yield n(r,i);return typeof s=="string"?e.decryptEncoded(s):s})}function jp(r,t){return(e,...n)=>Pr(this,void 0,void 0,function*(){const i=yield e.data;return e.data=t.encryptEncode(i),e.gasLimit||(e.gasLimit=as),r(e,...n)})}function Yp(r,t){return(e,...n)=>Pr(this,void 0,void 0,function*(){return e.data&&(e.data=yield t.encryptEncode(e.data)),e.gasLimit||(e.gasLimit=as),r(e,...n)})}function ld(r){return Pr(this,void 0,void 0,function*(){const[t,e]=yield Promise.all([r.from,r.to]);return!!e&&!!t&&typeof t=="string"&&!/^(0x)?0{40}$/.test(t)})}function Iy(r){return Pr(this,void 0,void 0,function*(){return Object.fromEntries(yield Promise.all(Object.entries(r).map(([t,e])=>Pr(this,void 0,void 0,function*(){return[t,yield e]}))))})}function IE(r,t){return e=>Pr(this,void 0,void 0,function*(){if(e.method==="eth_estimateGas")return Et.from(as).toHexString();const{method:n,params:i}=yield RE(e,r,t),s=yield r.provider.send(n,i??[]);return n==="eth_call"?t.decryptEncoded(s):s})}function TE(r,t){return({method:e,params:n})=>Pr(this,void 0,void 0,function*(){return e==="eth_estimateGas"?Et.from(as).toHexString():e==="eth_call"&&n?(n[0].data=yield t.encryptEncode(n[0].data),n[0].gasLimit||(n[0].gasLimit=as),r.send(e,n)):r.send(e,n??[])})}function qp(r){return(t,e)=>{r(t).then(n=>e(null,{jsonrpc:"2.0",id:t.id,result:n})).catch(n=>e(n))}}function RE({method:r,params:t},e,n){return Pr(this,void 0,void 0,function*(){if(!Array.isArray(t))return{method:r,params:t};if(r==="eth_sendRawTransaction")return{method:r,params:[yield Ty(t[0],n,e)]};if((r==="eth_call"||r==="eth_estimateGas")&&(yield ld(t[0]))){const i=yield Rc.make(t[0],e),s=Object.assign(Object.assign({},t[0]),{data:yield i.encryptEncode(n)});return{method:r,params:[s,...t.slice(1)]}}return/^eth_((send|sign)Transaction|call|estimateGas)$/.test(r)?(t[0].data=yield n.encryptEncode(t[0].data),t[0].gasLimit||(t[0].gasLimit=as),{method:r,params:t}):{method:r,params:t}})}const ml="Un-enveloped data was passed to sendRawTransaction, which is likely incorrect. Is the dapp using the Sapphire compat lib correctly?";function Ty(r,t,e){var n,i,s;return Pr(this,void 0,void 0,function*(){const a=gu(r),f=Zt(a[5],{allowMissingPrefix:!0});try{const m=x0(f),{format:w,body:F}=m,I=kE(m,["format","body"]);if(ME(w,F,I))return r;throw new Wp("Bogus enveloped data found in sendRawTransaction.")}catch(m){if(m instanceof Wp)throw m;((i=(n=globalThis==null?void 0:globalThis.process)===null||n===void 0?void 0:n.env)===null||i===void 0?void 0:i.NODE_ENV)!=="test"&&console.trace(ml)}const c=ic.from(r),h=m=>{if(m)return Ws(m)},d={to:c.to,from:c.from,data:c.data,nonce:c.nonce,gasLimit:h(c.gasLimit),gasPrice:(s=h(c.gasPrice))!==null&&s!==void 0?s:void 0,value:h(c.value),chainId:Number(c.chainId)};if(!e)throw new ra(ml,null);d.gasLimit||(d.gasLimit=h(BigInt(as)));try{return e.signTransaction(Object.assign(Object.assign({},d),{data:yield t.encryptEncode(f)}))}catch(m){throw new ra(ml,m)}})}function ME(r,t,e){return!(Object.keys(e).length>0||!t||r&&r!==Ya.Plain&&(Ha(t)||!Ha(t.data)))}class Wp extends Error{}function OE(){const r={};return r.promise=new Promise((t,e)=>{r.resolve=t,r.reject=e}),r}function UE(r){return Pr(this,void 0,void 0,function*(){const t=cd(r)||ud(r),e=t?r.provider:r;if(e&&"send"in e)try{const i=e,s=OE(),o=function(f,c){c&&s.resolve(c.result),s.reject(f)};let a;if(!t&&!ph(e)&&!gh(e)){if(a=yield i.send({method:mh,params:[]},o),a===void 0&&(a=yield s.promise,a===void 0))throw Error("Got unexpected `undefined` from source.send callback!")}else a=yield i.send(mh,[]);if("key"in a){const f=a.key;return Zt(f)}}catch{}if(ph(r)||gh(r)){const i=Number((yield r.getNetwork()).chainId);return sl(i)}if(t){const i=Number((yield r.provider.getNetwork()).chainId);return sl(i)}const n=(yield Ry(r).getNetwork()).chainId;return sl(n)})}function Ry(r){let t;return"send"in r&&ky(r.send)?t={request:({method:e,params:n})=>r.send(e,n??[])}:t=r,new jA(t)}const bl={chainId:23294,defaultGateway:"https://sapphire.oasis.io/",runtimeId:"0x000000000000000000000000000000000000000000000000f80306c9858e7279"},wl={chainId:23295,defaultGateway:"https://testnet.sapphire.oasis.dev/",runtimeId:"0x000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c"},Al={chainId:23293,defaultGateway:"http://localhost:8545/",runtimeId:"0x8000000000000000000000000000000000000000000000000000000000000000"},DE={mainnet:bl,testnet:wl,localnet:Al,[bl.chainId]:bl,[wl.chainId]:wl,[Al.chainId]:Al},mh="oasis_callDataPublicKey";class ra extends Error{constructor(t,e){super(t),this.response=e}}var LE=0;function Ht(r,t,e,n,i,s){var o,a,f={};for(a in t)a=="ref"?o=t[a]:f[a]=t[a];var c={type:r,props:f,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--LE,__source:i,__self:s};if(typeof r=="function"&&(o=r.defaultProps))for(a in o)f[a]===void 0&&(f[a]=o[a]);return Fe.vnode&&Fe.vnode(c),c}const HE={sapphireJsonRpc:"",sapphireChainId:-1},My=cg({}),GE=({children:r})=>{const[t,e]=vi({...HE});Eh(()=>{const{VITE_SAPPHIRE_JSONRPC:i,VITE_SAPPHIRE_CHAIN_ID:s}={VITE_SAPPHIRE_JSONRPC:"https://testnet.sapphire.oasis.dev",VITE_SAPPHIRE_CHAIN_ID:"0x5aff",BASE_URL:"/authzn-demo",MODE:"production",DEV:!1,PROD:!0,SSR:!1};e({sapphireJsonRpc:i,sapphireChainId:parseInt(s,16)})},[]);const n={state:t};return Ht(My.Provider,{value:n,children:r})},Oy=()=>{const r=hg(My);if(r===void 0)throw new Error("[useConfig] Component not wrapped within a Provider");return r},zE={isConnected:!1,ethProvider:null,sapphireEthProvider:null},Uy=cg({}),VE=({children:r})=>{const{state:{sapphireChainId:t,sapphireJsonRpc:e,sapphireFaucetWalletPrivateKey:n}}=Oy(),[i,s]=vi({...zE});Eh(()=>{if(!(!t||!e))try{const h=new Mh(e),d=dh(h);s(m=>({...m,isConnected:!0,ethProvider:h,sapphireEthProvider:d}))}catch{throw s(d=>({...d,isConnected:!1})),new Error("[EthereumContext] Unable to initialize providers!")}},[t,e]);const o=()=>{const{sapphireEthProvider:h}=i;if(!h)throw new Error("[EthereumContext] Provider/s not initialized!");return h},c={state:i,prepareTransferTransaction:async(h=Ng,d,m)=>{const w=o(),I=await new Ph(h,w).populateTransaction({from:h,to:d,value:$A(m,"ether"),gasLimit:1e6}),K=Object.entries(I).reduce((D,Z)=>{const[$,xt]=Z,X=Et.isBigNumber(xt)?xt.toString():xt;return{...D,[$]:X}},{});return JSON.stringify(K)},broadcastTxToNetwork:async h=>{const d=o(),m=await d.send("eth_sendRawTransaction",[h]);return await d.waitForTransaction(m),await d.getTransaction(m)}};return Ht(Uy.Provider,{value:c,children:r})},Dy=()=>{const r=hg(Uy);if(r===void 0)throw new Error("[useEthereum] Component not wrapped within a Provider");return r},QE=({address:r,ticker:t="ROSE"})=>{const[e,n]=vi(null),{state:{sapphireEthProvider:i}}=Dy();return Eh(()=>{(async()=>{const o=await(i==null?void 0:i.getBalance(r))??null;n(o)})()},[r]),Ht("span",{children:[e!==null&&Ht(Ni,{children:[Ht("b",{class:tv.balance,children:`${XA(e)}`})," ",t]}),e===null&&"\\_()_/"]})},ac=class{};ac.TESTNET_SAPPHIRE_FAUCET_URL="https://faucet.testnet.oasis.dev/?paratime=sapphire";ac.EXPLORER_SAPPHIRE_TESTNET_URL="https://explorer.oasis.io/testnet/sapphire";ac.EXPLORER_SAPPHIRE_TESTNET_TX_URL=`${ac.EXPLORER_SAPPHIRE_TESTNET_URL}/tx/`;let Ly=ac;const KE=({children:r})=>{const{state:{sapphireChainId:t}}=Oy(),e=async()=>{window.open(Ly.TESTNET_SAPPHIRE_FAUCET_URL,"_blank","noopener,noreferrer,resizable")};return t!==23295?Ht(Ni,{}):Ht(Ni,{children:[Ht("button",{onClick:e,children:"Top up your balance"}),r]})},JE="_address_1p8ca_1",jE={address:JE},YE=({address:r})=>Ht("span",{children:[r&&Ht("b",{class:jE.address,children:Bn(r)}),!r&&"\\_()_/"]}),qE="_message_lh8h9_1",WE="_success_lh8h9_19",$E="_error_lh8h9_23",XE="_info_lh8h9_27",$p={message:qE,success:WE,error:$E,info:XE},Xp=({type:r,children:t})=>Ht("div",{class:[$p.message,$p[r]].join(" "),children:t}),ZE="_sendTransactionForm_lcee0_1",tF="_form_lcee0_9",eF="_submit_lcee0_19",i0={sendTransactionForm:ZE,form:tF,submit:eF},rF=({senderAddress:r})=>{const{state:{sapphireEthProvider:t},prepareTransferTransaction:e,broadcastTxToNetwork:n}=Dy(),[i,s]=vi(!1),[o,a]=vi(""),[f,c]=vi({to:"",amount:""}),[h,d]=vi(!1),[m,w]=vi({type:"success",value:""}),[F,I]=vi(""),K=em(()=>{const{to:X,amount:M}=f;return X?Cm(X)?X===r?(w({type:"error",value:"Recipient address should differ your own address!"}),!1):M?(w({type:"success",value:""}),!0):(w({type:"error",value:"Amount is required!"}),!1):(w({type:"error",value:"Not a valid recipient address!"}),!1):(w({type:"error",value:"Recipient is required!"}),!1)},[f]),D=X=>{X.target instanceof HTMLInputElement&&c(M=>({...M,[X.target.name]:X.target.value}))},Z=async X=>{if(X.preventDefault(),h||d(!0),!K)return;s(!0),w({type:"info",value:"Please wait..."});const{amount:M,to:at}=f,it=await(t==null?void 0:t.getBalance(r))??Et.from(0),ft=Et.from(M);it.lt(ft)&&w({type:"error",value:"Insufficient balance!"});const Ct=await e(r,at,M);try{const{signedTransaction:gt}=await Zy(Ct);I(gt),w({type:"success",value:""})}catch{w({type:"error",value:"Signing failed!"})}finally{s(!1)}},$=async()=>{s(!0),w({type:"info",value:"Please wait..."});try{const X=await n(F);a(X.hash),console.log("Broadcasted tx:",X)}catch(X){console.error(X)}finally{w({type:"success",value:"Transaction successfully completed!"}),s(!1)}},xt=()=>{window.open(`${Ly.EXPLORER_SAPPHIRE_TESTNET_TX_URL}${o}`,"_blank","noopener,noreferrer")};return Ht("div",{class:i0.sendTransactionForm,children:[Ht("h2",{children:"Transfer"}),!F&&Ht("div",{children:Ht("form",{class:i0.form,onSubmit:Z,novalidate:!0,children:[Ht("div",{children:Ht("input",{type:"text",name:"to",placeholder:"Recipient",value:f.to,onInput:D})}),Ht("div",{children:Ht("input",{type:"number",name:"amount",placeholder:"Amount",value:f.amount,min:"1",step:"1",onInput:D})}),Ht("div",{class:i0.submit,children:[h&&Ht(Xp,{type:m.type,children:m.value}),Ht("button",{type:"submit",disabled:i,children:"Send"})]})]})}),F&&!o&&Ht("div",{children:[Ht("p",{children:"In order for the transaction to be completed, you need to first broadcast it to the network, by clicking the button bellow"}),Ht("div",{className:i0.submit,children:[h&&Ht(Xp,{type:m.type,children:m.value}),Ht("button",{type:"button",onClick:$,disabled:i,children:"Broadcast to network"})]})]}),o&&Ht("div",{children:[Ht("p",{children:["Transaction has been completed with hash ",Ht("b",{children:o})]}),Ht("button",{type:"button",onClick:xt,disabled:i,children:"Navigate to explorer"})]})]})},nF=()=>{const[r,t]=vi(null),e=async()=>{const i=await $y();t(i)},n=async()=>{const i=await Xy();t(i)};return Ht(Ni,{children:[Ht("h1",{children:"Authzn Demo"}),Ht("div",{className:"card",children:[!r&&Ht(Ni,{children:[Ht("button",{onClick:e,children:"Register"}),"Already have an account?",Ht("button",{onClick:n,children:"Login"})]}),r&&Ht(Ni,{children:[Ht("div",{children:[Ht("div",{children:[Ht("p",{children:["Hi ",Ht("b",{children:r.username})]}),Ht("hr",{}),Ht("p",{children:["Your address:",Ht(YE,{address:r.address}),Ht("br",{}),"Your balance:",Ht(QE,{address:r.address})]}),Ht("hr",{})]}),Ht("div",{children:Ht(KE,{children:Ht("hr",{})})})]}),Ht("div",{children:Ht(rF,{senderAddress:r.address})})]})]}),Ht("p",{class:"read-the-docs",children:["This is a demo page, showcasing the ",Ht("b",{children:"authzn-sdk"})," library"]})]})};Yy(Ht(GE,{children:Ht(VE,{children:Ht(nF,{})})}),document.getElementById("app"));
