import{_ as A,o as s,c as a,a as t,d as p,b as e,r as j,e as k,m as H,f as B,w as m,u as J,g as W,h as X,i as h,j as ee,F as $,k as z,l as x,A as E,n as te,v as se,p as re,t as S,q as v,s as ne,x as ae,y as ie,Z as le}from"./index.d3036de1.js";const oe={},ce={width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ue=t("g",{"clip-path":"url(#clip0_35_4428)"},[t("path",{d:"M48.5 8C26.42 8 8.5 25.92 8.5 48C8.5 70.08 26.42 88 48.5 88C70.58 88 88.5 70.08 88.5 48C88.5 25.92 70.58 8 48.5 8ZM40.5 68L20.5 48L26.14 42.36L40.5 56.68L70.86 26.32L76.5 32L40.5 68Z",fill:"#6efffa"})],-1),de=t("defs",null,[t("clipPath",{id:"clip0_35_4428"},[t("rect",{width:"96",height:"96",fill:"white",transform:"translate(0.5)"})])],-1),he=[ue,de];function pe(i,r){return s(),a("svg",ce,he)}const _e=A(oe,[["render",pe]]),fe={class:"success-info"},ye=p({__name:"SuccessInfo",setup(i){return(r,l)=>(s(),a("div",fe,[e(_e,{class:"mb-4"}),j(r.$slots,"default",{},void 0,!0)]))}});const q=A(ye,[["__scopeId","data-v-23975bbd"]]),xe={},ve={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},we=t("g",{"clip-path":"url(#clip0_56_971)"},[t("path",{d:"M12 7.1333C9.24 7.1333 7 9.3733 7 12.1333C7 14.8933 9.24 17.1333 12 17.1333C14.76 17.1333 17 14.8933 17 12.1333C17 9.3733 14.76 7.1333 12 7.1333ZM12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z",fill:"currentColor"})],-1),ge=t("defs",null,[t("clipPath",{id:"clip0_56_971"},[t("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.133301)"})])],-1),me=[we,ge];function Ce(i,r){return s(),a("svg",ve,me)}const be=A(xe,[["render",Ce]]),ke={},$e={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Se=t("g",{"clip-path":"url(#clip0_56_273)"},[t("path",{d:"M12 2.1333C6.48 2.1333 2 6.6133 2 12.1333C2 17.6533 6.48 22.1333 12 22.1333C17.52 22.1333 22 17.6533 22 12.1333C22 6.6133 17.52 2.1333 12 2.1333ZM12 20.1333C7.58 20.1333 4 16.5533 4 12.1333C4 7.7133 7.58 4.1333 12 4.1333C16.42 4.1333 20 7.7133 20 12.1333C20 16.5533 16.42 20.1333 12 20.1333Z",fill:"currentColor"})],-1),Be=t("defs",null,[t("clipPath",{id:"clip0_56_273"},[t("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.133301)"})])],-1),Ae=[Se,Be];function Ve(i,r){return s(),a("svg",$e,Ae)}const Me=A(ke,[["render",Ve]]);var K=function(){return Math.random().toString(36).substring(2)},C=p({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(r){var l=k(function(){return r.uniqueKey?"".concat(r.uniqueKey,"-idClip"):K()}),_=k(function(){return r.uniqueKey?"".concat(r.uniqueKey,"-idGradient"):K()}),f=k(function(){var c;return(c=r.width)!==null&&c!==void 0?c:400}),g=k(function(){var c;return(c=r.height)!==null&&c!==void 0?c:130}),b=k(function(){var c;return(c=r.viewBox)!==null&&c!==void 0?c:"0 0 ".concat(f.value," ").concat(g.value)});return{idClip:l,idGradient:_,computedViewBox:b}},render:function(){return e("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[e("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),e("defs",null,[e("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():e("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),e("linearGradient",{id:this.idGradient},[e("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});p(function(i,r){var l=r.attrs;return function(){return e(C,l,{default:function(){return[e("circle",{cx:"10",cy:"20",r:"8"},null),e("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"},null),e("circle",{cx:"10",cy:"50",r:"8"},null),e("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"},null),e("circle",{cx:"10",cy:"80",r:"8"},null),e("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"},null),e("circle",{cx:"10",cy:"110",r:"8"},null),e("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"},null)]}})}});p(function(i,r){var l=r.attrs;return function(){return e(C,l,{default:function(){return[e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"},null),e("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"},null),e("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"},null),e("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),e("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),e("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"},null),e("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),e("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"},null)]}})}});p(function(i,r){var l=r.attrs;return function(){return e(C,l,{default:function(){return[e("rect",{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"},null),e("rect",{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"},null),e("rect",{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"},null),e("rect",{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"},null),e("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"},null),e("circle",{cx:"30",cy:"30",r:"30"},null)]}})}});p(function(i,r){var l=r.attrs;return function(){return e(C,l,{default:function(){return[e("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null),e("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"},null),e("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"},null),e("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null),e("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"},null),e("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"},null)]}})}});p(function(i,r){var l=r.attrs;return function(){return e(C,H(l,{viewBox:"0 0 400 480"}),{default:function(){return[e("circle",{cx:"30",cy:"30",r:"30"},null),e("rect",{x:"75",y:"13",rx:"4",ry:"4",width:"100",height:"13"},null),e("rect",{x:"75",y:"37",rx:"4",ry:"4",width:"50",height:"8"},null),e("rect",{x:"0",y:"70",rx:"5",ry:"5",width:"400",height:"400"},null)]}})}});const Le=t("rect",{x:"5",y:"10",rx:"3",ry:"3",width:"361",height:"28"},null,-1),Ne=t("rect",{x:"5",y:"26",rx:"3",ry:"3",width:"52",height:"6"},null,-1),Oe=t("rect",{x:"5",y:"61",rx:"3",ry:"3",width:"410",height:"16"},null,-1),ze=t("rect",{x:"680",y:"10",rx:"0",ry:"0",width:"80",height:"19"},null,-1),Qe=p({__name:"QuizDetailsLoader",setup(i){return(r,l)=>(s(),B(J(C),{viewBox:"0 0 768 124",speed:2,primaryColor:"white",secondaryColor:"#e3e3e3"},{default:m(()=>[Le,Ne,Oe,ze]),_:1}))}}),w=i=>(ae("data-v-390babc5"),i=i(),ie(),i),Te={key:0,class:"text-red-500 px-3 mt-5 rounded-xl-sm"},Ze=w(()=>t("span",{class:"font-bold"},"Error:",-1)),Ee={key:1},De={key:0},Ge={style:{cursor:"default"},class:"text-white text-base mb-5"},Re={key:0},Ie={key:0},qe={key:1},Ke={class:"flex gap-2"},Pe={class:"align-middle"},Ue={class:"leading-6 normal-case text-left"},Fe={key:0,class:"text-red-500 px-3 mt-5 rounded-xl-sm"},Ye=w(()=>t("span",{class:"font-bold"},"Error:",-1)),je={class:"flex justify-between items-start mt-6 mb-20"},He={key:0},Je={key:1},We={key:2,class:"pt-5"},Xe=w(()=>t("h2",{class:"text-2xl text-white text-base mb-5 mt-10"},"You Solved the Quiz!",-1)),et=w(()=>t("p",{class:"text-white text-base mb-5 mt-10"},[v(" To claim the reward, enter your account address below. You will receive ROSE on the "),t("a",{href:"https://docs.oasis.io/dapp/sapphire/#chain-information",target:"_blank"},"Oasis Sapphire Mainnet"),v(" chain. ")],-1)),tt={class:"form-group"},st=w(()=>t("label",{for:"addressText",class:"peer-focus:text-primaryDark peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-5"},[v(" Your address (0x...): "),t("span",{class:"text-red-500"},"*")],-1)),rt={key:0,class:"normal-case"},nt={key:1,class:"normal-case"},at={key:3},it=w(()=>t("h3",{class:"text-white text-3xl mb-10"},"Reward claimed!",-1)),lt=w(()=>t("p",{class:"text-white"},[v(" Check out our "),t("a",{href:"https://docs.oasis.io/dapp/sapphire/quickstart",target:"_blank"},"Oasis Sapphire quickstart"),v(" and start building! ")],-1)),ot=w(()=>t("p",{class:"text-white"},[v(" If you need help, contact us on the Oasis "),t("a",{href:"https://oasis.io/discord",target:"_blank"},"#dev-central Discord channel"),v(". ")],-1)),ct=p({__name:"QuizView",props:{coupon:null},setup(i){const r=i,l=W(),_=X(),f=h([]),g=h(!1),b=h(!1),c=h(!1),V=h([]),y=h([]),D=h(!1),Q=h([]),M=h(""),G=h(!1),R=h(!1),T=h(!1),L=h(!1);function Z(o,u){f.value=Array(),f.value.push(`${u}`),console.error(o)}async function P(o,u){y.value[o]=BigInt(u);let n=!0;for(let d=0;d<y.value.length;d++)if(y.value[d]===void 0){n=!1;break}D.value=n}async function U(){const[o,u]=await l.value.checkAnswers(r.coupon,y.value,le);let n=!0;for(let d=0;d<o.length;d++)if(!o[d]){n=!1;break}R.value=!0,T.value=n,Q.value=o}async function F(){try{g.value=!0,V.value=await l.value.getQuestions(r.coupon),y.value=Array(V.value.length),G.value=!0}catch(o){Z(o,"Coupon not valid")}finally{g.value=!1}}async function Y(o){if(o.target instanceof HTMLFormElement&&(o.target.checkValidity(),!o.target.reportValidity()))return;o.preventDefault();let u=0;for(;!L.value&&u<100;)try{c.value=!0,console.log(M.value);const[n,d]=await l.value.checkAnswers(r.coupon,y.value,re(M.value));console.log(n),console.log(d);let N=await(await _.provider.broadcastTransaction(d)).wait();console.log("receipt.status: "+N.status),N.status==1&&(L.value=!0)}catch(n){++u==100&&Z(n,"Error while claiming the reward")}c.value=!1}async function I(o){o.preventDefault();try{b.value=!0,await U()}catch(u){Z(u.reason,u.message)}finally{b.value=!1}}return ee(async()=>{await F()}),(o,u)=>(s(),a($,null,[f.value.length>0?(s(),a("div",Te,[Ze,(s(!0),a($,null,z(f.value,n=>(s(),a("div",{key:n},S(n),1))),128))])):x("",!0),G.value&&!T.value?(s(),a("section",Ee,[V.value?(s(),a("div",De,[t("form",{onSubmit:I},[(s(!0),a($,null,z(Object.entries(V.value),([n,d])=>(s(),a("fieldset",{class:"mb-5",key:n},[t("p",Ge,[v(S(parseInt(n)+1)+". "+S(d.question)+" ",1),R.value?(s(),a("span",Re,[Q.value[n]?(s(),a("span",Ie,"\u2705")):x("",!0),Q.value[n]?x("",!0):(s(),a("span",qe,"\u274C"))])):x("",!0)]),(s(!0),a($,null,z(d.choices,(N,O)=>(s(),B(E,{key:O,class:ne([{selected:y.value[n]===O,"pointer-events-none":g.value},"choice-btn mb-2 w-full"]),variant:"choice",onClick:ut=>P(n,O)},{default:m(()=>[t("span",Ke,[t("div",Pe,[y.value[n]===BigInt(O)?(s(),B(be,{key:0})):(s(),B(Me,{key:1}))]),t("span",Ue,S(N),1)])]),_:2},1032,["class","onClick"]))),128))]))),128)),f.value.length>0?(s(),a("div",Fe,[Ye,(s(!0),a($,null,z(f.value,n=>(s(),a("div",{key:n},S(n),1))),128))])):x("",!0),t("div",je,[e(E,{type:"submit",variant:"primary",disabled:g.value||!D.value,onClick:I},{default:m(()=>[b.value?(s(),a("span",He,"Checking answers\u2026")):(s(),a("span",Je,"Check my answers"))]),_:1},8,["disabled"])])],32)])):(s(),B(Qe,{key:1}))])):x("",!0),T.value&&!L.value?(s(),a("section",We,[e(q,null,{default:m(()=>[Xe]),_:1}),et,t("form",{onSubmit:Y},[t("div",tt,[te(t("input",{type:"text",id:"addressText",class:"peer",placeholder:" ","onUpdate:modelValue":u[0]||(u[0]=n=>M.value=n),pattern:"^(0x)?[0-9a-fA-F]{40}$",required:""},null,512),[[se,M.value]]),st]),e(E,{class:"mb-20 no-capitalize",type:"submit",variant:"primary",disabled:c.value},{default:m(()=>[c.value?(s(),a("span",rt,"Generating transaction and sending reward\u2026")):(s(),a("span",nt,"Claim your reward"))]),_:1},8,["disabled"])],32)])):x("",!0),L.value?(s(),a("section",at,[e(q,{class:"mb-20"},{default:m(()=>[it,lt,ot]),_:1})])):x("",!0)],64))}});const ht=A(ct,[["__scopeId","data-v-390babc5"]]);export{ht as default};
//# sourceMappingURL=QuizView.c7fe0d49.js.map
